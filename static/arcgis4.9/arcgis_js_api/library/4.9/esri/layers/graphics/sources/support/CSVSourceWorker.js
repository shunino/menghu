// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.9/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(b,a){function r(a){return function(b){return f([a,b])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;k;)try{if(n=1,l&&(c=h[0]&2?l["return"]:h[0]?l["throw"]||((c=l["return"])&&c.call(l),0):l.next)&&!(c=c.call(l,h[1])).done)return c;if(l=0,c)h=[h[0]&2,c.value];switch(h[0]){case 0:case 1:c=h;break;case 4:return k.label++,{value:h[1],done:!1};case 5:k.label++;l=h[1];h=
[0];continue;case 7:h=k.ops.pop();k.trys.pop();continue;default:if(!(c=k.trys,c=0<c.length&&c[c.length-1])&&(6===h[0]||2===h[0])){k=0;continue}if(3===h[0]&&(!c||h[1]>c[0]&&h[1]<c[3]))k.label=h[1];else if(6===h[0]&&k.label<c[1])k.label=c[1],c=h;else if(c&&k.label<c[2])k.label=c[2],k.ops.push(h);else{c[2]&&k.ops.pop();k.trys.pop();continue}}h=a.call(b,k)}catch(d){h=[6,d],l=0}finally{n=c=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}var k={label:0,sent:function(){if(c[0]&1)throw c[1];
return c[1]},trys:[],ops:[]},n,l,c,g;return g={next:r(0),"throw":r(1),"return":r(2)},"function"===typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g}})},"@dojo/framework/shim/Set":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./support/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",
{value:!0});var r=b("tslib"),f=b("./global"),k=b("./iterator"),n=b("./support/has");b("./Symbol");a.Set=f.default.Set;n.default("es6-set")||(a.Set=(l=function(){function a(a){this._setData=[];this[Symbol.toStringTag]="Set";if(a)if(k.isArrayLike(a))for(var b=0;b<a.length;b++)this.add(a[b]);else try{for(var b=r.__values(a),c=b.next();!c.done;c=b.next())this.add(c.value)}catch(t){g={error:t}}finally{try{c&&!c.done&&(z=b.return)&&z.call(b)}finally{if(g)throw g.error;}}var g,z}a.prototype.add=function(a){if(this.has(a))return this;
this._setData.push(a);return this};a.prototype.clear=function(){this._setData.length=0};a.prototype.delete=function(a){a=this._setData.indexOf(a);if(-1===a)return!1;this._setData.splice(a,1);return!0};a.prototype.entries=function(){return new k.ShimIterator(this._setData.map(function(a){return[a,a]}))};a.prototype.forEach=function(a,b){for(var c=this.values(),h=c.next();!h.done;)a.call(b,h.value,h.value,this),h=c.next()};a.prototype.has=function(a){return-1<this._setData.indexOf(a)};a.prototype.keys=
function(){return new k.ShimIterator(this._setData)};Object.defineProperty(a.prototype,"size",{get:function(){return this._setData.length},enumerable:!0,configurable:!0});a.prototype.values=function(){return new k.ShimIterator(this._setData)};a.prototype[Symbol.iterator]=function(){return new k.ShimIterator(this._setData)};return a}(),l[Symbol.species]=l,l));a.default=a.Set;var l})},"tslib/tslib":function(){var b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y;(function(e){function p(e,p){e!==a&&("function"===
typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0);return function(a,b){return e[a]=p?p(a,b):b}}var a="object"===typeof global?global:"object"===typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(b){e(p(a,p(b)))}):"object"===typeof module&&"object"===typeof module.exports?e(p(a,p(module.exports))):e(p(a))})(function(e){var p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,
p){e.__proto__=p}||function(e,p){for(var a in p)p.hasOwnProperty(a)&&(e[a]=p[a])};b=function(e,a){function b(){this.constructor=e}p(e,a);e.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b)};a=Object.assign||function(e){for(var p,a=1,b=arguments.length;a<b;a++){p=arguments[a];for(var c in p)Object.prototype.hasOwnProperty.call(p,c)&&(e[c]=p[c])}return e};r=function(e,p){var a={},b;for(b in e)Object.prototype.hasOwnProperty.call(e,b)&&0>p.indexOf(b)&&(a[b]=e[b]);if(null!=e&&"function"===
typeof Object.getOwnPropertySymbols){var c=0;for(b=Object.getOwnPropertySymbols(e);c<b.length;c++)0>p.indexOf(b[c])&&(a[b[c]]=e[b[c]])}return a};f=function(e,p,a,b){var c=arguments.length,m=3>c?p:null===b?b=Object.getOwnPropertyDescriptor(p,a):b,x;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)m=Reflect.decorate(e,p,a,b);else for(var d=e.length-1;0<=d;d--)if(x=e[d])m=(3>c?x(m):3<c?x(p,a,m):x(p,a))||m;return 3<c&&m&&Object.defineProperty(p,a,m),m};k=function(e,p){return function(a,
b){p(a,b,e)}};n=function(e,p){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,p)};l=function(e,p,a,b){return new (a||(a=Promise))(function(c,m){function x(e){try{h(b.next(e))}catch(M){m(M)}}function d(e){try{h(b["throw"](e))}catch(M){m(M)}}function h(e){e.done?c(e.value):(new a(function(p){p(e.value)})).then(x,d)}h((b=b.apply(e,p||[])).next())})};c=function(e,p){function a(e){return function(p){return b([e,p])}}function b(a){if(m)throw new TypeError("Generator is already executing.");
for(;c;)try{if(m=1,x&&(d=a[0]&2?x["return"]:a[0]?x["throw"]||((d=x["return"])&&d.call(x),0):x.next)&&!(d=d.call(x,a[1])).done)return d;if(x=0,d)a=[a[0]&2,d.value];switch(a[0]){case 0:case 1:d=a;break;case 4:return c.label++,{value:a[1],done:!1};case 5:c.label++;x=a[1];a=[0];continue;case 7:a=c.ops.pop();c.trys.pop();continue;default:if(!(d=c.trys,d=0<d.length&&d[d.length-1])&&(6===a[0]||2===a[0])){c=0;continue}if(3===a[0]&&(!d||a[1]>d[0]&&a[1]<d[3]))c.label=a[1];else if(6===a[0]&&c.label<d[1])c.label=
d[1],d=a;else if(d&&c.label<d[2])c.label=d[2],c.ops.push(a);else{d[2]&&c.ops.pop();c.trys.pop();continue}}a=p.call(e,c)}catch(M){a=[6,M],x=0}finally{m=d=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}var c={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},m,x,d,h;return h={next:a(0),"throw":a(1),"return":a(2)},"function"===typeof Symbol&&(h[Symbol.iterator]=function(){return this}),h};g=function(e,p){for(var a in e)p.hasOwnProperty(a)||(p[a]=e[a])};h=function(e){var p=
"function"===typeof Symbol&&e[Symbol.iterator],a=0;return p?p.call(e):{next:function(){e&&a>=e.length&&(e=void 0);return{value:e&&e[a++],done:!e}}}};d=function(e,p){var a="function"===typeof Symbol&&e[Symbol.iterator];if(!a)return e;e=a.call(e);var b,c=[],m;try{for(;(void 0===p||0<p--)&&!(b=e.next()).done;)c.push(b.value)}catch(P){m={error:P}}finally{try{b&&!b.done&&(a=e["return"])&&a.call(e)}finally{if(m)throw m.error;}}return c};v=function(){for(var e=[],p=0;p<arguments.length;p++)e=e.concat(d(arguments[p]));
return e};z=function(e){return this instanceof z?(this.v=e,this):new z(e)};t=function(e,p,a){function b(e){h[e]&&(g[e]=function(p){return new Promise(function(a,b){1<t.push([e,p,a,b])||c(e,p)})})}function c(e,p){try{var a=h[e](p);a.value instanceof z?Promise.resolve(a.value.v).then(m,x):d(t[0][2],a)}catch(U){d(t[0][3],U)}}function m(e){c("next",e)}function x(e){c("throw",e)}function d(e,p){(e(p),t.shift(),t.length)&&c(t[0][0],t[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");
var h=a.apply(e,p||[]),g,t=[];return g={},b("next"),b("throw"),b("return"),g[Symbol.asyncIterator]=function(){return this},g};B=function(e){function p(p,c){a[p]=e[p]?function(a){return(b=!b)?{value:z(e[p](a)),done:"return"===p}:c?c(a):a}:c}var a,b;return a={},p("next"),p("throw",function(e){throw e;}),p("return"),a[Symbol.iterator]=function(){return this},a};A=function(e){function p(p){c[p]=e[p]&&function(b){return new Promise(function(c,m){b=e[p](b);a(c,m,b.done,b.value)})}}function a(e,p,a,b){Promise.resolve(b).then(function(p){e({value:p,
done:a})},p)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=e[Symbol.asyncIterator],c;return b?b.call(e):(e="function"===typeof h?h(e):e[Symbol.iterator](),c={},p("next"),p("throw"),p("return"),c[Symbol.asyncIterator]=function(){return this},c)};w=function(e,p){Object.defineProperty?Object.defineProperty(e,"raw",{value:p}):e.raw=p;return e};m=function(e){if(e&&e.__esModule)return e;var p={};if(null!=e)for(var a in e)Object.hasOwnProperty.call(e,a)&&(p[a]=
e[a]);p["default"]=e;return p};y=function(e){return e&&e.__esModule?e:{"default":e}};e("__extends",b);e("__assign",a);e("__rest",r);e("__decorate",f);e("__param",k);e("__metadata",n);e("__awaiter",l);e("__generator",c);e("__exportStar",g);e("__values",h);e("__read",d);e("__spread",v);e("__await",z);e("__asyncGenerator",t);e("__asyncDelegator",B);e("__asyncValues",A);e("__makeTemplateObject",w);e("__importStar",m);e("__importDefault",y)})},"@dojo/framework/shim/global":function(){(function(b){"object"===
typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports"],b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}();a.default=b})},"@dojo/framework/shim/iterator":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?
(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],b)})(function(b,a){function r(a){return a&&"function"===typeof a[Symbol.iterator]}function f(a){return a&&"number"===typeof a.length}function k(a){if(r(a))return a[Symbol.iterator]();if(f(a))return new c(a)}Object.defineProperty(a,"__esModule",{value:!0});b("./Symbol");var n=b("./string"),l={done:!0,value:void 0},c=function(){function a(a){this._nextIndex=
-1;r(a)?this._nativeIterator=a[Symbol.iterator]():this._list=a}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:l:l};a.prototype[Symbol.iterator]=function(){return this};return a}();a.ShimIterator=c;a.isIterable=r;a.isArrayLike=f;a.get=k;a.forOf=function(a,b,c){function d(){h=!0}var h=!1;if(f(a)&&"string"===typeof a)for(var g=a.length,l=0;l<g;++l){var A=a[l];if(l+1<g){var w=
A.charCodeAt(0);w>=n.HIGH_SURROGATE_MIN&&w<=n.HIGH_SURROGATE_MAX&&(A+=a[++l])}b.call(c,A,a,d);if(h)break}else if(g=k(a))for(l=g.next();!l.done;){b.call(c,l.value,a,d);if(h)break;l=g.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","./support/has","./global","./support/util"],b)})(function(b,a){function r(a){return a&&
("symbol"===typeof a||"Symbol"===a["@@toStringTag"])||!1}Object.defineProperty(a,"__esModule",{value:!0});var f=b("./support/has"),k=b("./global"),n=b("./support/util");a.Symbol=k.default.Symbol;if(!f.default("es6-symbol")){var l=function(a){if(!r(a))throw new TypeError(a+" is not a symbol");return a},c=Object.defineProperties,g=Object.defineProperty,h=Object.create,d=Object.prototype,v={},z=function(){var a=h(null);return function(b){for(var c=0,m;a[String(b)+(c||"")];)++c;b+=String(c||"");a[b]=
!0;m="@@"+b;Object.getOwnPropertyDescriptor(d,m)||g(d,m,{set:function(a){g(this,m,n.getValueDescriptor(a))}});return m}}(),t=function A(a){if(this instanceof t)throw new TypeError("TypeError: Symbol is not a constructor");return A(a)};a.Symbol=k.default.Symbol=function w(a){if(this instanceof w)throw new TypeError("TypeError: Symbol is not a constructor");var b=Object.create(t.prototype);a=void 0===a?"":String(a);return c(b,{__description__:n.getValueDescriptor(a),__name__:n.getValueDescriptor(z(a))})};
g(a.Symbol,"for",n.getValueDescriptor(function(b){return v[b]?v[b]:v[b]=a.Symbol(String(b))}));c(a.Symbol,{keyFor:n.getValueDescriptor(function(a){var b;l(a);for(b in v)if(v[b]===a)return b}),hasInstance:n.getValueDescriptor(a.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:n.getValueDescriptor(a.Symbol.for("isConcatSpreadable"),!1,!1),iterator:n.getValueDescriptor(a.Symbol.for("iterator"),!1,!1),match:n.getValueDescriptor(a.Symbol.for("match"),!1,!1),observable:n.getValueDescriptor(a.Symbol.for("observable"),
!1,!1),replace:n.getValueDescriptor(a.Symbol.for("replace"),!1,!1),search:n.getValueDescriptor(a.Symbol.for("search"),!1,!1),species:n.getValueDescriptor(a.Symbol.for("species"),!1,!1),split:n.getValueDescriptor(a.Symbol.for("split"),!1,!1),toPrimitive:n.getValueDescriptor(a.Symbol.for("toPrimitive"),!1,!1),toStringTag:n.getValueDescriptor(a.Symbol.for("toStringTag"),!1,!1),unscopables:n.getValueDescriptor(a.Symbol.for("unscopables"),!1,!1)});c(t.prototype,{constructor:n.getValueDescriptor(a.Symbol),
toString:n.getValueDescriptor(function(){return this.__name__},!1,!1)});c(a.Symbol.prototype,{toString:n.getValueDescriptor(function(){return"Symbol ("+l(this).__description__+")"}),valueOf:n.getValueDescriptor(function(){return l(this)})});g(a.Symbol.prototype,a.Symbol.toPrimitive,n.getValueDescriptor(function(){return l(this)}));g(a.Symbol.prototype,a.Symbol.toStringTag,n.getValueDescriptor("Symbol",!1,!1,!0));g(t.prototype,a.Symbol.toPrimitive,n.getValueDescriptor(a.Symbol.prototype[a.Symbol.toPrimitive],
!1,!1,!0));g(t.prototype,a.Symbol.toStringTag,n.getValueDescriptor(a.Symbol.prototype[a.Symbol.toStringTag],!1,!1,!0))}a.isSymbol=r;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(b){a.Symbol[b]||Object.defineProperty(a.Symbol,b,n.getValueDescriptor(a.Symbol.for(b),!1,!1))});a.default=a.Symbol})},"@dojo/framework/shim/support/has":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?
(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ../../has/has ../global ../../has/has".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var r=b("tslib"),f=b("../../has/has"),k=b("../global");a.default=f.default;r.__exportStar(b("../../has/has"),a);f.add("es6-array",function(){return["from","of"].every(function(a){return a in k.default.Array})&&["findIndex","find","copyWithin"].every(function(a){return a in
k.default.Array.prototype})},!0);f.add("es6-array-fill",function(){return"fill"in k.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);f.add("es7-array",function(){return"includes"in k.default.Array.prototype},!0);f.add("es6-map",function(){if("function"===typeof k.default.Map)try{var a=new k.default.Map([[0,1]]);return a.has(0)&&"function"===typeof a.keys&&f.default("es6-symbol")&&"function"===typeof a.values&&"function"===typeof a.entries}catch(c){}return!1},!0);f.add("es6-math",
function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(a){return"function"===typeof k.default.Math[a]})},!0);f.add("es6-math-imul",function(){return"imul"in k.default.Math?-5===Math.imul(4294967295,5):!1},!0);f.add("es6-object",function(){return f.default("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(a){return"function"===typeof k.default.Object[a]})},!0);f.add("es2017-object",
function(){return["values","entries","getOwnPropertyDescriptors"].every(function(a){return"function"===typeof k.default.Object[a]})},!0);f.add("es-observable",function(){return"undefined"!==typeof k.default.Observable},!0);f.add("es6-promise",function(){return"undefined"!==typeof k.default.Promise&&f.default("es6-symbol")},!0);f.add("es6-set",function(){if("function"===typeof k.default.Set){var a=new k.default.Set([1]);return a.has(1)&&"keys"in a&&"function"===typeof a.keys&&f.default("es6-symbol")}return!1},
!0);f.add("es6-string",function(){return["fromCodePoint"].every(function(a){return"function"===typeof k.default.String[a]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(a){return"function"===typeof k.default.String.prototype[a]})},!0);f.add("es6-string-raw",function(){function a(a){for(var b=1;b<arguments.length;b++);b=r.__spread(a);b.raw=a.raw;return b}if("raw"in k.default.String){var b=a(n||(n=r.__makeTemplateObject(["a\n",""],["a\\n",""])),1);b.raw=["a\\n"];
return"a:\\n"===k.default.String.raw(b,42)}return!1},!0);f.add("es2017-string",function(){return["padStart","padEnd"].every(function(a){return"function"===typeof k.default.String.prototype[a]})},!0);f.add("es6-symbol",function(){return"undefined"!==typeof k.default.Symbol&&"symbol"===typeof Symbol()},!0);f.add("es6-weakmap",function(){if("undefined"!==typeof k.default.WeakMap){var a={},b={},g=new k.default.WeakMap([[a,1]]);Object.freeze(a);return 1===g.get(a)&&g.set(b,2)===g&&f.default("es6-symbol")}return!1},
!0);f.add("microtasks",function(){return f.default("es6-promise")||f.default("host-node")||f.default("dom-mutationobserver")},!0);f.add("postmessage",function(){return"undefined"!==typeof k.default.window&&"function"===typeof k.default.postMessage},!0);f.add("raf",function(){return"function"===typeof k.default.requestAnimationFrame},!0);f.add("setimmediate",function(){return"undefined"!==typeof k.default.setImmediate},!0);f.add("dom-mutationobserver",function(){if(f.default("host-browser")&&(k.default.MutationObserver||
k.default.WebKitMutationObserver)){var a=document.createElement("div"),b=new (k.default.MutationObserver||k.default.WebKitMutationObserver)(function(){});b.observe(a,{attributes:!0});a.style.setProperty("display","block");return!!b.takeRecords().length}return!1},!0);f.add("dom-webanimation",function(){return f.default("host-browser")&&void 0!==k.default.Animation&&void 0!==k.default.KeyframeEffect},!0);f.add("abort-controller",function(){return"undefined"!==typeof k.default.AbortController});f.add("abort-signal",
function(){return"undefined"!==typeof k.default.AbortSignal});var n})},"@dojo/framework/has/has":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports"],b)})(function(b,a){function r(b){b=b.toLowerCase();return!!(b in c||b in a.testCache||a.testFunctions[b])}function f(b,h,d){void 0===d&&(d=!1);var g=b.toLowerCase();if(r(g)&&!d&&!(g in c))throw new TypeError('Feature "'+
b+'" exists and overwrite not true.');"function"===typeof h?a.testFunctions[g]=h:h&&h.then?n[b]=h.then(function(c){a.testCache[b]=c;delete n[b]},function(){delete n[b]}):(a.testCache[g]=h,delete a.testFunctions[g])}function k(b){var h=b.toLowerCase();if(h in c)b=c[h];else if(a.testFunctions[h])b=a.testCache[h]=a.testFunctions[h].call(null),delete a.testFunctions[h];else if(h in a.testCache)b=a.testCache[h];else{if(b in n)return!1;throw new TypeError('Attempt to detect unregistered has feature "'+
b+'"');}return b}Object.defineProperty(a,"__esModule",{value:!0});a.testCache={};a.testFunctions={};var n={};b="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};var l=(b.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in b&&delete b.DojoHasEnvironment;var c=l?"function"===typeof l?l.apply(b):l:{};a.load=function(a,b,c,v){a?b([a],c):c()};a.normalize=function(a,b){function c(a){var b=h[g++];if(":"===b)return null;if("?"===h[g++]){if(!a&&
k(b))return c();c(!0);return c(a)}return b}var h=a.match(/[\?:]|[^:\?]*/g)||[],g=0;return(a=c())&&b(a)};a.exists=r;a.add=f;a.default=k;f("debug",!0);f("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);f("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node})})},"@dojo/framework/shim/support/util":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==
b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports"],b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.getValueDescriptor=function(a,b,k,n){void 0===b&&(b=!1);void 0===k&&(k=!0);void 0===n&&(n=!0);return{value:a,enumerable:b,writable:k,configurable:n}};a.wrapNative=function(a){return function(b){for(var f=[],n=1;n<arguments.length;n++)f[n-1]=arguments[n];return a.apply(b,f)}}})},"@dojo/framework/shim/string":function(){(function(b){"object"===
typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/has ./support/util".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var r=b("tslib"),f=b("./global"),k=b("./support/has");b=b("./support/util");a.HIGH_SURROGATE_MIN=55296;a.HIGH_SURROGATE_MAX=56319;a.LOW_SURROGATE_MIN=56320;a.LOW_SURROGATE_MAX=57343;if(k.default("es6-string")&&k.default("es6-string-raw"))a.fromCodePoint=
f.default.String.fromCodePoint,a.raw=f.default.String.raw,a.codePointAt=b.wrapNative(f.default.String.prototype.codePointAt),a.endsWith=b.wrapNative(f.default.String.prototype.endsWith),a.includes=b.wrapNative(f.default.String.prototype.includes),a.normalize=b.wrapNative(f.default.String.prototype.normalize),a.repeat=b.wrapNative(f.default.String.prototype.repeat),a.startsWith=b.wrapNative(f.default.String.prototype.startsWith);else{var n=function(a,b,g,h,d){void 0===d&&(d=!1);if(null==b)throw new TypeError("string."+
a+" requires a valid string to search against.");a=b.length;return[b,String(g),Math.min(Math.max(h!==h?d?a:0:h,0),a)]};a.fromCodePoint=function(){for(var b=0;b<arguments.length;b++);b=arguments.length;if(!b)return"";for(var c=String.fromCharCode,g=[],h=-1,d="";++h<b;){var v=Number(arguments[h]);if(!(isFinite(v)&&Math.floor(v)===v&&0<=v&&1114111>=v))throw RangeError("string.fromCodePoint: Invalid code point "+v);65535>=v?g.push(v):(v-=65536,g.push((v>>10)+a.HIGH_SURROGATE_MIN,v%1024+a.LOW_SURROGATE_MIN));
if(h+1===b||16384<g.length)d+=c.apply(null,g),g.length=0}return d};a.raw=function(a){for(var b=[],g=1;g<arguments.length;g++)b[g-1]=arguments[g];var g=a.raw,h="",d=b.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var v=0,z=g.length;v<z;v++)h+=g[v]+(v<d&&v<z-1?b[v]:"");return h};a.codePointAt=function(b,c){void 0===c&&(c=0);if(null==b)throw new TypeError("string.codePointAt requries a valid string.");var g=b.length;c!==c&&(c=0);
if(!(0>c||c>=g)){var h=b.charCodeAt(c);return h>=a.HIGH_SURROGATE_MIN&&h<=a.HIGH_SURROGATE_MAX&&g>c+1&&(b=b.charCodeAt(c+1),b>=a.LOW_SURROGATE_MIN&&b<=a.LOW_SURROGATE_MAX)?1024*(h-a.HIGH_SURROGATE_MIN)+b-a.LOW_SURROGATE_MIN+65536:h}};a.endsWith=function(a,b,g){null==g&&(g=a.length);g=r.__read(n("endsWith",a,b,g,!0),3);a=g[0];b=g[1];g=g[2];var c=g-b.length;return 0>c?!1:a.slice(c,g)===b};a.includes=function(a,b,g){void 0===g&&(g=0);g=r.__read(n("includes",a,b,g),3);a=g[0];b=g[1];g=g[2];return-1!==
a.indexOf(b,g)};a.repeat=function(a,b){void 0===b&&(b=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");b!==b&&(b=0);if(0>b||Infinity===b)throw new RangeError("string.repeat requires a non-negative finite count.");for(var c="";b;)b%2&&(c+=a),1<b&&(a+=a),b>>=1;return c};a.startsWith=function(a,b,g){void 0===g&&(g=0);b=String(b);g=r.__read(n("startsWith",a,b,g),3);a=g[0];b=g[1];g=g[2];var c=g+b.length;return c>a.length?!1:a.slice(g,c)===b}}k.default("es2017-string")?(a.padEnd=
b.wrapNative(f.default.String.prototype.padEnd),a.padStart=b.wrapNative(f.default.String.prototype.padStart)):(a.padEnd=function(b,c,g){void 0===g&&(g=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===c)throw new RangeError("string.padEnd requires a non-negative finite count.");if(null===c||void 0===c||0>c)c=0;b=String(b);c-=b.length;0<c&&(b+=a.repeat(g,Math.floor(c/g.length))+g.slice(0,c%g.length));return b},a.padStart=function(b,c,g){void 0===
g&&(g=" ");if(null===b||void 0===b)throw new TypeError("string.repeat requires a valid string.");if(Infinity===c)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===c||void 0===c||0>c)c=0;b=String(b);c-=b.length;0<c&&(b=a.repeat(g,Math.floor(c/g.length))+g.slice(0,c%g.length)+b);return b})})},"dstore/Csv":function(){define(["dojo/_base/lang","dojo/_base/declare"],function(b,a){function r(a,b){var c={},h=a.length,d;for(d=0;d<h;d++)c[a[d]]=b[d];return c}var f=/^\s*"([\S\s]*)"\s*$/,
k=/""/g,n=/"/g;return a(null,{fieldNames:null,delimiter:",",newline:"\r\n",trim:!1,parse:function(a){var c=[];a=a.split(this.newline);var g=this.fieldNames,h=0,d=[],v="",z="",t,B,l,w,m,y,e;m=0;l=a.length;a:for(;m<l;m++)if(b.trim(a[m])){t=a[m].split(this.delimiter);y=0;for(w=t.length;y<w;y++){B=t[y];e=-1;v+=z+B;for(z="";0<=(e=B.indexOf('"',e+1));)h++;if(0===h%2){if(0<h)if(h=f.exec(v))d.push(h[1].replace(k,'"'));else{console.warn("Csv: discarding row with invalid value: "+v);d=[];v="";h=0;continue a}else d.push(this.trim||
!g?b.trim(v):v);v="";h=0}else z=this.delimiter}0===h?(g?c.push(r(g,d)):g=this.fieldNames=d,d=[]):z=this.newline}return c},toCsv:function(a){return this.stringify(this.data,a)},stringify:function(a,b){b=b||{};var c=b.alwaysQuote,h=this.fieldNames,d=this.delimiter,v=this.newline,z="",t,f,k,l;for(t=-1;t<a.length;t++)for(-1<t&&(z+=v),f=0;f<h.length;f++){k=0>t?h[f]:a[t][h[f]];if(null===k||void 0===k)k="";"string"!==typeof k&&(k=k.toString());l=c||0<=k.indexOf('"')||0<=k.indexOf(d);z+=(0<f?d:"")+(l?'"'+
k.replace(n,'""')+'"':k)}b.trailingNewline&&(z+=v);return z}})})},"esri/geometry":function(){define("require exports ./geometry/Extent ./geometry/Geometry ./geometry/Mesh ./geometry/Multipoint ./geometry/Point ./geometry/Polygon ./geometry/Polyline ./geometry/ScreenPoint ./geometry/SpatialReference ./geometry/support/jsonUtils".split(" "),function(b,a,r,f,k,n,l,c,g,h,d,v){Object.defineProperty(a,"__esModule",{value:!0});a.Extent=r;a.BaseGeometry=f;a.Mesh=k;a.Multipoint=n;a.Point=l;a.Polygon=c;a.Polyline=
g;a.ScreenPoint=h;a.SpatialReference=d;a.isGeometry=function(b){return b instanceof a.BaseGeometry};a.fromJSON=v.fromJSON})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(b,a,r,f,k,n,l,c,g,h,d,v,z){function t(a,
b,c){return null==b?c:null==c?b:a(b,c)}b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}r(b,a);B=b;b.prototype.normalizeCtorArgs=function(a,b,e,p,c){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null!=a.spatialReference?a.spatialReference:g.WGS84,a):{xmin:a,ymin:b,xmax:e,ymax:p,spatialReference:null!=
c?c:g.WGS84}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(b.prototype,"center",{get:function(){var a=new c({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},enumerable:!0,configurable:!0});b.prototype.centerAt=
function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new B;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,e=a.spatialReference;b&&e&&!b.equals(e)&&
z.canProject(b,e)&&(a=b.isWebMercator?z.geographicToWebMercator(a):z.webMercatorToGeographic(a,!0));return"point"===a.type?h.extentContainsPoint(this,a):"extent"===a.type?h.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,e=a.spatialReference;b&&e&&!b.equals(e)&&z.canProject(b,e)&&(a=b.isWebMercator?z.geographicToWebMercator(a):z.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&
this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,e=this.height*a;this.xmin+=b;this.ymin+=e;this.xmax-=b;this.ymax-=e;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(!a)return!1;var b=this.spatialReference,e=a.spatialReference;b&&e&&!b.equals(e)&&z.canProject(b,e)&&(a=b.isWebMercator?
z.geographicToWebMercator(a):z.webMercatorToGeographic(a,!0));b=d.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,e){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=e&&(this.zmin+=e,this.zmax+=e);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=function(a){this.xmin=Math.min(this.xmin,
a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=t(Math.min,this.zmin,a.zmin),this.zmax=t(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=t(Math.min,this.mmin,a.mmin),this.mmax=t(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,a.ymin);this.xmax=Math.min(this.xmax,
a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=t(Math.max,this.zmin,a.zmin),this.zmax=t(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=t(Math.max,this.mmin,a.mmin),this.mmax=t(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=v.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,e=this._getCM(a);if(e){var p=b.isWebMercator?
z.webMercatorToGeographic(e):e;this.xmin-=e.x;this.xmax-=e.x;b.isWebMercator||(p.x=this._normalizeX(p.x,a).x);this.spatialReference=new g(k.substitute({Central_Meridian:p.x},b.isWGS84?a.altTemplate:a.wkTemplate))}return this};b.prototype._getCM=function(a){var b=null,e=a.valid;a=e[0];var e=e[1],p=this.xmin,c=this.xmax;p>=a&&p<=e&&c>=a&&c<=e||(b=this.center);return b};b.prototype._normalize=function(a,b,e){var p=this.spatialReference;if(!p)return this;e=e||v.getInfo(p);if(!e)return this;var c=this._getParts(e).map(function(e){return e.extent});
if(2>c.length)return c[0]||this;if(2<c.length)return a?this._shiftCM(e):this.set({xmin:e.valid[0],xmax:e.valid[1]});if(a)return this._shiftCM(e);if(b)return c;var d=!0,h=!0;c.forEach(function(e){e.hasZ||(d=!1);e.hasM||(h=!1)});return{rings:c.map(function(e){var a=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(d)for(var b=(e.zmax-e.zmin)/2,p=0;p<a.length;p++)a[p].push(b);if(h)for(e=(e.mmax-e.mmin)/2,p=0;p<a.length;p++)a[p].push(e);return a}),hasZ:d,hasM:h,spatialReference:p}};
b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],e=this.ymin,p=this.ymax,c=this.spatialReference,d=this.width,h=this.xmin,m=this.xmax,g=void 0;a=a||v.getInfo(c);var t=a.valid,z=t[0],f=t[1],g=this._normalizeX(this.xmin,a),k=g.x,t=g.frameId,g=this._normalizeX(this.xmax,a),l=g.x;a=g.frameId;g=k===l&&0<d;if(d>2*f){d=new B(h<m?k:l,e,f,p,c);h=new B(z,e,h<m?l:k,p,c);m=new B(0,e,f,p,c);e=new B(z,e,0,p,c);p=[];c=[];d.contains(m)&&p.push(t);d.contains(e)&&c.push(t);h.contains(m)&&p.push(a);
h.contains(e)&&c.push(a);for(z=t+1;z<a;z++)p.push(z),c.push(z);b.push({extent:d,frameIds:[t]},{extent:h,frameIds:[a]},{extent:m,frameIds:p},{extent:e,frameIds:c})}else k>l||g?b.push({extent:new B(k,e,f,p,c),frameIds:[t]},{extent:new B(z,e,l,p,c),frameIds:[a]}):b.push({extent:new B(k,e,l,p,c),frameIds:[t]});this.cache._parts=b}a=this.hasZ;e=this.hasM;if(a||e)for(t={},a&&(t.zmin=this.zmin,t.zmax=this.zmax),e&&(t.mmin=this.mmin,t.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(t);return b};b.prototype._normalizeX=
function(a,b){var e=b.valid;b=e[0];var p=e[1],e=2*p,c=0;a>p?(b=Math.ceil(Math.abs(a-p)/e),a-=b*e,c=b):a<b&&(b=Math.ceil(Math.abs(a-b)/e),a+=b*e,c=-b);return{x:a,frameId:c}};var B;f([n.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);f([n.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",null);f([n.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);f([n.property({readOnly:!0,dependsOn:["mmin",
"mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);f([n.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);f([n.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);f([n.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);f([n.property({type:Number,json:{write:!0}})],b.prototype,"xmin",void 0);f([n.property({type:Number,json:{write:!0}})],b.prototype,
"ymin",void 0);f([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);f([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);f([n.property({type:Number,json:{write:!0}})],b.prototype,"xmax",void 0);f([n.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);f([n.property({type:Number,
json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);f([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=B=f([n.subclass("esri.geometry.Extent")],b)}(n.declared(l));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(b,
a){return function(a,b){a.__bases__=b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(b,a,r,f){var k=arguments.length,n=3>k?a:null===f?f=Object.getOwnPropertyDescriptor(a,r):f,l;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(b,a,r,f);else for(var c=b.length-1;0<=c;c--)if(l=b[c])n=(3>k?l(n):3<k?l(a,r,n):l(a,r))||n;return 3<k&&n&&Object.defineProperty(a,r,n),n}})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v){function z(b){for(var c in b)a.hasOwnProperty(c)||(a[c]=b[c])}Object.defineProperty(a,"__esModule",{value:!0});z(r);z(f);z(k);z(n);z(l);z(c);z(g);z(h);z(d);z(v)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});a.aliasOf=function(a){return function(b,f){r.getPropertyMetadata(b,f).aliasOf=a}}})},"esri/core/accessorSupport/metadata":function(){define(["require",
"exports"],function(b,a){function r(a){return null!=a.__accessorMetadata__}function f(a){return r(a)&&null!=k(a).properties}function k(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function n(a){a=k(a);var b=a.properties;b||(b=a.properties={});return b}function l(a,b){var c=k(a);a=c.parameters;a||(a=c.parameters={});c=a[b];c||(c=[],a[b]=c);return c}Object.defineProperty(a,"__esModule",{value:!0});
a.hasMetadata=r;a.hasPropertiesMetadata=f;a.hasPropertyMetadata=function(a,b){return f(a)&&null!=n(a)[b]};a.hasParametersMetadata=function(a,b){return r(a)&&null!=k(a).parameters&&null!=k(a).parameters[b]};a.getMetadata=k;a.getPropertiesMetadata=n;a.getPropertyMetadata=function(a,b){a=n(a);var c=a[b];c||(c=a[b]={});return c};a.setPropertyMetadata=function(a,b,h){n(a)[b]=h};a.getParametersMetadata=l;a.getParameterMetadata=function(a,b,h){var c=l(a,b)[h];c||(l(a,b)[h]=c={index:h});return c}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require",
"exports","../metadata"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});a.autoDestroy=function(){return function(a,b,n){r.getMetadata(a).autoDestroy=!0;return a[b]}}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(b,a,r,f){function k(a){var b="_meta"in a?r.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?l.apply(this,a):n.apply(this,
a)}}function n(a,b,c,g){f.getPropertyMetadata(a,b).cast=g}function l(a,b,c,g){f.getParameterMetadata(a,b,c).cast=g}function c(a){return function(b,c,h){f.getPropertyMetadata(b,a).cast=b[c]}}Object.defineProperty(a,"__esModule",{value:!0});var g=Object.prototype.toString;a.autocastMethod=function(a,b,c){if(f.hasParametersMetadata(a,b)){var d=f.getParametersMetadata(a,b).filter(function(a){return null!=a.cast});if(d.length){var h=c.value;c.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=
arguments[b];for(b=0;b<d.length;b++){var c=d[b];a[c.index]=c.cast(a[c.index])}return h.apply(this,a)};return c}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};a.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===g.call(a[0]))return k(a[0]);if(1===a.length&&"string"===typeof a[0])return c(a[0])}}})},"esri/core/accessorSupport/ensureType":function(){define(["require",
"exports","../Logger"],function(b,a,r){function f(e,a){return a.isInstanceOf?a.isInstanceOf(e):a instanceof e}function k(e){return null==e?e:new Date(e)}function n(e){return null==e?e:!!e}function l(e){return null==e?e:e.toString()}function c(e){return null==e?e:parseFloat(e)}function g(e){return null==e?e:Math.round(parseFloat(e))}function h(e){return e&&e.constructor&&void 0!==e.constructor._meta}function d(e,a){return null!=a&&e&&!f(e,a)}function v(e){return e&&("isCollection"in e||e._meta&&e._meta.bases&&
e._meta.bases.some(function(e){return"isCollection"in e}))}function z(e){return e&&e.Type?"function"===typeof e.Type?e.Type:e.Type.base:null}function t(e,a){if(!a||!a.constructor||!v(a.constructor))return B(e,a)?a:new e(a);var b=z(e.prototype.itemType),p=z(a.constructor.prototype.itemType);if(!b)return a;if(!p)return new e(a);if(b===p)return a;if((p=p._meta&&p._meta.bases)&&-1!==p.indexOf(b))return new e(a);B(e,a);return a}function B(e,a){return h(a)?(G.error("Accessor#set","Assigning an instance of '"+
(a.declaredClass||"unknown")+"' which is not a subclass of '"+(e&&e.prototype&&e.prototype.declaredClass||"unknown")+"'"),!0):!1}function A(e,a){return null==a?a:v(e)?t(e,a):d(e,a)?B(e,a)?a:new e(a):a}function w(e){switch(e){case Number:return c;case C:return g;case Boolean:return n;case String:return l;case Date:return k;default:return A.bind(null,e)}}function m(e,a){var b=w(e);return 1===arguments.length?b:b(a)}function y(e,a){return 1===arguments.length?y.bind(null,e):a?Array.isArray(a)?a.map(e):
[e(a)]:a}function e(a,b,p){return 0!==b&&Array.isArray(p)?p.map(function(p){return e(a,b-1,p)}):a(p)}function p(a,b,c){if(2===arguments.length)return p.bind(null,a,b);if(!c)return c;c=e(a,b,c);for(var d=b,x=c;0<d&&Array.isArray(x);)d--,x=x[0];if(void 0!==x)for(x=0;x<d;x++)c=[c];return c}function x(e,a){if(2===arguments.length)return x(e).call(null,a);for(var b=new Set,p=0;p<e.length;p++)b.add(e[p]);var c=null;return function(a,p){if(null==a)return a;b.has(a)||(c||(c=e.map(function(e){return"string"===
typeof e?"'"+e+"'":""+e}).join(", ")),G.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+c),p&&(p.valid=!1));return a}}function F(e,a){if(2===arguments.length)return F(e).call(null,a);var b={},p=[],c=[],x;for(x in e.typeMap){var t=e.typeMap[x];b[x]=m(t);p.push(t&&t.prototype&&t.prototype.declaredClass||"unknown");c.push(x)}var g="string"===typeof e.key?function(a){return a[e.key]}:e.key;return function(a){if(e.base&&!d(e.base,a))return a;
var x=g(a)||e.defaultKeyValue,m=b[x];if(!m)return G.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+p.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+c.join("', '")+"'")+")"),null;if(!d(e.typeMap[x],a))return a;if("string"!==typeof e.key||h(a))return m(a);var x={},t;for(t in a)t!==e.key&&(x[t]=a[t]);return m(x)}}Object.defineProperty(a,"__esModule",{value:!0});var G=r.getLogger("esri.core.Accessor");a.isInstanceOf=f;a.ensureDate=k;a.ensureBoolean=
n;a.ensureString=l;a.ensureNumber=c;a.ensureInteger=g;a.isClassedType=h;a.requiresType=d;a.ensureClass=A;a.ensureType=m;a.ensureArrayTyped=y;a.ensureArray=function(e,a){return 1===arguments.length?y(m.bind(null,e)):y(m.bind(null,e),a)};a.ensureNArrayTyped=p;a.ensureNArray=function(e,a,b){return 2===arguments.length?p(m.bind(null,e),a):p(m.bind(null,e),a,b)};a.isOneOf=function(e){if(!Array.isArray(e))return!1;e=typeof e[0];return"string"===e||"number"===e};a.ensureOneOf=x;a.ensureOneOfType=F;var C=
function(){return function(){}}();a.Integer=C;a.default=m})},"esri/core/Logger":function(){define(["require","exports","./has"],function(b,a,r){var f={info:0,warn:1,error:2};b=function(){function a(b){void 0===b&&(b={});this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=a.getLogger(this.module.slice(0,b)))}a.prototype.log=function(a){for(var b=[],c=
1;c<arguments.length;c++)b[c-1]=arguments[c];this._isEnabled()&&this._matchLevel(a)&&(c=this._inheritedWriter())&&c.apply(void 0,[a,this.module].concat(b))};a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,
["info"].concat(a))};a.prototype.getLogger=function(b){return a.getLogger(this.module+"."+b)};a.getLogger=function(b){var f=a._loggers[b];f||(f=new a({module:b}));return f};a.prototype._parentWithMember=function(a,b){for(var c=this;c&&null==c[a];)c=c.parent;return c?c[a]:b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var c=[],g=2;g<arguments.length;g++)c[g-2]=arguments[g];console[a].apply(console,
["["+b+"]"].concat(c))};a.prototype._matchLevel=function(a){return f[this._parentWithMember("level","error")]<=f[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();b.getLogger("esri").level="warn";return b})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.declared=function(a){for(var b=[],k=1;k<arguments.length;k++)b[k-1]=arguments[k];
k=function(){return this||{}};k.__bases__=[a].concat(b);return k}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require","exports","../../kebabDictionary","./property"],function(b,a,r,f){function k(a){return f.property({type:a})}Object.defineProperty(a,"__esModule",{value:!0});a.enumeration=k;(function(a){a.serializable=function(){return function(a){a=a instanceof r.KebabDictionary?a:new r.KebabDictionary(a,{ignoreUnknown:!0});return f.property({type:a.apiValues,json:{type:a.jsonValues,
read:{reader:a.read},write:{writer:a.write}}})}}})(k=a.enumeration||(a.enumeration={}))})},"esri/core/kebabDictionary":function(){define(["require","exports"],function(b,a){function r(a,b){void 0===b&&(b={});return new f(a,b)}var f=function(){function a(a,b){var c=this;this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return c.fromJSON(a)};
this.write=function(a,b,d){a=c.toJSON(a);void 0!==a&&(b[d]=a)}}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},c;for(c in a)b[a[c]]=c;return b};a.prototype.getKeysSorted=function(a){var b=[],c;for(c in a)b.push(c);b.sort();return b};return a}();(function(a){a.strict=
function(){return function(b){return new a.KebabDictionary(b,{ignoreUnknown:!0})}};a.KebabDictionary=f})(r||(r={}));return r})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),function(b,a,r,f,k,n){Object.defineProperty(a,"__esModule",{value:!0});k.getLogger("esri.core.accessorSupport.decorators.property");a.property=function(a){void 0===a&&(a={});return function(b,g){var c=b.constructor.prototype;if(c!==
Function.prototype){(b=Object.getOwnPropertyDescriptor(b,g))&&(b.get||b.set)?(a=f.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=f.clone(a),a.value=b.value);g=n.getPropertyMetadata(c,g);for(var d in a)c=a[d],Array.isArray(c)&&"type"!==d?g[d]=(g[d]||[]).concat(c):g[d]=c}}};a.propertyJSONMeta=function(a,b,g){a=n.getPropertyMetadata(a.constructor.prototype,g);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);
return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});a.reader=function(a,b,l){var c,g;void 0===b||Array.isArray(b)?(g=a,l=b,c=[void 0]):(g=b,c=Array.isArray(a)?a:[a]);return function(a,b,v){var d=a.constructor.prototype;c.forEach(function(c){c=f.propertyJSONMeta(a,c,g);c.read&&"object"!==typeof c.read&&(c.read={});r.setDeepValue("read.reader",d[b],c);l&&(c.read.source=
(c.read.source||[]).concat(l))})}}})},"esri/core/object":function(){define(["require","exports"],function(b,a){function r(a,b,n){for(var f=0;f<a.length;f++){var c=a[f];if(!(c in n))if(b)n[c]={};else return;n=n[c]}return n}Object.defineProperty(a,"__esModule",{value:!0});a.getDeepValue=function(a,b){return r(a.split("."),!1,b)};a.setDeepValue=function(a,b,n){var f=a.split(".");a=f.pop();(n=r(f,!0,n))&&a&&(n[a]=b)}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],
function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.shared=function(a){return function(b,k){b[k]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require","exports","../../declare","../metadata"],function(b,a,r,f){function k(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function n(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}
function l(a){var b=[];a=f.getPropertiesMetadata(a.prototype);if(!a)return b;for(var c in a){var d=a[c];d.cast&&b.push(d.cast);d.copy&&b.push(d.copy);if(d=d.json)if(k(d,b),n(d,b),d=d.origins)for(var h in d){var g=d[h];k(g,b);n(g,b)}}return b}function c(a){var b={values:{},descriptors:{}},c=["__bases__"],d=f.getPropertiesMetadata(a.prototype),g=l(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==c.indexOf(b)||d&&d.hasOwnProperty(b)||!h(Object.getOwnPropertyDescriptor(a.prototype,
b))&&-1!==g.indexOf(a.prototype[b])?!1:!0}).forEach(function(c){var d=Object.getOwnPropertyDescriptor(a.prototype,c);h(d)?b.descriptors[c]=d:b.values[c]=a.prototype[c]});return b}function g(a){var b=Object.getOwnPropertyNames(a),c=Object.getPrototypeOf(a.prototype).constructor,d=Object.getOwnPropertyNames(Function);d.push("__bases__");var g=Object.getOwnPropertyNames(c),f={values:{},descriptors:{}};b.filter(function(b){return-1!==d.indexOf(b)?!1:-1===g.indexOf(b)||c[b]!==a[b]?!0:!1}).forEach(function(b){var c=
Object.getOwnPropertyDescriptor(a,b);h(c)?f.descriptors[b]=c:f.values[b]=a[b]});return f}function h(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(a,"__esModule",{value:!0});a.subclass=function(a){return function(b){var d=c(b),h=g(b);null!=a&&(d.values.declaredClass=a);b=r(b.__bases__,d.values);Object.defineProperties(b.prototype,d.descriptors);for(var v in h.values)b[v]=h.values[v];Object.defineProperties(b,h.descriptors);return b}}})},"esri/core/declare":function(){define(["require","exports",
"dojo/_base/declare"],function(b,a,r){function f(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return k([this].concat(a),b)}function k(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var c,d;c=0;for(d=n.length;c<d;c++)n[c](a,b);a=r(a,b);a.createSubclass=f;c=0;for(d=l.length;c<d;c++)l[c](a);return a}var n=[],l=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,b){return b._meta?
a.concat(b._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-1;0<=c;c--)if(a[c].prototype.declaredClass===b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return r.safeMixin(a,b)};a.before=function(a){n.push(a)};a.after=function(a){l.push(a)}})(k||(k={}));return k})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(b,a,r,f){Object.defineProperty(a,"__esModule",
{value:!0});a.writer=function(a,b,l){var c,g;void 0===b?(g=a,c=[void 0]):"string"!==typeof b?(g=a,c=[void 0],l=b):(g=b,c=Array.isArray(a)?a:[a]);return function(a,b,v){var d=a.constructor.prototype;c.forEach(function(c){c=f.propertyJSONMeta(a,c,g);c.write&&"object"!==typeof c.write&&(c.write={});l&&r.setDeepValue("write.target",l,c);r.setDeepValue("write.writer",d[b],c)})}}})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),
function(b,a,r,f,k,n,l){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=l.WGS84;return b}r(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof l)return a;if(null!=a){var c=new l;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};
b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};f([n.property()],b.prototype,"type",void 0);f([n.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);f([n.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);f([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,
"hasM",void 0);f([n.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);f([n.property({type:l,json:{write:!0}})],b.prototype,"spatialReference",void 0);f([n.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=f([n.subclass("esri.geometry.Geometry")],b)}(n.declared(k))})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(b,a,r,f,k,n,l,c,g){function h(a,b){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var c=new this;c.read(a,b);return c}var d=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);b.prototype.read=function(a,b){c.default(this,a,b);return this};b.prototype.write=function(a,b){return g.default(this,a||{},b)};b.prototype.toJSON=function(a){return this.write(null,a)};b.fromJSON=function(a,b){return h.call(this,a,b)};return b=f([l.subclass("esri.core.JSONSupport")],
b)}(l.declared(k));d.prototype.toJSON.isDefaultToJSON=!0;n.after(function(a){n.hasMixin(a,d)&&(a.fromJSON=h.bind(a))});return d})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(b,a,r,f,k,n){a=a.default;b.before(function(a,g){b.hasMixin(a,l)&&f.processPrototype(g)});b.after(function(a){b.hasMixin(a,l)&&(f.processClass(a),Object.defineProperties(a.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var l=b(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===l)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new a(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var b=[],g=0;g<arguments.length;g++)b.push(arguments[g]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,b)}},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;var c;null!=this.getDefaults&&(c=this.getDefaults(a||{}),this.set(c));b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(c){console.warn(c.stack)}else n.removeTarget(this),this.__accessor__.destroy()},get:function(a){return r.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){k.set(this,a,b);return this},watch:function(a,b,h){return n.watch(this,a,b,h)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,
b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return l})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(b,a,r,f,k,n,l,c){Object.defineProperty(a,
"__esModule",{value:!0});f.getLogger("esri.core.accessorSupport.Properties");b=function(){function a(a){this.host=a;this._origin=l.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new c.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;n.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=
2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(this.cursors)for(var b=0,c=Object.getOwnPropertyNames(a);b<c.length;b++){var h=c[b],g=a[h];if(g){for(;0<g.length;)g.pop().propertyDestroyed(this,h);a[h]=null}}if(this.autoDestroy)for(h in this.metadatas)(a=this.internalGet(h))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[h].nonNullable||this.internalSet(h,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,
configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};a.prototype.get=function(a){var b=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var c=b.get;return c?(b=c.call(this.host),this.store.set(a,b,l.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":
l.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){if(this.metadatas[a]){var c=this.initialized?this._origin:l.OriginId.DEFAULTS,d=this.store.get(a,c);if(b!==d||!this.store.has(a,c)||this.isOverridden(a))this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a)}};a.prototype.isOverridden=
function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return this.store.keys()};a.prototype.override=function(a,b){if(this.metadatas[a]){this.overridden||(this.overridden={});var c=this.metadatas[a];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,d=b.value;g.release(b);if(!c)return;b=d}this.overridden[a]=!0;this.internalSet(a,b)}}};a.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var d=
c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,h=b.value;g.release(b);if(!c)return;b=h}d?d.call(this.host,b):this.internalSet(a,b)}}};a.prototype.setDefaultOrigin=function(a){this._origin=l.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties,c=this.isOverridden(a),d=this.cursors&&this.cursors[a],h=this.metadatas[a].computes;if(d)for(var g=0;g<d.length;g++)d[g].propertyInvalidated(this,a);c||(b[a]=!0);if(h)for(a=0;a<h.length;a++)this.propertyInvalidated(h[a])};a.prototype.propertyCommitted=
function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};a.prototype.addCursor=function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};a.prototype.cast=function(a,b){var c=g.acquire();c.valid=!0;c.value=b;a&&(c.value=a.call(this.host,b,
c));return c};return a}();r=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=null};return a}();var g=new k(r);a.default=b})},"esri/core/ObjectPool":function(){define(["require","exports"],function(b,a){var r=function(){return function(){}}();return function(){function a(a,b,f,c,g){void 0===c&&(c=1);void 0===g&&(g=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=f;this.growthSize=
c;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(g);this._set=new Set;this._initialSize=g;for(a=0;a<g;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(c,1)}a.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.classConstructor||r;if(0===this._pool.length)for(var f=this.growthSize,c=0;c<f;c++)this._pool[c]=new b;b=this._pool.pop();this.acquireFunction?this.acquireFunction.apply(this,
[b].concat(a)):b&&b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,a);this._set.delete(b);return b};a.prototype.release=function(a){a&&!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(this._pool.length<=a))for(var b;a>this._pool.length;)b=this._pool.shift(),this._set.delete(b),b.dispose&&"function"===typeof b.dispose&&
b.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var b=[],f=1;f<arguments.length;f++)b[f-1]=arguments[f];var c;(c=this.classConstructor).call.apply(c,[a].concat(b))};return a}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(b,a,r,f,k){Object.defineProperty(a,"__esModule",{value:!0});var n=[r.default,f.default,k.default];a.processPrototypeMetadatas=
function(a,b){for(var c=Object.getOwnPropertyNames(a),h=0;h<n.length;h++){var d=n[h];if(d.processPrototypePropertyMetadata)for(var f=0,z=c;f<z.length;f++){var t=z[f];d.processPrototypePropertyMetadata(t,a[t],a,b)}}};a.processClassMetadatas=function(a,b){for(var c=Object.getOwnPropertyNames(a),h=0;h<n.length;h++){var d=n[h];if(d.processClassPropertyMetadata)for(var f=0,z=c;f<z.length;f++){var t=z[f];d.processClassPropertyMetadata(t,a[t],a,b)}}};a.instanceCreated=function(a,b){for(var c=Object.getOwnPropertyNames(b),
h=0;h<n.length;h++){var d=n[h];d.instanceCreated&&d.instanceCreated(a,b,c)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(b,a,r,f,k,n,l){function c(a,b,c){var d=n.getProperties(a);return l.wire(a,c.aliasOf,function(){d.propertyInvalidated(b)})}Object.defineProperty(a,"__esModule",{value:!0});a.AliasedPropertyExtension={processClassPropertyMetadata:function(a,b,c,v){var d=b.aliasOf;if(d&&(a=
d.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var h;b.get=function(){var a=f.default(this,d);if("function"===typeof a){h||(h=d.split(".").slice(0,-1).join("."));var b=f.default(this,h);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return k.default(this,d,a)})}},instanceCreated:function(a,b,d){for(var h=0;h<d.length;h++){var g=d[h],t=b[g];t.aliasOf&&c(a,g,t)}}};a.default=a.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require","exports","./utils"],function(b,
a,r){function f(a,b,h){if(null!=h.getItemAt||Array.isArray(h)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(h)?h[c]:h.getItemAt(c)}c=r.getProperties(h);return b?r.isPropertyDeclared(c,a)?c.get(a):h[a]:r.isPropertyDeclared(c,a)?c.internalGet(a):h[a]}function k(a,b,h,d){if(null==a)return a;if((a=f(b[d],h,a))||!(d<b.length-1))return d===b.length-1?a:k(a,b,h,d+1)}function n(a,b,h,d){void 0===h&&(h=!1);void 0===d&&(d=0);return"string"===typeof b&&-1===b.indexOf(".")?f(b,h,a):k(a,r.pathToArray(b),
h,d)}function l(a,b){return n(a,b,!0)}Object.defineProperty(a,"__esModule",{value:!0});a.valueOf=n;a.get=l;a.exists=function(a,b){return void 0!==n(b,a,!0)};a.default=l})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(b,a,r){function f(a,b,h){return b?Object.keys(b).reduce(function(a,c){var d=null,t="merge";h&&(d=h.path?h.path+"."+c:c,t=h.policy(d));if("replace"===t)return a[c]=b[c],a;if(void 0===a[c])return a[c]=r.clone(b[c]),a;var g=a[c],t=b[c];if(g===
t)return a;if(Array.isArray(t)||Array.isArray(a))g=g?Array.isArray(g)?a[c]=g.concat():a[c]=[g]:a[c]=[],t&&(Array.isArray(t)||(t=[t]),t.forEach(function(a){-1===g.indexOf(a)&&g.push(a)}));else if(t&&"object"===typeof t)if(h){var v=h.path;h.path=d;a[c]=f(g,t,h);h.path=v}else a[c]=f(g,t,null);else if(!a.hasOwnProperty(c)||b.hasOwnProperty(c))a[c]=t;return a},a||{}):a}function k(a){return Array.isArray(a)?a:a.split(".")}function n(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=Array.isArray(a)?a:a.split(",");
for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function l(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(a,"__esModule",{value:!0});a.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};a.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};a.merge=function(a,b,h){return h?f(a,b,{policy:h,path:""}):f(a,b,null)};a.pathToStringOrArray=function(a){return a?"string"===typeof a&&
-1===a.indexOf(".")?a:k(a):a};a.pathToArray=k;a.splitPath=n;a.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=k(a);for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];b[c]="?"===d[d.length-1];b[c]&&(a[c]=d.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};a.parse=function(a,b,h,d){b=n(b);if(Array.isArray(b)){var c=b.map(function(b){return d(a,b.trim(),h)});return{remove:l(function(){return c.forEach(function(a){return a.remove()})})}}return d(a,b.trim(),h)};a.once=
l})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(b,a,r,f,k){function n(a,b,g){if(a&&b)if("object"===typeof b){g=0;for(var c=Object.getOwnPropertyNames(b);g<c.length;g++){var d=c[g];n(a,d,b[d])}}else"_"!==b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),d=b.splice(b.length-1,1)[0],n(k.default(a,b),d,g)):a[b]=g)}Object.defineProperty(a,"__esModule",{value:!0});f.getLogger("esri.core.accessorSupport.set");a.set=n;a.default=n})},"esri/core/accessorSupport/wire":function(){define(["require",
"exports","./utils"],function(b,a,r){function f(a,b,f){b=r.splitPath(b);if(Array.isArray(b)){for(var d=[],h=0;h<b.length;h++)d.push((new k(b[h],f)).install(a));return new c(d)}a=(new k(b,f)).install(a);return new g(a)}Object.defineProperty(a,"__esModule",{value:!0});var k=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=r.parseConditionalPath(a))this.path=a.fullPath,this.conditional=a.conditional;this.chain=r.pathToArray(this.path)}this.callback=
b;return this}a.prototype.install=function(a){a=this.chain?new l(this,a):new n(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),n=function(){function a(a,b){this.binding=a;this.target=b;r.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(r.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};a.prototype.propertyDestroyed=function(a,b){r.getProperties(this.target).removeCursor(b,
this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),l=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=r.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=
this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=function(a,b){for(var c=this.stack,d=c[c.length-1];d.properties!==
a&&d.propertyName!==b;)d.properties.removeCursor(d.propertyName,this),c.pop(),d=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1],b=b.properties.internalGet(b.propertyName);if((b=r.getProperties(b))&&a.length<this.binding.chain.length){var c=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[c]||(this.stack.push({properties:b,propertyName:c}),b.addCursor(c,this),this.moveForward())}};return a}(),c=function(){function a(a){this.cursors=
a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),g=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();a.create=function(a,b){a=r.splitPath(a);if(Array.isArray(a)){for(var d=[],h=0;h<a.length;h++)d.push(new k(a[h],b));return function(a){for(var b=[],h=0;h<d.length;h++)b[h]=d[h].install(a);return new c(b)}}var t=new k(a,b);return function(a){return new g(t.install(a))}};
a.wire=f;a.default=f})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(b,a,r,f,k,n){Object.defineProperty(a,"__esModule",{value:!0});f.getLogger("esri.core.accessorSupport.extensions.computedProperty");a.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,g,h){b.dependsOn&&(g=void 0,g=b.dependsOn.slice())&&(b.wire=n.create(g,function(b){return k.getProperties(b).propertyInvalidated(a)}))},
instanceCreated:function(a,b,g){for(var c=0;c<g.length;c++){var d=b[g[c]];d.wire&&d.wire(a)}}};a.default=a.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(b,a,r,f,k,n,l){function c(a,b,c){var d=a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&
b in a&&(d=a);return d}Object.defineProperty(a,"__esModule",{value:!0});a.originSpecificReadPropertyDefinition=function(a,b){return c(a,"read",b)};a.originSpecificWritePropertyDefinition=function(a,b){return c(a,"write",b)};a.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,c,v){if(n.process(b)){f.process(b);c=b.type;v=0;if(!r.isOneOf(c))for(;Array.isArray(c);)c=c[0],v++;if(b.json.origins)for(var d in b.json.origins){var h=b.json.origins[d];k.create(c,v,a,h);l.create(c,
v,a,h)}k.create(c,v,a,b.json);l.create(c,v,a,b.json)}}};a.default=a.SerializablePropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.process=function(a){if(a.json&&a.json.origins){var b=a.json.origins,k={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var c=b[a];k[a].forEach(function(a){b[a]=c});delete b[a]}};for(var n in k)a(n)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require",
"exports","../../../object","./type"],function(b,a,r,f){function k(a,b,d,f){if(1<b)return c(a,b);if(1===b)return g(a);if(h(a)){var t=g(a.prototype.itemType.Type);return function(b,c,d){return(b=t(b,c,d))?new a(b):b}}return n(a)}function n(a){return a.prototype.read?function(b,c,d){return null==b?b:(new a).read(b,d)}:a.fromJSON}function l(a,b,c,d){return 0!==d&&Array.isArray(b)?b.map(function(b){return l(a,b,c,d-1)}):a(b,null,c)}function c(a,b){a=n(a);var c=l.bind(null,a);return function(a,d,h){if(null==
a)return a;a=c(a,h,b);d=b;for(h=a;0<d&&Array.isArray(h);)d--,h=h[0];if(void 0!==h)for(h=0;h<d;h++)a=[a];return a}}function g(a){var b=n(a);return function(a,c,d){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,d)}):[b(a,null,d)]}}function h(a){return f.isCollection(a)?(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?d(a.Type):!1:!1}function d(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||h(a))}Object.defineProperty(a,"__esModule",
{value:!0});a.create=function(a,b,c,h){(!h.read||!h.read.reader&&!1!==h.read.enabled)&&d(a)&&r.setDeepValue("read.reader",k(a,b,c,h),h)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require",
"exports"],function(b,a){function r(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=!0)}function f(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(a,"__esModule",{value:!0});a.process=
function(a){a.json||(a.json={});r(a.json);f(a.json);if(a.json.origins)for(var b in a.json.origins)r(a.json.origins[b]),f(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(b,a,r,f){function k(a,b,c,g){r.setDeepValue(c,n(a,g),b)}function n(a,b){return a&&"function"===typeof a.write?a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:
Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function l(a,b,c,g){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return n(a,g)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[n(a,g)];r.setDeepValue(c,a,b)}function c(a,b,g){return 0!==g&&Array.isArray(a)?a.map(function(a){return c(a,b,g-1)}):n(a,b)}function g(a){return function(b,h,g,t){if(null===b)b=null;else{b=c(b,t,a);t=a;for(var d=b;0<t&&Array.isArray(d);)t--,d=d[0];if(void 0!==d)for(d=0;d<t;d++)b=[b]}r.setDeepValue(g,
b,h)}}Object.defineProperty(a,"__esModule",{value:!0});a.create=function(a,b,c,z){z.write&&!z.write.writer&&!1!==z.write.enabled&&(1===b||f.isCollection(a)?z.write.writer=l:z.write.writer=1<b?g(b):k)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(b,a){function r(a){switch(a){case "defaults":return k.DEFAULTS;case "service":return k.SERVICE;case "portal-item":return k.PORTAL_ITEM;case "web-scene":return k.WEB_SCENE;case "web-map":return k.WEB_MAP;case "user":return k.USER}}
function f(a){switch(a){case k.DEFAULTS:return"defaults";case k.SERVICE:return"service";case k.PORTAL_ITEM:return"portal-item";case k.WEB_SCENE:return"web-scene";case k.WEB_MAP:return"web-map";case k.USER:return"user"}}Object.defineProperty(a,"__esModule",{value:!0});var k;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(k=a.OriginId||
(a.OriginId={}));a.nameToId=r;a.idToName=f;a.readableNameToId=function(a){return r(a)};a.idToReadableName=function(a){return f(a)};a.writableNameToId=function(a){return r(a)};a.idToWritableName=function(a){return f(a)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(){this._values={}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return r.OriginId.USER};
a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();a.default=b})},"esri/core/accessorSupport/introspection":function(){define("require exports ../object ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),function(b,a,r,f,k,n,l,c){function g(a){return t.test(a)?"replace":"merge"}Object.defineProperty(a,
"__esModule",{value:!0});var h=Object.prototype.hasOwnProperty,d=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader|Writer|Caster)$/,v={Getter:"get",Setter:"set",Reader:"json.read.reader",Writer:"json.write.writer",Caster:"cast"},z=/^_(set|get)([a-zA-Z0-9]+)Attr$/;a.processPrototype=function(a){for(var b=a.declaredClass,c=a.properties||{},m=0,t=Object.getOwnPropertyNames(c);m<t.length;m++){var e=t[m],p=c[e],x=typeof p;null==p?n.setPropertyMetadata(a,e,{value:p}):Array.isArray(p)?n.setPropertyMetadata(a,e,{type:[p[0]],
value:null}):"object"===x?l.getProperties(p)||p instanceof Date?n.setPropertyMetadata(a,e,{type:p.constructor,value:p}):n.setPropertyMetadata(a,e,p):"boolean"===x?n.setPropertyMetadata(a,e,{type:Boolean,value:p}):"string"===x?n.setPropertyMetadata(a,e,{type:String,value:p}):"number"===x?n.setPropertyMetadata(a,e,{type:Number,value:p}):"function"===x&&n.setPropertyMetadata(a,e,{type:p,value:null})}m=0;for(t=Object.getOwnPropertyNames(a);m<t.length;m++){var x=t[m],p=a[x],c=e=void 0,g=d.exec(x);if(g)e=
g[1],c=v[g[2]];else if(g=z.exec(x))e=g[2][0].toLowerCase()+g[2].substr(1),c=g[1].toLowerCase();e&&c&&(e=n.getPropertyMetadata(a,e),r.setDeepValue(c,p,e))}m=0;for(t=Object.getOwnPropertyNames(n.getPropertiesMetadata(a));m<t.length;m++)if(e=t[m],p=n.getPropertyMetadata(a,e),c=p.type,x=p.types,void 0===p.value&&h.call(a,e)&&(p.value=a[e]),!p.cast&&c){e=p;if(f.isOneOf(c))c=f.ensureOneOf(c);else{p=0;for(x=c;Array.isArray(x);)x=x[0],p++;c=1===p?f.ensureArray(x):1<p?f.ensureNArray(x,p):f.ensureType(c)}e.cast=
c}else!p.cast&&x&&(Array.isArray(x)?p.cast=f.ensureArrayTyped(f.ensureOneOfType(x[0])):p.cast=f.ensureOneOfType(x));k.processPrototypeMetadatas(n.getPropertiesMetadata(a),b);return n.getPropertiesMetadata(a)};var t=/^properties\.[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;a.processClass=function(a){for(var b=a.prototype,d=b.declaredClass,m=a._meta.bases,h={},e=m.length-1;0<=e;e--)l.merge(h,n.getMetadata(m[e].prototype),g);var p=h.properties;k.processClassMetadatas(p,d);Object.defineProperty(a,
"__accessorMetadata__",{value:{properties:p,autoDestroy:!!h.autoDestroy}});for(var x={},d=function(a){var b=p[a];x[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(a):b.value},set:function(e){var p=this.__accessor__;if(!p)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:e});else if(!Object.isFrozen(this)){if(p.initialized&&b.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);
if(2===p.lifecycle&&b.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);p.set(a,e)}}}},m=0,e=Object.getOwnPropertyNames(p);m<e.length;m++)d(e[m]);Object.defineProperties(a.prototype,x);if(h.parameters)for(a=0,d=Object.getOwnPropertyNames(h.parameters);a<d.length;a++)m=d[a],e=Object.getOwnPropertyDescriptor(b,m)||{value:b[m]},(e=c.autocastMethod(b,m,e))&&Object.defineProperty(b,m,e);return h}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ObjectPool ../scheduling ./get ./utils ./wire".split(" "),
function(b,a,r,f,k,n,l,c,g){function h(a){m.has(a)?y.splice(y.indexOf(a),1):m.add(a);y.push(a);e||(e=n.schedule(v))}function d(a){if(!a.removed){var b=a.callback,e=a.path,p=a.oldValue,c=a.target,x=l.valueOf(c,a.propertyPath,!0);f.equals(p,x)||(a.oldValue=x,b.call(c,x,p,e,c))}}function v(){if(e){e=null;var a=y;y=w.acquire();m.clear();for(var b=w.acquire(),c=0;c<a.length;c++){var h=a[c];d(h);h.removed&&b.push(h)}for(c=0;c<y.length;c++)h=y[c],h.removed&&(b.push(h),m.delete(h),y.splice(c,1),--c);for(c=
0;c<b.length;c++)A.pool.release(b[c]);w.release(a);w.release(b);p.forEach(function(a){return a()})}}function z(a,b,e){var p=c.parse(a,b,e,function(a,b,e){var x=l.valueOf(a,b,!0),m,d=g.wire(a,b,function(a,b){a.__accessor__.destroyed?p.remove():(m||(m=A.pool.acquire(a,b,x,e),x=null),h(m))});return{remove:c.once(function(){d.remove();m&&(m.removed=!0,h(m),m=null);p=d=x=null})}});return p}function t(a,b,e){var p=c.parse(a,b,e,function(a,b,e){var c=l.valueOf(a,b,!0),x=!1;return g.wire(a,b,function(a,b){if(a.__accessor__.destroyed)p.remove();
else if(!x){x=!0;var m=l.valueOf(a,b,!0);f.equals(c,m)||e.call(a,m,c,b,a);c=l.valueOf(a,b,!0);x=!1}})});return p}function B(a,b,e,p){void 0===p&&(p=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:p?t(a,b,e):z(a,b,e)}Object.defineProperty(a,"__esModule",{value:!0});var A=function(){function a(a,b,e,p){this.target=a;this.path=b;this.oldValue=e;this.callback=p;this.removed=!1;this.propertyPath=c.pathToStringOrArray(b)}a.prototype.release=function(){this.target=this.path=this.propertyPath=
this.callback=this.oldValue=null;this.removed=!0};a.pool=new k(a,!0);return a}(),w=new r,m=new Set,y=w.acquire(),e;a.dispatchTarget=function(a){for(var b=w.copy(y),e=0;e<b.length;e++){var p=b[e];p.target===a&&(d(p),m.delete(p),y.splice(y.indexOf(p),1))}};a.removeTarget=function(a){for(var b=0;b<y.length;b++){var e=y[b];e.target===a&&(e.removed=!0)}};a.dispatch=v;var p=new Set;a.afterDispatch=function(a){p.add(a);return{remove:function(){p.delete(a)}}};a.watch=B;a.isValueInUse=function(a){return y.some(function(b){return b.oldValue===
a})};a.default=B})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(b,a,r){function f(a){a.length=0}var k=Array.prototype.splice;b=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new r(Array,!1,f,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);k.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return n.acquire()};
a.copy=function(a){return n.copy(a)};a.release=function(a){return n.release(a)};return a}();var n=new b(100);return b})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(b,a,r,f,k){function n(b){void 0===b&&(b=a.now());a.debug.rafId=null;0<e.length&&(a.debug.rafId=l());if(0<z){var p=b-z;A=Math.min(p,A);if(p<t)return}a.debug.executeFrameTasks(b)}function l(){return a.debug.requestNextFrame?a.debug.requestNextFrame(h):h()}function c(){for(var a=
0;a<e.length;){var b=e[a];a++;if(b.removed){e.splice(a-1,1);for(var c=0;c<m.length;c++){var x=m[c];if(b.phases[x]){var x=p[x],d=x.indexOf(b);-1!==d&&x.splice(d,1)}}}}}function g(){for(;y.length;){var b=y.shift();b.isActive&&(b.isActive=!1,b.callback())}a.debug.willDispatch=!1}function h(){return k(n)}Object.defineProperty(a,"__esModule",{value:!0});a.now=f;var d=function(){return function(a){this.phases=a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),v=function(){function a(a){this.callback=
a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),z=-1,t=0,B=0,A=Number.POSITIVE_INFINITY,w={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},m=["prepare","preRender","render","postRender","update"],y=[],e=[],p={prepare:[],preRender:[],render:[],postRender:[],update:[]},x=function(){function b(a){this._task=a}b.prototype.remove=function(){this._task.removed=!0};b.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=
a.now())};b.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=a.now()-this._task.pausedAt))};return b}();a.FrameTaskHandle=x;a.debug={frameTasks:e,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);for(var b=0;b<e.length;b++)e[b].removed=!0;a&&c()},dispatch:g,executeFrameTasks:function(b){void 0===b&&(b=a.now());0>z&&(z=b);var x=b-z,d=0<B?B:A,h=Math.max(0,x-d);z=b;for(var t=0;t<e.length;t++){var g=
e[t];-1!==g.epoch&&(g.dt=x)}for(t=0;t<m.length;t++)for(var x=m[t],f=p[x],k=0;k<f.length;k++)g=f[(k+F)%f.length],g.paused||g.removed||(0===t&&g.ticks++,-1===g.epoch&&(g.epoch=b),w.time=b,w.deltaTime=g.dt,w.elapsedFrameTime=a.now()-b,w.frameDuration=d-h,w.spendInTask=b-g.epoch,g.phases[x].call(g,w));c();++F}};a.schedule=function(b){b=new v(b);y.push(b);a.debug.willDispatch||(a.debug.willDispatch=!0,r(g));return b};a.addFrameTask=function(b){var c=new d(b);e.push(c);for(var h=0,t=m;h<t.length;h++){var g=
t[h];b[g]&&p[g].push(c)}a.debug.rafId||(z=-1,a.debug.rafId=l());return new x(c)};a.setFrameRate=function(a){if(0>=a)B=t=0;else{var b=1.05*A;a=Math.ceil(1E3/a/b);t=(a-1)*b;B=a*A}};var F=0;a.requestNextFrame=l})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(b,a,r){function f(){if(r.postMessage&&!r.importScripts){var a=r.onmessage,b=!0;r.onmessage=function(){b=!1};r.postMessage("","*");r.onmessage=a;return b}return!1}var k=r.MutationObserver||r.WebKitMutationObserver;
return function(){var a;if(r.process&&r.process.nextTick)a=function(a){r.process.nextTick(a)};else if(r.Promise)a=function(a){r.Promise.resolve().then(a)};else if(k){var b=[],c=document.createElement("div");(new k(function(){for(;0<b.length;)b.shift()()})).observe(c,{attributes:!0});a=function(a){b.push(a);c.setAttribute("queueStatus","1")}}else if(f()){var g=[];r.addEventListener("message",function(a){if(a.source===r&&"esri-nexttick-message"===a.data)for(a.stopPropagation();g.length;)g.shift()()},
!0);a=function(a){g.push(a);r.postMessage("esri-nexttick-message","*")}}else a=r.setImmediate?function(a){return r.setImmediate(a)}:function(a){return r.setTimeout(a,0)};return a}()})},"esri/core/now":function(){define(["require","exports","./global"],function(b,a,r){return function(){var a=r.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};
if(a.oNow)return function(){return a.oNow()};var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(b,a,r,f){var k=f();b=r.requestAnimationFrame;if(!b){a=["ms","moz","webkit","o"];for(var n=0;n<a.length&&!b;++n)b=r[a[n]+"RequestAnimationFrame"];b||(b=function(a){var b=f(),g=Math.max(0,16-(b-k)),h=r.setTimeout(function(){a(f())},
g);k=b+g;return h})}return b})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(b,a,r,f,k,n){function l(a,b,d){void 0===d&&(d=c);if(b&&"object"===typeof b){for(var h=k.getProperties(a),g=h.metadatas,t={},B=0,l=Object.getOwnPropertyNames(b);B<l.length;B++){var w=t,m=g,y=l[B],e=b,p=d,x=n.originSpecificReadPropertyDefinition(m[y],p);x&&(!x.read||!1!==x.read.enabled&&!x.read.source)&&(w[y]=
!0);for(var F=0,G=Object.getOwnPropertyNames(m);F<G.length;F++){var C=G[F],x=n.originSpecificReadPropertyDefinition(m[C],p),r;a:{r=y;var E=e;if(x&&x.read&&!1!==x.read.enabled&&x.read.source)if(x=x.read.source,"string"===typeof x){if(x===r||-1<x.indexOf(".")&&0===x.indexOf(r)&&f.exists(x,E)){r=!0;break a}}else for(var P=0;P<x.length;P++){var da=x[P];if(da===r||-1<da.indexOf(".")&&0===da.indexOf(r)&&f.exists(da,E)){r=!0;break a}}r=!1}r&&(w[C]=!0)}}h.setDefaultOrigin(d.origin);l=0;for(w=Object.getOwnPropertyNames(t);l<
w.length;l++)B=w[l],y=(m=n.originSpecificReadPropertyDefinition(g[B],d).read)&&m.source,e=void 0,e=y&&"string"===typeof y?f.valueOf(b,y):b[B],m&&m.reader&&(e=m.reader.call(a,e,b,d)),void 0!==e&&h.set(B,e);b=0;for(g=Object.getOwnPropertyNames(g);b<g.length;b++)B=g[b],t[B]||(l=a,w=h,m=d,y=(y=n.originSpecificReadPropertyDefinition(w.metadatas[B],m))&&y.read&&y.read.default,void 0!==y&&(l="function"===typeof y?y.call(l,B,m):y,void 0!==l&&w.set(B,l)));h.setDefaultOrigin("user")}}Object.defineProperty(a,
"__esModule",{value:!0});var c={origin:"service"};a.read=l;a.readLoadable=function(a,b,d,f){void 0===f&&(f=c);b=r({},f,{messages:[]});d(b);b.messages.forEach(function(b){"warning"!==b.type||a.loaded?f&&f.messages.push(b):a.loadWarnings.push(b)})};a.default=l})},"esri/core/accessorSupport/write":function(){define("require exports ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(b,a,r,f,k,n,l){function c(a,b,c,t,g,f){if(!t||!t.write)return!1;var d=a.get(c);
if(void 0===d)return!1;if(!g&&t.write.overridePolicy){var m=t.write.overridePolicy.call(a,d,c,f);void 0!==m&&(g=m)}g||(g=t.write);if(!g||!1===g.enabled)return!1;if(null===d){if(g.allowNull)return!0;g.isRequired&&((a=new r("web-document-write:property-required","Missing value for required property '"+c+"' on '"+a.declaredClass+"'",{propertyName:c,target:a}),f)&&f.messages?f.messages.push(a):a&&!f&&h.error(a.name,a.message));return!1}return!g.ignoreOrigin&&f&&f.origin&&b.store.originOf(c)<k.nameToId(f.origin)?
!1:!0}function g(a,b,h){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return n.merge(b,a.toJSON());var d=n.getProperties(a),g=d.metadatas,f;for(f in g){var z=l.originSpecificWritePropertyDefinition(g[f],h);if(c(a,d,f,z,null,h)){var m=a.get(f),v={};z.write.writer.call(a,m,v,"string"===typeof z.write.target?z.write.target:f,h);z=v;0<Object.keys(z).length&&(b=n.merge(b,z),h&&h.writtenProperties&&h.writtenProperties.push({target:a,propName:f,oldOrigin:k.idToReadableName(d.store.originOf(f)),
newOrigin:h.origin}))}}return b}Object.defineProperty(a,"__esModule",{value:!0});var h=f.getLogger("esri.core.accessorSupport.write");a.willPropertyWrite=function(a,b,h,t){var d=n.getProperties(a),g=l.originSpecificWritePropertyDefinition(d.metadatas[b],t);return g?c(a,d,b,g,h,t):!1};a.write=g;a.disableWriteDefaultPolicy=function(a){return function(b){return{enabled:b!==a}}};a.default=g})},"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),
function(b,a,r,f,k,n,l,c){b=function(a){function b(b){b=a.call(this)||this;b.latestWkid=null;b.wkid=null;b.wkt=null;return b}r(b,a);d=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return d.WebMercator;if(4326===a.wkid)return d.WGS84}var b=new d;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var b;return a&&"object"===typeof a?a:(b={},b["string"===typeof a?"wkt":"wkid"]=a,b)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return c.isWGS84(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return c.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return c.isGeographic(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return c.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,b){this.wkid||(b.wkt=a)};b.prototype.clone=function(){if(this===
d.WGS84)return d.WGS84;if(this===d.WebMercator)return d.WebMercator;var a=new d;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};b.prototype.equals=function(a){return c.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var d;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;f([l.property({dependsOn:["wkid"],
readOnly:!0})],b.prototype,"isWGS84",null);f([l.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);f([l.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);f([l.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWrappable",null);f([l.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);f([l.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?
!0:!1}}}}}}})],b.prototype,"wkid",void 0);f([l.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);f([l.writer("wkt"),l.writer("web-scene","wkt")],b.prototype,"writeWkt",null);f([l.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);f([l.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=d=f([l.subclass("esri.geometry.SpatialReference")],
b)}(l.declared(k));b.prototype.toJSON.isDefaultToJSON=!0;b.GCS_NAD_1927=new b({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});b.WGS84=new b(4326);b.WGS84.wkt=n.substitute({Central_Meridian:"0.0"},c.getInfo(b.WGS84).wkTemplate);b.WebMercator=new b({wkid:102100,latestWkid:3857});Object.freeze&&(Object.freeze(b.GCS_NAD_1927),Object.freeze(b.WGS84),Object.freeze(b.WebMercator));
return b})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","./WKIDUnitConversion"],function(b,a,r){function f(a){return a.wkid&&!0===k[a.wkid]}Object.defineProperty(a,"__esModule",{value:!0});var k={102113:!0,102100:!0,3857:!0,3785:!0},n={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};b=[-2.0037508342788905E7,2.0037508342788905E7];var l=[-2.0037508342787E7,2.0037508342787E7],c={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:b,origin:l,dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:b,origin:l,
dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:b,origin:l,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',
valid:b,origin:l,dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};a.equals=function(a,b){if(b){if(a===b)return!0;if(null!=a.wkid||null!=b.wkid)return a.wkid===b.wkid||f(a)&&f(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid;if(a.wkt&&b.wkt)return a.wkt.toUpperCase()===b.wkt.toUpperCase()}return!1};a.getInfo=function(a){return a.wkid?c[a.wkid]:null};a.isGeographic=function(a){return a.wkid?null==r[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1};a.isWGS84=function(a){return 4326===
a.wkid};a.isWebMercator=f;a.isWrappable=function(a){return a.wkid&&!0===n[a.wkid]}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var b,a={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,
8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,
26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53034:0,53048:0,53049:0,
54034:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,
103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,
103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,
103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,
103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(b=2E3;2045>=b;b++)a[b]=0;for(b=2056;2065>=b;b++)a[b]=0;for(b=2067;2135>=b;b++)a[b]=0;for(b=2137;2154>=b;b++)a[b]=0;for(b=2161;2170>=b;b++)a[b]=0;for(b=2172;2193>=b;b++)a[b]=0;for(b=2195;2198>=b;b++)a[b]=0;for(b=2200;2203>=b;b++)a[b]=0;for(b=2205;2217>=b;b++)a[b]=0;for(b=2222;2224>=b;b++)a[b]=1;for(b=2225;2250>=b;b++)a[b]=2;
for(b=2251;2253>=b;b++)a[b]=1;for(b=2257;2264>=b;b++)a[b]=2;for(b=2274;2279>=b;b++)a[b]=2;for(b=2280;2282>=b;b++)a[b]=1;for(b=2283;2289>=b;b++)a[b]=2;for(b=2290;2292>=b;b++)a[b]=0;for(b=2308;2313>=b;b++)a[b]=0;for(b=2315;2491>=b;b++)a[b]=0;for(b=2494;2866>=b;b++)a[b]=0;for(b=2867;2869>=b;b++)a[b]=1;for(b=2870;2888>=b;b++)a[b]=2;for(b=2891;2895>=b;b++)a[b]=2;for(b=2896;2898>=b;b++)a[b]=1;for(b=2902;2908>=b;b++)a[b]=2;for(b=2915;2920>=b;b++)a[b]=2;for(b=2921;2923>=b;b++)a[b]=1;for(b=2924;2930>=b;b++)a[b]=
2;for(b=2931;2962>=b;b++)a[b]=0;for(b=2964;2968>=b;b++)a[b]=2;for(b=2969;2973>=b;b++)a[b]=0;for(b=2975;2991>=b;b++)a[b]=0;for(b=2995;3051>=b;b++)a[b]=0;for(b=3054;3079>=b;b++)a[b]=0;for(b=3081;3088>=b;b++)a[b]=0;for(b=3092;3101>=b;b++)a[b]=0;for(b=3106;3138>=b;b++)a[b]=0;for(b=3146;3151>=b;b++)a[b]=0;for(b=3153;3166>=b;b++)a[b]=0;for(b=3168;3172>=b;b++)a[b]=0;for(b=3174;3203>=b;b++)a[b]=0;for(b=3294;3358>=b;b++)a[b]=0;for(b=3367;3403>=b;b++)a[b]=0;for(b=3408;3416>=b;b++)a[b]=0;for(b=3417;3438>=b;b++)a[b]=
2;for(b=3441;3446>=b;b++)a[b]=2;for(b=3447;3450>=b;b++)a[b]=0;for(b=3451;3459>=b;b++)a[b]=2;for(b=3460;3478>=b;b++)a[b]=0;for(b=3554;3559>=b;b++)a[b]=0;for(b=3560;3570>=b;b++)a[b]=2;for(b=3571;3581>=b;b++)a[b]=0;for(b=3594;3597>=b;b++)a[b]=0;for(b=3601;3604>=b;b++)a[b]=0;for(b=3637;3639>=b;b++)a[b]=0;for(b=3665;3667>=b;b++)a[b]=0;for(b=3693;3695>=b;b++)a[b]=0;for(b=3701;3727>=b;b++)a[b]=0;for(b=3728;3739>=b;b++)a[b]=2;for(b=3740;3751>=b;b++)a[b]=0;for(b=3753;3760>=b;b++)a[b]=2;for(b=3761;3773>=b;b++)a[b]=
0;for(b=3775;3777>=b;b++)a[b]=0;for(b=3779;3781>=b;b++)a[b]=0;for(b=3783;3785>=b;b++)a[b]=0;for(b=3788;3791>=b;b++)a[b]=0;for(b=3797;3802>=b;b++)a[b]=0;for(b=3814;3816>=b;b++)a[b]=0;for(b=3825;3829>=b;b++)a[b]=0;for(b=3832;3841>=b;b++)a[b]=0;for(b=3844;3852>=b;b++)a[b]=0;for(b=3873;3885>=b;b++)a[b]=0;for(b=3890;3893>=b;b++)a[b]=0;for(b=3907;3912>=b;b++)a[b]=0;for(b=3942;3950>=b;b++)a[b]=0;for(b=3968;3970>=b;b++)a[b]=0;for(b=3973;3976>=b;b++)a[b]=0;for(b=3986;3989>=b;b++)a[b]=0;for(b=3994;3997>=b;b++)a[b]=
0;for(b=4048;4051>=b;b++)a[b]=0;for(b=4056;4063>=b;b++)a[b]=0;for(b=4093;4096>=b;b++)a[b]=0;for(b=4390;4398>=b;b++)a[b]=0;for(b=4399;4413>=b;b++)a[b]=2;for(b=4418;4433>=b;b++)a[b]=2;for(b=4455;4457>=b;b++)a[b]=2;for(b=4484;4489>=b;b++)a[b]=0;for(b=4491;4554>=b;b++)a[b]=0;for(b=4568;4589>=b;b++)a[b]=0;for(b=4652;4656>=b;b++)a[b]=0;for(b=4766;4800>=b;b++)a[b]=0;for(b=5014;5016>=b;b++)a[b]=0;for(b=5069;5072>=b;b++)a[b]=0;for(b=5105;5130>=b;b++)a[b]=0;for(b=5173;5188>=b;b++)a[b]=0;for(b=5253;5259>=b;b++)a[b]=
0;for(b=5269;5275>=b;b++)a[b]=0;for(b=5292;5311>=b;b++)a[b]=0;for(b=5329;5331>=b;b++)a[b]=0;for(b=5343;5349>=b;b++)a[b]=0;for(b=5355;5357>=b;b++)a[b]=0;for(b=5387;5389>=b;b++)a[b]=0;for(b=5459;5463>=b;b++)a[b]=0;for(b=5479;5482>=b;b++)a[b]=0;for(b=5518;5520>=b;b++)a[b]=0;for(b=5530;5539>=b;b++)a[b]=0;for(b=5550;5552>=b;b++)a[b]=0;for(b=5562;5583>=b;b++)a[b]=0;for(b=5623;5625>=b;b++)a[b]=2;for(b=5631;5639>=b;b++)a[b]=0;for(b=5649;5653>=b;b++)a[b]=0;for(b=5663;5680>=b;b++)a[b]=0;for(b=5682;5685>=b;b++)a[b]=
0;for(b=5875;5877>=b;b++)a[b]=0;for(b=5921;5940>=b;b++)a[b]=0;for(b=6050;6125>=b;b++)a[b]=0;for(b=6244;6275>=b;b++)a[b]=0;for(b=6328;6348>=b;b++)a[b]=0;for(b=6350;6356>=b;b++)a[b]=0;for(b=6366;6372>=b;b++)a[b]=0;for(b=6381;6387>=b;b++)a[b]=0;for(b=6393;6404>=b;b++)a[b]=0;for(b=6480;6483>=b;b++)a[b]=0;for(b=6511;6514>=b;b++)a[b]=0;for(b=6579;6581>=b;b++)a[b]=0;for(b=6619;6624>=b;b++)a[b]=0;for(b=6625;6627>=b;b++)a[b]=2;for(b=6628;6632>=b;b++)a[b]=0;for(b=6634;6637>=b;b++)a[b]=0;for(b=6669;6692>=b;b++)a[b]=
0;for(b=6707;6709>=b;b++)a[b]=0;for(b=6720;6723>=b;b++)a[b]=0;for(b=6732;6738>=b;b++)a[b]=0;for(b=6931;6933>=b;b++)a[b]=0;for(b=6956;6959>=b;b++)a[b]=0;for(b=7005;7007>=b;b++)a[b]=0;for(b=7057;7070>=b;b++)a[b]=2;for(b=7074;7082>=b;b++)a[b]=0;for(b=7109;7118>=b;b++)a[b]=0;for(b=7119;7127>=b;b++)a[b]=1;for(b=7374;7376>=b;b++)a[b]=0;for(b=7528;7586>=b;b++)a[b]=0;for(b=7587;7645>=b;b++)a[b]=2;for(b=7755;7787>=b;b++)a[b]=0;for(b=7791;7795>=b;b++)a[b]=0;for(b=7799;7801>=b;b++)a[b]=0;for(b=7803;7805>=b;b++)a[b]=
0;for(b=7825;7831>=b;b++)a[b]=0;for(b=7845;7859>=b;b++)a[b]=0;for(b=8013;8032>=b;b++)a[b]=0;for(b=20002;20032>=b;b++)a[b]=0;for(b=20062;20092>=b;b++)a[b]=0;for(b=20135;20138>=b;b++)a[b]=0;for(b=20248;20258>=b;b++)a[b]=0;for(b=20348;20358>=b;b++)a[b]=0;for(b=20436;20440>=b;b++)a[b]=0;for(b=20822;20824>=b;b++)a[b]=0;for(b=20934;20936>=b;b++)a[b]=0;for(b=21035;21037>=b;b++)a[b]=0;for(b=21095;21097>=b;b++)a[b]=0;for(b=21148;21150>=b;b++)a[b]=0;for(b=21413;21423>=b;b++)a[b]=0;for(b=21473;21483>=b;b++)a[b]=
0;for(b=21780;21782>=b;b++)a[b]=0;for(b=21891;21894>=b;b++)a[b]=0;for(b=21896;21899>=b;b++)a[b]=0;for(b=22171;22177>=b;b++)a[b]=0;for(b=22181;22187>=b;b++)a[b]=0;for(b=22191;22197>=b;b++)a[b]=0;for(b=22234;22236>=b;b++)a[b]=0;for(b=22521;22525>=b;b++)a[b]=0;for(b=22991;22994>=b;b++)a[b]=0;for(b=23028;23038>=b;b++)a[b]=0;for(b=23830;23853>=b;b++)a[b]=0;for(b=23866;23872>=b;b++)a[b]=0;for(b=23877;23884>=b;b++)a[b]=0;for(b=23886;23894>=b;b++)a[b]=0;for(b=23946;23948>=b;b++)a[b]=0;for(b=24311;24313>=
b;b++)a[b]=0;for(b=24342;24347>=b;b++)a[b]=0;for(b=24370;24374>=b;b++)a[b]=10;for(b=24375;24381>=b;b++)a[b]=0;for(b=24718;24721>=b;b++)a[b]=0;for(b=24817;24821>=b;b++)a[b]=0;for(b=24877;24882>=b;b++)a[b]=0;for(b=24891;24893>=b;b++)a[b]=0;for(b=25391;25395>=b;b++)a[b]=0;for(b=25828;25838>=b;b++)a[b]=0;for(b=26191;26195>=b;b++)a[b]=0;for(b=26391;26393>=b;b++)a[b]=0;for(b=26701;26722>=b;b++)a[b]=0;for(b=26729;26799>=b;b++)a[b]=2;for(b=26801;26803>=b;b++)a[b]=2;for(b=26811;26813>=b;b++)a[b]=2;for(b=26847;26870>=
b;b++)a[b]=2;for(b=26891;26899>=b;b++)a[b]=0;for(b=26901;26923>=b;b++)a[b]=0;for(b=26929;26946>=b;b++)a[b]=0;for(b=26948;26998>=b;b++)a[b]=0;for(b=27037;27040>=b;b++)a[b]=0;for(b=27205;27232>=b;b++)a[b]=0;for(b=27258;27260>=b;b++)a[b]=0;for(b=27391;27398>=b;b++)a[b]=0;for(b=27561;27564>=b;b++)a[b]=0;for(b=27571;27574>=b;b++)a[b]=0;for(b=27581;27584>=b;b++)a[b]=0;for(b=27591;27594>=b;b++)a[b]=0;for(b=28191;28193>=b;b++)a[b]=0;for(b=28348;28358>=b;b++)a[b]=0;for(b=28402;28432>=b;b++)a[b]=0;for(b=28462;28492>=
b;b++)a[b]=0;for(b=29118;29122>=b;b++)a[b]=0;for(b=29168;29172>=b;b++)a[b]=0;for(b=29177;29185>=b;b++)a[b]=0;for(b=29187;29195>=b;b++)a[b]=0;for(b=29900;29903>=b;b++)a[b]=0;for(b=30161;30179>=b;b++)a[b]=0;for(b=30491;30494>=b;b++)a[b]=0;for(b=30729;30732>=b;b++)a[b]=0;for(b=31251;31259>=b;b++)a[b]=0;for(b=31265;31268>=b;b++)a[b]=0;for(b=31275;31279>=b;b++)a[b]=0;for(b=31281;31297>=b;b++)a[b]=0;for(b=31461;31469>=b;b++)a[b]=0;for(b=31491;31495>=b;b++)a[b]=0;for(b=31917;31922>=b;b++)a[b]=0;for(b=31965;32E3>=
b;b++)a[b]=0;for(b=32001;32003>=b;b++)a[b]=2;for(b=32005;32031>=b;b++)a[b]=2;for(b=32033;32060>=b;b++)a[b]=2;for(b=32064;32067>=b;b++)a[b]=2;for(b=32074;32077>=b;b++)a[b]=2;for(b=32081;32086>=b;b++)a[b]=0;for(b=32107;32130>=b;b++)a[b]=0;for(b=32133;32158>=b;b++)a[b]=0;for(b=32164;32167>=b;b++)a[b]=2;for(b=32180;32199>=b;b++)a[b]=0;for(b=32201;32260>=b;b++)a[b]=0;for(b=32301;32360>=b;b++)a[b]=0;for(b=32601;32662>=b;b++)a[b]=0;for(b=32664;32667>=b;b++)a[b]=2;for(b=32701;32761>=b;b++)a[b]=0;for(b=53001;53004>=
b;b++)a[b]=0;for(b=53008;53019>=b;b++)a[b]=0;for(b=53021;53032>=b;b++)a[b]=0;for(b=53042;53046>=b;b++)a[b]=0;for(b=53074;53080>=b;b++)a[b]=0;for(b=54001;54004>=b;b++)a[b]=0;for(b=54008;54019>=b;b++)a[b]=0;for(b=54021;54032>=b;b++)a[b]=0;for(b=54042;54046>=b;b++)a[b]=0;for(b=54048;54053>=b;b++)a[b]=0;for(b=54074;54080>=b;b++)a[b]=0;for(b=102001;102040>=b;b++)a[b]=0;for(b=102042;102063>=b;b++)a[b]=0;for(b=102065;102067>=b;b++)a[b]=0;for(b=102070;102117>=b;b++)a[b]=0;for(b=102122;102216>=b;b++)a[b]=
0;for(b=102221;102377>=b;b++)a[b]=0;for(b=102382;102388>=b;b++)a[b]=0;for(b=102389;102398>=b;b++)a[b]=2;for(b=102399;102444>=b;b++)a[b]=0;for(b=102445;102447>=b;b++)a[b]=2;for(b=102448;102458>=b;b++)a[b]=0;for(b=102459;102468>=b;b++)a[b]=2;for(b=102469;102497>=b;b++)a[b]=0;for(b=102500;102519>=b;b++)a[b]=1;for(b=102520;102524>=b;b++)a[b]=0;for(b=102525;102529>=b;b++)a[b]=2;for(b=102530;102568>=b;b++)a[b]=0;for(b=102570;102588>=b;b++)a[b]=0;for(b=102590;102598>=b;b++)a[b]=0;for(b=102601;102603>=b;b++)a[b]=
0;for(b=102605;102628>=b;b++)a[b]=0;for(b=102629;102646>=b;b++)a[b]=2;for(b=102648;102700>=b;b++)a[b]=2;for(b=102701;102703>=b;b++)a[b]=0;for(b=102707;102730>=b;b++)a[b]=2;for(b=102733;102758>=b;b++)a[b]=2;for(b=102767;102900>=b;b++)a[b]=0;for(b=102965;102969>=b;b++)a[b]=0;for(b=102971;102973>=b;b++)a[b]=0;for(b=102975;102989>=b;b++)a[b]=0;for(b=102990;102992>=b;b++)a[b]=1;for(b=102997;103002>=b;b++)a[b]=0;for(b=103003;103008>=b;b++)a[b]=2;for(b=103009;103011>=b;b++)a[b]=0;for(b=103012;103014>=b;b++)a[b]=
2;for(b=103019;103021>=b;b++)a[b]=0;for(b=103022;103024>=b;b++)a[b]=2;for(b=103029;103031>=b;b++)a[b]=0;for(b=103032;103034>=b;b++)a[b]=2;for(b=103065;103068>=b;b++)a[b]=0;for(b=103074;103076>=b;b++)a[b]=0;for(b=103077;103079>=b;b++)a[b]=1;for(b=103080;103082>=b;b++)a[b]=0;for(b=103083;103085>=b;b++)a[b]=2;for(b=103090;103093>=b;b++)a[b]=0;for(b=103097;103099>=b;b++)a[b]=0;for(b=103100;103102>=b;b++)a[b]=2;for(b=103107;103109>=b;b++)a[b]=0;for(b=103110;103112>=b;b++)a[b]=2;for(b=103113;103116>=b;b++)a[b]=
0;for(b=103117;103120>=b;b++)a[b]=2;for(b=103153;103157>=b;b++)a[b]=0;for(b=103158;103162>=b;b++)a[b]=2;for(b=103163;103165>=b;b++)a[b]=0;for(b=103166;103168>=b;b++)a[b]=1;for(b=103169;103171>=b;b++)a[b]=2;for(b=103186;103188>=b;b++)a[b]=0;for(b=103189;103191>=b;b++)a[b]=2;for(b=103192;103195>=b;b++)a[b]=0;for(b=103196;103199>=b;b++)a[b]=2;for(b=103200;103224>=b;b++)a[b]=0;for(b=103225;103227>=b;b++)a[b]=1;for(b=103232;103237>=b;b++)a[b]=0;for(b=103238;103243>=b;b++)a[b]=2;for(b=103244;103246>=b;b++)a[b]=
0;for(b=103247;103249>=b;b++)a[b]=2;for(b=103254;103256>=b;b++)a[b]=0;for(b=103257;103259>=b;b++)a[b]=2;for(b=103264;103266>=b;b++)a[b]=0;for(b=103267;103269>=b;b++)a[b]=2;for(b=103300;103375>=b;b++)a[b]=0;for(b=103381;103383>=b;b++)a[b]=0;for(b=103384;103386>=b;b++)a[b]=1;for(b=103387;103389>=b;b++)a[b]=0;for(b=103390;103392>=b;b++)a[b]=2;for(b=103397;103399>=b;b++)a[b]=0;for(b=103400;103471>=b;b++)a[b]=2;for(b=103476;103478>=b;b++)a[b]=0;for(b=103479;103481>=b;b++)a[b]=2;for(b=103486;103488>=b;b++)a[b]=
0;for(b=103489;103491>=b;b++)a[b]=2;for(b=103492;103495>=b;b++)a[b]=0;for(b=103496;103499>=b;b++)a[b]=2;for(b=103528;103543>=b;b++)a[b]=0;for(b=103544;103548>=b;b++)a[b]=2;for(b=103549;103551>=b;b++)a[b]=0;for(b=103552;103554>=b;b++)a[b]=1;for(b=103555;103557>=b;b++)a[b]=2;for(b=103558;103560>=b;b++)a[b]=0;for(b=103571;103573>=b;b++)a[b]=0;for(b=103574;103576>=b;b++)a[b]=2;for(b=103577;103580>=b;b++)a[b]=0;for(b=103581;103583>=b;b++)a[b]=2;for(b=103600;103694>=b;b++)a[b]=0;for(b=103700;103793>=b;b++)a[b]=
2;for(b=103794;103871>=b;b++)a[b]=0;for(b=103900;103971>=b;b++)a[b]=2;return a})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),function(b,a,r,f,k,n,l,c,g,h){function d(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var v=[0,0],z=k.getLogger("esri.geometry.Point");
b=function(a){function b(b,c,d,e,p){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}r(b,a);t=b;b.copy=function(a,b){b.x=a.x;b.y=a.y;b.z=a.z;b.m=a.m;b.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};b.distance=function(a,b){var c=a.x-b.x,e=a.y-b.y;a=a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+e*e+a*a)};b.prototype.normalizeCtorArgs=function(a,b,t,e,p){var x;if(Array.isArray(a))x=a,p=b,a=x[0],b=x[1],t=x[2],e=x[3];else if(a&&
"object"===typeof a){if(x=a,a=null!=x.x?x.x:x.longitude,b=null!=x.y?x.y:x.latitude,t=null!=x.z?x.z:x.altitude,e=x.m,(p=x.spatialReference)&&"esri.geometry.SpatialReference"!==p.declaredClass&&(p=new c(p)),null!=x.longitude||null!=x.latitude)null==x.longitude?z.warn(".longitude\x3d","Latitude was defined without longitude"):null==x.latitude?z.warn(".latitude\x3d","Longitude was defined without latitude"):!x.declaredClass&&p&&p.isWebMercator&&(b=h.lngLatToXY(x.longitude,x.latitude,v),a=b[0],b=b[1])}else d(t)?
(p=t,t=null):d(e)&&(p=e,e=null);a={x:a,y:b};null==a.x&&null!=a.y?z.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&z.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=p&&(a.spatialReference=p);null!=t&&(a.z=t);null!=e&&(a.m=e);return a};Object.defineProperty(b.prototype,"hasM",{get:function(){return void 0!==this.m},set:function(a){var b=this._get("hasM");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var b=this._get("hasZ");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return h.xyToLngLat(this.x,this.y,v)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",
h.lngLatToXY(this.x,a,v)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return h.xyToLngLat(this._get("x"),this._get("y"),v)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("x",h.lngLatToXY(a,this._get("y"),v)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",
a))},enumerable:!0,configurable:!0});b.prototype.clone=function(){var a=new t;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};b.prototype.copy=function(a){t.copy(a,this);return this};b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,e=this.y,p=this.z,x=this.m,d=this.spatialReference,t=a.z,g=a.m,f=a.x;b=a.y;a=a.spatialReference;if(!d.equals(a))if(d.isWebMercator&&a.isWGS84)b=h.lngLatToXY(f,b),f=b[0],b=b[1],a=d;else if(d.isWGS84&&a.isWebMercator)b=
h.xyToLngLat(f,b),f=b[0],b=b[1],a=d;else return!1;return c===f&&e===b&&p===t&&x===g&&d.wkid===a.wkid};b.prototype.offset=function(a,b,c){this.x+=a;this.y+=b;null!=c&&this.hasZ&&(this.z+=c);return this};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=g.getInfo(this.spatialReference);if(!a)return this;var b=this.x,c=a.valid,a=c[0],e=c[1],c=2*e;b>e?(a=Math.ceil(Math.abs(b-e)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};b.prototype.distance=
function(a){return t.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var t;f([n.property({dependsOn:["x","y","z","m","spatialReference"]})],b.prototype,"cache",void 0);f([n.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);f([n.property({type:Boolean,
dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);f([n.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);f([n.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);f([n.property({type:Number,json:{write:{isRequired:!0}}})],b.prototype,"x",void 0);f([n.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);f([n.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,
"z",void 0);f([n.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=t=f([n.subclass("esri.geometry.Point")],b)}(n.declared(l));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),function(b,a,r,f,k,n){function l(a,b,c,d,h){var m;if("x"in a&&"x"in h)b=b(a.x,
a.y,v,0,d),h.x=b[0],h.y=b[1];else if("xmin"in a&&"xmin"in h)m=b(a.xmin,a.ymin,v,0,d),h.xmin=m[0],h.ymin=m[1],b=b(a.xmax,a.ymax,v,0,d),h.xmax=b[0],h.ymax=b[1];else if("paths"in a&&"paths"in h||"rings"in a&&"rings"in h){m="paths"in a?a.paths:a.rings;var t=[],e=void 0;for(a=0;a<m.length;a++){var p=m[a],e=[];t.push(e);for(var x=0;x<p.length;x++)e.push(b(p[x][0],p[x][1],[0,0],0,d)),2<p[x].length&&e[x].push(p[x][2]),3<p[x].length&&e[x].push(p[x][3])}"paths"in h?h.paths=t:h.rings=t}else if("points"in a&&
"points"in h){m=a.points;t=[];for(a=0;a<m.length;a++)t[a]=b(m[a][0],m[a][1],[0,0],0,d),2<m[a].length&&t[a].push(m[a][2]),3<m[a].length&&t[a].push(m[a][3]);h.points=t}else if("type"in a&&"mesh"===a.type&&"type"in h&&"mesh"===h.type&&(m=a.vertexAttributes&&a.vertexAttributes.position,t=h.vertexAttributes&&h.vertexAttributes.position,m))for(e=[0,0],a=0;a<m.length;a+=3)b(m[a],m[a+1],e,0,d),t[a]=e[0],t[a+1]=e[1];h.spatialReference=c;return h}function c(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);
b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?n.equals(b,a)?!0:n.isWebMercator(b)&&n.isWGS84(a)||n.isWebMercator(a)&&n.isWGS84(b):!1}function g(a,b,c,h){void 0===c&&(c=[0,0]);void 0===h&&(h=0);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;c[h]=.017453292519943*a*d;c[h+1]=.5*d*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return c}function h(a,b,c,h,g){void 0===c&&(c=[0,0]);void 0===h&&(h=0);void 0===g&&(g=!1);a=a/d*57.29577951308232;c[h]=g?a:a-360*Math.floor((a+
180)/360);c[h+1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/d)));return c}Object.defineProperty(a,"__esModule",{value:!0});var d=f.wgs84Radius,v=[0,0];a.canProject=c;a.project=function(a,b){var d=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return c(d,b)?n.equals(d,b)?r.clone(a):n.isWebMercator(b)?l(a,g,k.WebMercator,!1,r.clone(a)):n.isWGS84(b)?l(a,h,k.WGS84,!1,r.clone(a)):null:null};a.lngLatToXY=g;a.xyToLngLat=h;a.geographicToWebMercator=function(a,b,c){void 0===
b&&(b=!1);void 0===c&&(c=r.clone(a));return l(a,g,k.WebMercator,b,c)};a.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=r.clone(a));return l(a,h,k.WGS84,b,c)}})},"esri/geometry/support/contains":function(){define(["require","exports"],function(b,a){function r(a,b,c,g){return b>=a.xmin&&b<=a.xmax&&c>=a.ymin&&c<=a.ymax?null!=g&&a.hasZ?g>=a.zmin&&g<=a.zmax:!0:!1}function f(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var c=!1,g=0,h=a.length;g<h;g++)c=k(c,a[g],b);b=c}else b=
k(!1,a,b);else b=!1;return b}function k(a,b,c){var g=c[0];c=c[1];for(var h=0,d=0,f=b.length;d<f;d++){h++;h===f&&(h=0);var k=b[d],t=k[0],k=k[1],l=b[h],n=l[0],l=l[1];(k<c&&l>=c||l<c&&k>=c)&&t+(c-k)/(l-k)*(n-t)<g&&(a=!a)}return a}Object.defineProperty(a,"__esModule",{value:!0});a.extentContainsPoint=function(a,b){return r(a,b.x,b.y,b.z)};a.extentContainsExtent=function(a,b){var c=b.xmin,g=b.ymin,h=b.zmin,d=b.xmax,f=b.ymax,k=b.zmax;return a.hasZ&&b.hasZ?r(a,c,g,h)&&r(a,c,f,h)&&r(a,d,f,h)&&r(a,d,g,h)&&
r(a,c,g,k)&&r(a,c,f,k)&&r(a,d,f,k)&&r(a,d,g,k):r(a,c,g)&&r(a,c,f)&&r(a,d,f)&&r(a,d,g)};a.extentContainsCoords2D=function(a,b){return r(a,b[0],b[1])};a.extentContainsCoords3D=function(a,b){return r(a,b[0],b[1],b[2])};a.polygonContainsPoint=function(a,b){return f(a,[b.x,b.y])};a.polygonContainsCoords=f})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(b,a,r){function f(a,b){return r.extentContainsPoint(a,b)}function k(a,b){var e=a.hasZ&&b.hasZ,p;if(a.xmin<=
b.xmin){if(p=b.xmin,a.xmax<p)return!1}else if(p=a.xmin,b.xmax<p)return!1;if(a.ymin<=b.ymin){if(p=b.ymin,a.ymax<p)return!1}else if(p=a.ymin,b.ymax<p)return!1;if(e&&b.hasZ)if(a.zmin<=b.zmin){if(e=b.zmin,a.zmax<e)return!1}else if(e=a.zmin,b.zmax<e)return!1;return!0}function n(a,b){var e=b.hasZ?r.extentContainsCoords3D:r.extentContainsCoords2D,p=0;for(b=b.points;p<b.length;p++)if(e(a,b[p]))return!0;return!1}function l(a,b){d[0]=a.xmin;d[1]=a.ymax;v[0]=a.xmax;v[1]=a.ymax;z[0]=a.xmin;z[1]=a.ymin;t[0]=a.xmax;
t[1]=a.ymin;for(var e=0,p=B;e<p.length;e++)if(r.polygonContainsCoords(b,p[e]))return!0;e=0;for(b=b.rings;e<b.length;e++)if(p=b[e],p.length){var c=p[0];if(r.extentContainsCoords2D(a,c))return!0;for(var m=1;m<p.length;m++){var h=p[m];if(r.extentContainsCoords2D(a,h)||g(c,h,A))return!0;c=h}}return!1}function c(a,b){d[0]=a.xmin;d[1]=a.ymax;v[0]=a.xmax;v[1]=a.ymax;z[0]=a.xmin;z[1]=a.ymin;t[0]=a.xmax;t[1]=a.ymin;b=b.paths;for(var e=0;e<b.length;e++){var p=b[e];if(b.length){var c=p[0];if(r.extentContainsCoords2D(a,
c))return!0;for(var m=1;m<p.length;m++){var h=p[m];if(r.extentContainsCoords2D(a,h)||g(c,h,A))return!0;c=h}}}return!1}function g(a,b,e){for(var p=0;p<e.length;p++)if(h(a,b,e[p][0],e[p][1]))return!0;return!1}function h(a,b,e,p,c){var x=a[0];a=a[1];var d=b[0];b=b[1];var m=e[0],h=e[1];e=p[0]-m;var m=x-m,g=d-x;p=p[1]-h;var h=a-h,t=b-a,f=p*g-e*t;if(0===f)return!1;e=(e*h-p*m)/f;m=(g*h-t*m)/f;return 0<=e&&1>=e&&0<=m&&1>=m?(c&&(c[0]=x+e*(d-x),c[1]=a+e*(b-a)),!0):!1}Object.defineProperty(a,"__esModule",{value:!0});
a.extentIntersectsPoint=f;a.extentIntersectsExtent=k;a.extentIntersectsMultipoint=n;var d=[0,0],v=[0,0],z=[0,0],t=[0,0],B=[d,v,z,t],A=[[z,d],[d,v],[v,t],[t,z]];a.extentIntersectsPolygon=l;a.extentIntersectsPolyline=c;var w=[0,0];a.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var e=a[b],p=0;p<e.length-1;p++)for(var c=e[p],d=e[p+1],m=b+1;m<a.length;m++)for(var g=0;g<a[m].length-1;g++){var t=a[m][g],f=a[m][g+1],k=h(c,d,t,f,w);if(k&&!(w[0]===c[0]&&w[1]===c[1]||w[0]===t[0]&&w[1]===t[1]||
w[0]===d[0]&&w[1]===d[1]||w[0]===f[0]&&w[1]===f[1]))return!0}g=e.length;if(!(4>=g))for(p=0;p<g-3;p++){var v=g-1;0===p&&(v=g-2);c=e[p];d=e[p+1];for(m=p+2;m<v;m++)if(t=e[m],f=e[m+1],(k=h(c,d,t,f,w))&&!(w[0]===c[0]&&w[1]===c[1]||w[0]===t[0]&&w[1]===t[1]||w[0]===d[0]&&w[1]===d[1]||w[0]===f[0]&&w[1]===f[1]))return!0}}return!1};a.segmentIntersects=h;a.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return k;case "esriGeometryMultipoint":case "multipoint":return n;case "esriGeometryPoint":case "point":return f;
case "esriGeometryPolygon":case "polygon":return l;case "esriGeometryPolyline":case "polyline":return c;case "mesh":return k}}})},"esri/geometry/Mesh":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/lang ../core/Logger ../core/accessorSupport/decorators ./Extent ./Geometry ./support/MeshComponent ./support/MeshVertexAttributes ./support/triangulationUtils ./support/meshUtils/centerAt ./support/meshUtils/offset ./support/meshUtils/primitives ./support/meshUtils/rotate".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w){var m=l.getLogger("esri.geometry.Mesh");b=function(a){function b(b){b=a.call(this)||this;b.components=null;b.hasZ=!0;b.hasM=!1;b.vertexAttributes=new v.MeshVertexAttributes;b.type="mesh";return b}r(b,a);h=b;Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.spatialReference,b=this.vertexAttributes&&this.vertexAttributes.position;if(!b||0===b.length||this.components&&0===this.components.length)return new g({xmin:0,ymin:0,zmin:0,xmax:0,
ymax:0,zmax:0,spatialReference:a});a={xmin:Infinity,xmax:-Infinity,ymin:Infinity,ymax:-Infinity,zmin:Infinity,zmax:-Infinity,spatialReference:a};if(!this.components)return new g(this.extendExtent(a,b,null));for(var e=0,p=this.components;e<p.length;e++){var c=p[e];if(c.faces)this.extendExtent(a,b,c.faces);else{this.extendExtent(a,b,null);break}}return new g(a)},enumerable:!0,configurable:!0});b.prototype.addComponent=function(a){this.components||(this.components=[]);this.components.push(a);this.clearCache()};
b.prototype.removeComponent=function(a){if(this.components&&(a=this.components.indexOf(a),-1!==a)){this.components=this.components.splice(a,1);return}m.error("removeComponent()","Provided component is not part of the list of components")};b.prototype.rotate=function(a,b,e,c){w.axisAngleFrom(y.x,a/180*Math.PI,p);w.axisAngleFrom(y.y,b/180*Math.PI,x);w.axisAngleFrom(y.z,e/180*Math.PI,F);w.axisAngleMultiply(p,x,p);w.axisAngleMultiply(p,F,p);w.rotate(this,p,c);return this};b.prototype.offset=function(a,
b,p,c){e[0]=a;e[1]=b;e[2]=p;B.offset(this,e,c);return this};b.prototype.centerAt=function(a,b){t.centerAt(this,a,b);return this};b.prototype.clone=function(){return new h({components:n.clone(this.components),spatialReference:this.spatialReference,vertexAttributes:n.clone(this.vertexAttributes)})};b.prototype.vertexAttributesChanged=function(){this.clearCache()};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype.forEachVertex=function(a,b,e){if(b)for(c=0;c<b.length;c++){var p=3*
b[c];e(a[p+0],a[p+1],a[p+2])}else for(var c=0;c<a.length;c+=3)e(a[c+0],a[c+1],a[c+2])};b.prototype.extendExtent=function(a,b,e){this.forEachVertex(b,e,function(b,e,p){a.xmin=Math.min(a.xmin,b);a.xmax=Math.max(a.xmax,b);a.ymin=Math.min(a.ymin,e);a.ymax=Math.max(a.ymax,e);a.zmin=Math.min(a.zmin,p);a.zmax=Math.max(a.zmax,p)});return a};b.createBox=function(a,b){a=new h(A.convertUnitGeometry(A.createUnitSizeBox(),a,b));if(b&&b.imageFace&&"all"!==b.imageFace){var e=a.components[0],p=e.faces,c=A.boxFaceOrder[b.imageFace],
x=6*c;b=new Uint32Array(6);for(var m=new Uint32Array(p.length-6),g=0,t=0,f=0;f<p.length;f++)f>=x&&f<x+6?b[g++]=p[f]:m[t++]=p[f];p=new Float32Array(a.vertexAttributes.uv);c*=8;x=[0,1,1,1,1,0,0,0];for(f=0;f<x.length;f++)p[c+f]=x[f];a.vertexAttributes.uv=p;a.components=[new d({faces:b,material:e.material}),new d({faces:m})]}return a};b.createSphere=function(a,b){return new h(A.convertUnitGeometry(A.createUnitSizeSphere(b&&b.densificationFactor||0),a,b))};b.createCylinder=function(a,b){return new h(A.convertUnitGeometry(A.createUnitSizeCylinder(b&&
b.densificationFactor||0),a,b))};b.createPlane=function(a,b){return new h(A.convertUnitGeometry(A.createUnitSizePlane(b&&b.facing||"up"),a,b))};b.createFromPolygon=function(a,b){var e=z.triangulate(a);return new h({vertexAttributes:{position:e.position},components:[{faces:e.faces,shading:"flat",material:b&&b.material||null}],spatialReference:a.spatialReference})};var h;f([c.property({dependsOn:["vertexAttributes","vertexAttributes.position","components"],json:{read:!1}})],b.prototype,"cache",void 0);
f([c.property({type:[d]})],b.prototype,"components",void 0);f([c.property({dependsOn:["cache"],readOnly:!0,json:{read:!1}})],b.prototype,"extent",null);f([c.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasZ",void 0);f([c.property({readOnly:!0,json:{read:!1,write:!1}})],b.prototype,"hasM",void 0);f([c.property({type:v.MeshVertexAttributes,nonNullable:!0,json:{write:!0}})],b.prototype,"vertexAttributes",void 0);f([k(0,c.cast(d))],b.prototype,"addComponent",null);return b=h=f([c.subclass("esri.geometry.Mesh")],
b)}(c.declared(h));b.prototype.toJSON.isDefaultToJSON=!0;var y={x:[1,0,0],y:[0,1,0],z:[0,0,1]},e=[0,0,0],p=[0,0,0,0],x=[0,0,0,0],F=[0,0,0,0];return b})},"esri/core/tsSupport/paramHelper":function(){define([],function(){return function(b,a){return function(r,f){a(r,f,b)}}})},"esri/geometry/support/MeshComponent":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators ./MeshMaterial ./MeshVertexAttributes".split(" "),
function(b,a,r,f,k,n,l,c,g,h){var d=l.getLogger("esri.geometry.support.MeshComponent");return function(a){function b(b){b=a.call(this)||this;b.faces=null;b.material=null;b.shading="source";return b}r(b,a);t=b;b.prototype.castFaces=function(a){return h.castArray(a,Uint32Array,[Uint16Array],{loggerTag:".faces\x3d",stride:3},d)};b.prototype.clone=function(){return new t({faces:n.clone(this.faces),shading:this.shading,material:n.clone(this.material)})};var t;f([c.property({json:{write:!0}})],b.prototype,
"faces",void 0);f([c.cast("faces")],b.prototype,"castFaces",null);f([c.property({type:g.MeshMaterial,json:{write:!0}})],b.prototype,"material",void 0);f([c.property({type:String,json:{write:!0}})],b.prototype,"shading",void 0);return b=t=f([c.subclass("esri.geometry.support.MeshComponent")],b)}(c.declared(k))})},"esri/geometry/support/MeshMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../../core/accessorSupport/ensureType ./ImageMeshColor ./MeshColor ./ValueMeshColor".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v){Object.defineProperty(a,"__esModule",{value:!0});var z={base:d.default,key:"type",defaultKeyValue:"value",typeMap:{value:v,image:h}};b=function(a){function b(b){b=a.call(this)||this;b.color=null;return b}r(b,a);d=b;b.prototype.castColor=function(a){return a?"string"===typeof a?t.test(a)||k.named[a]?new v({value:a}):new h({url:a}):Array.isArray(a)?new v({value:a}):a instanceof HTMLImageElement||a instanceof HTMLCanvasElement||a instanceof ImageData?new h({data:a}):
g.ensureOneOfType(z,a):a};b.prototype.readColor=function(a,b,e){if(a)switch(a.type){case "image":return new h(a);case "value":return new v(a)}};b.prototype.clone=function(){return new d({color:l.clone(this.color)})};var d;f([c.property({types:z,json:{write:!0}})],b.prototype,"color",void 0);f([c.cast("color")],b.prototype,"castColor",null);f([c.reader("color")],b.prototype,"readColor",null);return b=d=f([c.subclass("esri.geometry.support.MeshResources")],b)}(c.declared(n));a.MeshMaterial=b;var t=
/^\s*(#|rgba?\()/;a.default=b})},"esri/Color":function(){define(["./core/declare","./core/accessorSupport/ensureType","dojo/colors"],function(b,a,r){function f(b){return Math.max(0,Math.min(a.ensureInteger(b),255))}var k=b([r],{declaredClass:"esri.Color",toJSON:function(){return[f(this.r),f(this.g),f(this.b),1<this.a?this.a:f(255*this.a)]},clone:function(){return new k(this.toRgba())}});k.toJSON=function(a){return a&&[f(a.r),f(a.g),f(a.b),1<a.a?a.a:f(255*a.a)]};k.fromJSON=function(a){return a&&new k([a[0],
a[1],a[2],a[3]/255])};k.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};k.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};var n="named blendColors fromRgb fromHex fromArray fromString".split(" ");for(b=0;b<n.length;b++)k[n[b]]=r[n[b]];k.named.rebeccapurple=[102,51,153];return k})},"dojo/colors":function(){define(["./_base/kernel","./_base/lang","./_base/Color","./_base/array"],function(b,a,r,f){var k={};a.setObject("dojo.colors",k);var n=function(a,b,h){0>h&&++h;1<h&&
--h;var c=6*h;return 1>c?a+(b-a)*c:1>2*h?b:2>3*h?a+(b-a)*(2/3-h)*6:a};b.colorFromRgb=r.fromRgb=function(a,b){var c=a.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(c){a=c[2].split(/\s*,\s*/);var d=a.length,c=c[1];if("rgb"==c&&3==d||"rgba"==c&&4==d)return c=a[0],"%"==c.charAt(c.length-1)?(c=f.map(a,function(a){return 2.56*parseFloat(a)}),4==d&&(c[3]=a[3]),r.fromArray(c,b)):r.fromArray(a,b);if("hsl"==c&&3==d||"hsla"==c&&4==d){var c=(parseFloat(a[0])%360+360)%360/360,g=parseFloat(a[1])/
100,k=parseFloat(a[2])/100,g=.5>=k?k*(g+1):k+g-k*g,k=2*k-g,c=[256*n(k,g,c+1/3),256*n(k,g,c),256*n(k,g,c-1/3),1];4==d&&(c[3]=a[3]);return r.fromArray(c,b)}}return null};var l=function(a,b,h){a=Number(a);return isNaN(a)?h:a<b?b:a>h?h:a};r.prototype.sanitize=function(){this.r=Math.round(l(this.r,0,255));this.g=Math.round(l(this.g,0,255));this.b=Math.round(l(this.b,0,255));this.a=l(this.a,0,1);return this};k.makeGrey=r.makeGrey=function(a,b){return r.fromArray([a,a,a,b])};a.mixin(r.named,{aliceblue:[240,
248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,
0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],
forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,
211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,
250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,
221],powderblue:[176,224,230],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,
245,245],yellowgreen:[154,205,50]});return r})},"esri/geometry/support/ImageMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Identifiable ../../core/urlUtils ../../core/accessorSupport/decorators ./MeshColor ../../views/support/screenshotUtils".split(" "),function(b,a,r,f,k,n,l,c,g){return function(a){function b(b){b=a.call(this)||this;b.type="image";return b}r(b,a);c=b;Object.defineProperty(b.prototype,"url",{get:function(){return this._get("url")||
null},set:function(a){this._set("url",a);a&&this._set("data",null)},enumerable:!0,configurable:!0});b.prototype.writeUrl=function(a,b,c,d){b[c]=n.write(a,d)};Object.defineProperty(b.prototype,"data",{get:function(){return this._get("data")||null},set:function(a){this._set("data",a);a&&this._set("url",null)},enumerable:!0,configurable:!0});b.prototype.writeData=function(a,b,c,d){a instanceof HTMLImageElement?a={type:"image-element",src:n.write(a.src,d)}:a instanceof HTMLCanvasElement?(a=a.getContext("2d").getImageData(0,
0,a.width,a.height),a={type:"canvas-element",imageData:this.encodeImageData(a)}):a={type:"image-data",imageData:this.encodeImageData(a)};b[c]=a};b.prototype.readData=function(a,b){switch(a.type){case "image-element":return b=new Image,b.src=a.src,b;case "canvas-element":return a=this.decodeImageData(a.imageData),b=document.createElement("canvas"),b.width=a.width,b.height=a.height,b.getContext("2d").putImageData(a,0,0),b;case "image-data":return this.decodeImageData(a.imageData)}};Object.defineProperty(b.prototype,
"transparent",{get:function(){var a=this.data;return a instanceof HTMLCanvasElement?this.imageDataContainsTransparent(a.getContext("2d").getImageData(0,0,a.width,a.height)):a instanceof ImageData?this.imageDataContainsTransparent(a):!1},set:function(a){null!=a?this._override("transparent",a):this._clearOverride("transparent")},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new c({url:this.url,data:this.data})};b.prototype.encodeImageData=function(a){for(var b="",c=0;c<a.data.length;c++)b+=
String.fromCharCode(a.data[c]);return{data:btoa(b),width:a.width,height:a.height}};b.prototype.decodeImageData=function(a){for(var b=atob(a.data),c=new Uint8ClampedArray(b.length),d=0;d<b.length;d++)c[d]=b.charCodeAt(d);return g.wrapImageData(c,a.width,a.height)};b.prototype.imageDataContainsTransparent=function(a){for(var b=3;b<a.data.length;b+=4)if(255!==a.data[b])return!0;return!1};var c;f([l.property()],b.prototype,"type",void 0);f([l.property({type:String,json:{write:!0}})],b.prototype,"url",
null);f([l.writer("url")],b.prototype,"writeUrl",null);f([l.property({json:{write:{overridePolicy:function(){return{enabled:!this.url}}}}}),l.property()],b.prototype,"data",null);f([l.writer("data")],b.prototype,"writeData",null);f([l.reader("data")],b.prototype,"readData",null);f([l.property({type:Boolean,dependsOn:["data"],json:{write:{overridePolicy:function(){return{enabled:this._isOverridden("transparent")}}}}})],b.prototype,"transparent",null);return b=c=f([l.subclass("esri.geometry.support.ImageMeshColor")],
b)}(l.declared(c.default,k))})},"esri/core/Identifiable":function(){define(["./declare"],function(b){var a=0;return b(null,{constructor:function(){Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+a++})}})})},"esri/core/urlUtils":function(){define("require exports ./tsSupport/assignHelper dojo/io-query dojo/_base/url ../config ./Error ./global ./lang ./Logger".split(" "),function(b,a,r,f,k,n,l,c,g,h){function d(a){var b={path:null,query:null},e=
new k(a),p=a.indexOf("?");null===e.query?b.path=a:(b.path=a.substring(0,p),b.query=f.queryToObject(e.query));e.fragment&&(b.hash=e.fragment,null===e.query&&(b.path=b.path.substring(0,b.path.length-(e.fragment.length+1))));return b}function v(a){var b=a.indexOf("?");-1!==b?(Q.path=a.slice(0,b),Q.query=a.slice(b+1)):(Q.path=a,Q.query=null);return Q}function z(a){a=v(a).path;a&&"/"===a[a.length-1]||(a+="/");a=T(a,!0);return a=a.toLowerCase()}function t(a){var b=U.proxyRules;a=z(a);for(var e=0;e<b.length;e++)if(0===
a.indexOf(b[e].urlPrefix))return b[e]}function B(a){a=y(a);var b=a.indexOf("/sharing");return 0<b?a.substring(0,b):a.replace(/\/+$/,"")}function A(a,b,e){void 0===e&&(e=!1);a=Y(a);b=Y(b);return e||a.scheme===b.scheme?a.host.toLowerCase()===b.host.toLowerCase()&&a.port===b.port:!1}function w(b,c,x){void 0===c&&(c=a.appBaseUrl);if(O(b))return x&&x.preserveProtocolRelative?b:"http"===a.appUrl.scheme&&a.appUrl.authority===p(b).slice(2)?"http:"+b:"https:"+b;if(E(b))return b;x=e;if("/"===b[0]){var d=c.indexOf("//"),
d=c.indexOf("/",d+2);c=-1===d?c:c.slice(0,d)}return x(c,b)}function m(b,e,p){void 0===e&&(e=a.appBaseUrl);if(!x(b))return b;var c=y(b),d=c.toLowerCase();e=y(e).toLowerCase().replace(/\/+$/,"");if((p=p?y(p).toLowerCase().replace(/\/+$/,""):null)&&0!==e.indexOf(p))return b;for(var m=function(a,b,e){e=a.indexOf(b,e);return-1===e?a.length:e},h=m(d,"/",d.indexOf("//")+2),g=-1;d.slice(0,h+1)===e.slice(0,h)+"/";){g=h+1;if(h===d.length)break;h=m(d,"/",h+1)}if(-1===g||p&&g<p.length)return b;b=c.slice(g);c=
e.slice(g-1).replace(/[^/]+/g,"").length;if(0<c)for(d=0;d<c;d++)b="../"+b;else b="./"+b;return b}function y(a){a=a.trim();a=w(a);if(/^https?:\/\//i.test(a)){var b=v(a);a=b.path.replace(/\/{2,}/g,"/");a=a.replace("/","//");b.query&&(a+="?"+b.query)}a=a.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2");return a=M(a)}function e(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(a&&a.length){b=[];if(x(a[0])){var e=a[0],p=e.indexOf("//");b.push(e.slice(0,p+1));Z.test(a[0])&&(b[0]+="/");a[0]=
e.slice(p+2)}else"/"===a[0][0]&&b.push("");a=a.reduce(function(a,b){return b?a.concat(b.split("/")):a},[]);for(e=0;e<a.length;e++)p=a[e],".."===p&&0<b.length?b.pop():!p||"."===p&&0!==b.length||b.push(p);return b.join("/")}}function p(a){if(F(a)||G(a))return null;var b=a.indexOf("://");if(-1===b&&O(a))b=2;else if(-1!==b)b+=3;else return null;b=a.indexOf("/",b);return-1===b?a:a.slice(0,b)}function x(a){return O(a)||E(a)}function F(a){return"blob:"===a.slice(0,5)}function G(a){return"data:"===a.slice(0,
5)}function C(a){return(a=a.match(V))?{mediaType:a[1],isBase64:!!a[2],data:a[3]}:null}function O(a){return a&&"/"===a[0]&&"/"===a[1]}function E(a){return H.test(a)}function P(b){return X.test(b)||"http"===a.appUrl.scheme&&O(b)}function da(a){return O(a)?"https:"+a:a.replace(X,"https:")}function ga(){return"https"===a.appUrl.scheme}function T(a,b){void 0===b&&(b=!1);if(O(a))return a.slice(2);a=a.replace(H,"");b&&1<a.length&&"/"===a[0]&&"/"===a[1]&&(a=a.slice(2));return a}function M(b){var e=U.httpsDomains;
if(!P(b))return b;var p=b.indexOf("/",7),c;c=-1===p?b:b.slice(0,p);c=c.toLowerCase().slice(7);if(W.test(c))if(g.endsWith(c,":80"))c=c.slice(0,-3),b=b.replace(":80","");else return b;if("http"===a.appUrl.scheme&&c===a.appUrl.authority&&!ba.test(b))return b;if(ga()&&c===a.appUrl.authority||e&&e.some(function(a){return c===a||g.endsWith(c,"."+a)})||ga()&&!t(b))b=da(b);return b}function la(a,b,e){if(!(b&&e&&a&&x(a)))return a;var p=a.indexOf("//"),c=a.indexOf("/",p+2),d=a.indexOf(":",p+2),c=Math.min(0>
c?a.length:c,0>d?a.length:d);if(a.slice(p+2,c).toLowerCase()!==b.toLowerCase())return a;b=a.slice(0,p+2);a=a.slice(c);return""+b+e+a}function Y(b){if("string"===typeof b)return new k(w(b));b.scheme||(b.scheme=a.appUrl.scheme);return b}Object.defineProperty(a,"__esModule",{value:!0});var ma=h.getLogger("esri.core.urlUtils"),U=n.request,H=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,X=/^\s*http:/i,J=/^\s*https:/i,Z=/^\s*file:/i,W=/:\d+$/,ba=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i;a.appUrl=new k(c.location);
a.trustedServersUrlCache={};a.appBaseUrl=function(){var b=a.appUrl.path,b=b.substring(0,b.lastIndexOf(b.split("/")[b.split("/").length-1]));return""+(a.appUrl.scheme+"://"+a.appUrl.host+(null!=a.appUrl.port?":"+a.appUrl.port:""))+b}();a.urlToObject=d;a.getProxyUrl=function(b){void 0===b&&(b=!1);var e,p=U.proxyUrl;if("string"===typeof b){if(e=b,e=J.test(e)||"https"===a.appUrl.scheme&&O(e),b=t(b))p=b.proxyUrl}else e=!!b;if(!p)throw ma.warn("esri/config: esriConfig.request.proxyUrl is not set."),new l("urlutils:proxy-not-set",
"esri/config: esriConfig.request.proxyUrl is not set.");e&&ga()&&(p=da(p));return d(p)};a.addProxy=function(a){var b=t(a),e,p;b&&(p=v(b.proxyUrl),e=p.path,p=p.query?f.queryToObject(p.query):null);e&&(b=d(a),a=e+"?"+b.path,(e=f.objectToQuery(r({},p,b.query)))&&(a=a+"?"+e));return a};var Q={path:"",query:""};a.addProxyRule=function(a){a={proxyUrl:a.proxyUrl,urlPrefix:z(a.urlPrefix)};for(var b=U.proxyRules,e=a.urlPrefix,p=b.length,c=0;c<b.length;c++){var x=b[c].urlPrefix;if(0===e.indexOf(x)){if(e.length===
x.length)return-1;p=c;break}0===x.indexOf(e)&&(p=c+1)}b.splice(p,0,a);return p};a.getProxyRule=t;a.hasSamePortal=function(a,b){a=B(a);b=B(b);return T(a)===T(b)};a.getInterceptor=function(a){var b=function(b){return null==b||b instanceof RegExp&&b.test(a)||"string"===typeof b&&g.startsWith(a,b)},e=U.interceptors;if(e)for(var p=0;p<e.length;p++){var c=e[p];if(Array.isArray(c.urls)){if(c.urls.some(b))return c}else if(b(c.urls))return c}return null};a.hasSameOrigin=A;a.isTrustedServer=function(b){if("string"===
typeof b)if(x(b))b=Y(b);else return!0;for(var e=U.trustedServers||[],p=0;p<e.length;p++){var c;c=e[p];a.trustedServersUrlCache[c]||(E(c)||O(c)?a.trustedServersUrlCache[c]=[new k(w(c))]:a.trustedServersUrlCache[c]=[new k("http://"+c),new k("https://"+c)]);c=a.trustedServersUrlCache[c];for(var d=0;d<c.length;d++)if(A(b,c[d]))return!0}return!1};a.makeAbsolute=w;a.makeRelative=m;a.normalize=y;a.join=e;a.getOrigin=p;a.isAbsolute=x;a.isBlobProtocol=F;a.isDataProtocol=G;a.dataToArrayBuffer=function(a){a=
C(a);if(!a||!a.isBase64)return null;a=atob(a.data);for(var b=new Uint8Array(a.length),e=0;e<a.length;e++)b[e]=a.charCodeAt(e);return b.buffer};var V=/^data:(.*?)(;base64)?,(.*)$/;a.dataComponents=C;a.makeData=function(a){return a.isBase64?"data:"+a.mediaType+";base64,"+a.data:"data:"+a.mediaType+","+a.data};a.isProtocolRelative=O;a.hasProtocol=E;a.toHTTP=function(a){return O(a)?"http:"+a:a.replace(J,"http:")};a.toHTTPS=da;a.removeFile=function(a){var b=0;if(x(a)){var e=a.indexOf("//");-1!==e&&(b=
e+2)}e=a.lastIndexOf("/");return e<b?a:a.slice(0,e+1)};a.removeTrailingSlash=function(a){return a.replace(/\/+$/,"")};a.changeDomain=la;a.read=function(b,e){var p=e&&e.url&&e.url.path;b&&p&&(b=w(b,p,{preserveProtocolRelative:!0}));(e=e&&e.portal)&&!e.isPortal&&e.urlKey&&e.customBaseUrl?(p=e.urlKey+"."+e.customBaseUrl,e=A(a.appUrl,a.appUrl.scheme+"://"+p)?la(b,e.portalHostname,p):la(b,p,e.portalHostname)):e=b;return e};a.write=function(a,b){if(!a)return a;!x(a)&&b&&b.blockedRelativeUrls&&b.blockedRelativeUrls.push(a);
var e=w(a);if(b){var p=b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.rootPath||b.url&&b.url.path;p&&(e=m(e,p,p),e!==a&&b.verifyItemRelativeUrls&&b.verifyItemRelativeUrls.writtenUrls.push(e))}a=e;e=(b=b&&b.portal)&&!b.isPortal&&b.urlKey&&b.customBaseUrl?la(a,b.urlKey+"."+b.customBaseUrl,b.portalHostname):a;return e};a.writeOperationalLayerUrl=function(a,b){a&&O(a)&&(a="https:"+a);b.url=a?y(a):a};a.isSVG=function(a){return na.test(a)};a.removeQueryParameters=function(a,b){a=d(a);var e=Object.keys(a.query||
{});0<e.length&&b&&b.warn("removeQueryParameters()","Url query parameters are not supported, the following parameters have been removed: "+e.join(", ")+".");return a.path};a.addQueryParameter=function(a,b,e){a=d(a);var p=a.query||{};p[b]=e;return a.path+"?"+f.objectToQuery(p)};a.addQueryParameters=function(a,b){a=d(a);var e=a.query||{},p;for(p in b)e[p]=b[p];return(b=f.objectToQuery(e))?a.path+"?"+b:a.path};a.removeQueryParameter=function(a,b){var e=d(a),p=e.path,e=e.query;if(!e)return a;delete e[b];
return(a=f.objectToQuery(e))?p+"?"+a:p};var na=/(^data:image\/svg|\.svg$)/i})},"dojo/_base/url":function(){define(["./kernel"],function(b){var a=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,r=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,f=function(){for(var b=arguments,n=[b[0]],l=1;l<b.length;l++)if(b[l]){var c=new f(b[l]+""),n=new f(n[0]+"");if(""==c.path&&!c.scheme&&!c.authority&&!c.query)null!=c.fragment&&(n.fragment=c.fragment),c=n;else if(!c.scheme&&(c.scheme=
n.scheme,!c.authority&&(c.authority=n.authority,"/"!=c.path.charAt(0)))){for(var n=(n.path.substring(0,n.path.lastIndexOf("/")+1)+c.path).split("/"),g=0;g<n.length;g++)"."==n[g]?g==n.length-1?n[g]="":(n.splice(g,1),g--):0<g&&(1!=g||""!=n[0])&&".."==n[g]&&".."!=n[g-1]&&(g==n.length-1?(n.splice(g,1),n[g-1]=""):(n.splice(g-1,2),g-=2));c.path=n.join("/")}n=[];c.scheme&&n.push(c.scheme,":");c.authority&&n.push("//",c.authority);n.push(c.path);c.query&&n.push("?",c.query);c.fragment&&n.push("#",c.fragment)}this.uri=
n.join("");b=this.uri.match(a);this.scheme=b[2]||(b[1]?"":null);this.authority=b[4]||(b[3]?"":null);this.path=b[5];this.query=b[7]||(b[6]?"":null);this.fragment=b[9]||(b[8]?"":null);null!=this.authority&&(b=this.authority.match(r),this.user=b[3]||null,this.password=b[4]||null,this.host=b[6]||b[7],this.port=b[9]||null)};f.prototype.toString=function(){return this.uri};return b._Url=f})},"esri/geometry/support/MeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(b){return a.call(this)||this}r(b,a);b.prototype.clone=function(){throw Error("not implemented");};f([n.property({readOnly:!0,json:{read:!1,write:{isRequired:!0,ignoreOrigin:!0,enabled:!0}}})],b.prototype,"type",void 0);return b=f([n.subclass("esri.geometry.support.MeshColor")],b)}(n.declared(k));a.MeshColor=b;a.default=b})},"esri/views/support/screenshotUtils":function(){define(["require","exports","../../core/tsSupport/assignHelper"],
function(b,a,r){function f(a,b){var c=a||{},h=c.format,m=c.quality,c=c.rotation,g=b.padding||z,e;e=b.width-g.left-g.right;b=b.height-g.top-g.bottom;var p=0,g=0,x=e,f=b;if(a&&a.area){var p=Math.floor(a.area.x)||0,g=Math.floor(a.area.y)||0,t=null!=a.area.width?Math.floor(a.area.width):null,k=null!=a.area.height?Math.floor(a.area.height):null,x=x-p,f=f-g;null!=t&&null!=k?(x=Math.min(x,t),f=Math.min(f,k)):null==t&&null!=k?(t=Math.min(x,t),f*=t/x,x=t):null!=t&&null==k&&(t=Math.min(f,k),x*=t/f,f=t)}a&&
null!=a.width&&null!=a.height&&(t=a.width/a.height,k=x/f,k!==t&&(k<t?x=Math.floor(f*t):f=Math.floor(x/t)));p=Math.floor(Math.max(p,0));g=Math.floor(Math.max(g,0));e={x:p,y:g,width:Math.floor(Math.min(x,e-p)),height:Math.floor(Math.min(f,b-g))};b=e.width/e.height;g=x/f;g!==b&&(g>b?(b=Math.floor(e.width/g),e={x:e.x,y:Math.floor(e.y+(e.height-b)/2),width:e.width,height:b}):(b=Math.floor(e.height*g),e={x:Math.floor(e.x+(e.width-b)/2),y:e.y,width:b,height:e.height}));b=l(a,e);a=b.width;b=b.height;a:switch(h){case "png":case "jpg":case "jpeg":break a;
default:h=d}g=v[h];m=null!=m?m:g;return{format:h,quality:0>m?0:100<m?100:m,area:e,width:a,height:b,rotation:c}}function k(a,b){return a.toDataURL(h[b.format],b.quality/100)}function n(a,b,d){d||(c||(c=document.createElement("canvas"),c.width=1,c.height=1),d=c);return d.getContext("2d").createImageData(a,b)}function l(a,b){if(!a)return b;var c=a.width;a=a.height;if(null!=c&&null!=a)return{width:Math.floor(c),height:Math.floor(a)};if(null==c&&null==a)return b;b=b.width/b.height;return null==a?{width:Math.floor(c),
height:Math.floor(c/b)}:{width:Math.floor(a*b),height:Math.floor(a)}}Object.defineProperty(a,"__esModule",{value:!0});a.completeUserSettings=f;a.toRenderSettings=function(a,b){a=f(a,b);var c=a.area,d=a.width/c.width,m=b.padding,h=m.left+m.right,e=m.top+m.bottom;return{framebufferWidth:Math.floor((b.width-h)*d+h),framebufferHeight:Math.floor((b.height-e)*d+e),region:{x:Math.floor(c.x*d)+m.left,y:Math.floor(c.y*d)+m.top,width:a.width,height:a.height},format:a.format,quality:a.quality,rotation:a.rotation,
pixelRatio:d}};a.encodeResult=function(a,b,c,d){if(d.premultipliedAlpha)for(var m=a.data,h=m.length,e=0;e<h;e+=4){var p=m[e+3];0<p&&(p/=255,m[e+0]/=p,m[e+1]/=p,m[e+2]/=p)}c.width=a.width;c.height=a.height;m=c.getContext("2d");m.putImageData(a,0,0);d.flipY&&(m.save(),m.globalCompositeOperation="copy",m.scale(1,-1),m.translate(0,-m.canvas.height),m.drawImage(m.canvas,0,0),m.restore());a=m.getImageData(0,0,a.width,a.height);b=k(c,b);c.width=0;c.height=0;return{dataUrl:b,data:a}};a.toDataUrl=k;a.createEmptyImageData=
function(a,b,c){if(!a||!b)throw Error("Cannot construct image data without dimensions");if(g)try{return new ImageData(a,b)}catch(w){g=!1}return n(a,b,c)};a.wrapImageData=function(a,b,c,d){if(!b||!c)throw Error("Cannot construct image data without dimensions");if(g)try{return new ImageData(a,b,c)}catch(m){g=!1}b=n(b,c,d);b.data.set(a,0);return b};a.resampleHermite=function(a,b,c,d,m,h,e,p){void 0===d&&(d=0);void 0===m&&(m=0);void 0===h&&(h=a.width-d);void 0===e&&(e=a.height-m);void 0===p&&(p=!1);var x=
a.data,g=b.width,f=b.height,t=b.data;h/=g;e/=f;var k=Math.ceil(h/2),v=Math.ceil(e/2);a=a.width;for(var l=0;l<f;l++)for(var z=0;z<g;z++){for(var y=4*(z+(p?f-l-1:l)*g),n=0,B=0,w=0,A=0,r=0,U=0,H=(l+.5)*e,X=Math.floor(l*e);X<(l+1)*e;X++)for(var J=Math.abs(H-(X+.5))/v,Z=(z+.5)*h,J=J*J,W=Math.floor(z*h);W<(z+1)*h;W++){var ba=Math.abs(Z-(W+.5))/k,ba=Math.sqrt(J+ba*ba);if(!(1<=ba)){var ba=2*ba*ba*ba-3*ba*ba+1,Q=4*(d+W+(m+X)*a),U=U+ba*x[Q+3],B=B+ba;!c&&255>x[Q+3]&&(ba=ba*x[Q+3]/255);w+=ba*x[Q];A+=ba*x[Q+1];
r+=ba*x[Q+2];n+=ba}}t[y]=w/n;t[y+1]=A/n;t[y+2]=r/n;t[y+3]=U/B}return b};var c=null,g=!0,h={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},d="jpg",v={png:100,jpg:98,jpeg:98},z={top:0,right:0,bottom:0,left:0}})},"esri/geometry/support/ValueMeshColor":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/accessorSupport/decorators ./MeshColor".split(" "),function(b,a,r,f,k,n,l,c){return function(a){function b(b){b=
a.call(this)||this;b.type="value";b.value=null;return b}r(b,a);c=b;b.prototype.clone=function(){return new c({value:n.clone(this.value)})};var c;f([l.property()],b.prototype,"type",void 0);f([l.property({type:k})],b.prototype,"value",void 0);return b=c=f([l.subclass("esri.geometry.support.ValueMeshColor")],b)}(l.declared(c.default))})},"esri/geometry/support/MeshVertexAttributes":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/lang ../../core/Logger ../../core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n,l,c){function g(a,b,c,d){var h=b.loggerTag;b=b.stride;return 0!==a.length%b?(d.error(h,"Invalid array length, expected a multiple of "+b),new c([])):a}function h(a,b,c,d,h){if(!a)return a;if(a instanceof b)return g(a,d,b,h);for(var m=0;m<c.length;m++)if(a instanceof c[m])return g(new b(a),d,b,h);if(Array.isArray(a))return g(new b(a),d,b,h);c=c.map(function(a){return"'"+a.name+"'"});h.error("Failed to set property, expected one of "+c+", but got "+a.constructor.name);return new b([])}
function d(a,b,c){for(var d=Array(a.length),h=0;h<a.length;h++)d[h]=a[h];b[c]=d}Object.defineProperty(a,"__esModule",{value:!0});var v=l.getLogger("esri.geometry.support.MeshVertexAttributes");b=function(a){function b(b){b=a.call(this)||this;b.color=null;b.position=new Float64Array(0);b.uv=null;b.normal=null;return b}r(b,a);g=b;b.prototype.castColor=function(a){return h(a,Uint8Array,[Uint8ClampedArray],{loggerTag:".color\x3d",stride:4},v)};b.prototype.castPosition=function(a){a&&a instanceof Float32Array&&
v.warn(".position\x3d","Setting position attribute from a Float32Array may cause precision problems. Consider storing data in a Float64Array or a regular number array");return h(a,Float64Array,[Float32Array],{loggerTag:".position\x3d",stride:3},v)};b.prototype.castUv=function(a){return h(a,Float32Array,[Float64Array],{loggerTag:".uv\x3d",stride:2},v)};b.prototype.castNormal=function(a){return h(a,Float32Array,[Float64Array],{loggerTag:".normal\x3d",stride:3},v)};b.prototype.clone=function(){return new g({position:n.clone(this.position),
uv:n.clone(this.uv),normal:n.clone(this.normal)})};var g;f([c.property({json:{write:d}})],b.prototype,"color",void 0);f([c.cast("color")],b.prototype,"castColor",null);f([c.property({nonNullable:!0,json:{write:d}})],b.prototype,"position",void 0);f([c.cast("position")],b.prototype,"castPosition",null);f([c.property({json:{write:d}})],b.prototype,"uv",void 0);f([c.cast("uv")],b.prototype,"castUv",null);f([c.property({json:{write:d}})],b.prototype,"normal",void 0);f([c.cast("normal")],b.prototype,"castNormal",
null);return b=g=f([c.subclass("esri.geometry.support.MeshVertexAttributes")],b)}(c.declared(k));a.MeshVertexAttributes=b;a.castArray=h;a.default=b})},"esri/geometry/support/triangulationUtils":function(){define(["require","exports","../../core/libs/earcut/earcut","./coordsUtils"],function(b,a,r,f){function k(a,b,h){if(1===a.length)return a[0];b=new Float64Array(b);h=new Uint32Array(h);for(var c=0,g=0,f=0;f<a.length;f++){for(var t=a[f],k=0;k<t.position.length;k++)b[c++]=t.position[k];for(k=0;k<t.faces.length;k++)h[g++]=
t.faces[k]}return{position:b,faces:h}}function n(a,b){for(var c=a.length,d=Array(c),g=Array(c),k=Array(c),t=0,n=0,A=0,w=0,m=0;m<c;++m)w+=a[m].length;for(var w=new Float64Array(3*w),y=0,e=c-1;0<=e;e--){var p=a[e];if(f.isClockwise(p,!1,!1)||1===c){for(var x=p.length,m=0;m<t;++m)x+=d[m].length;m={index:y,pathLengths:Array(t+1),count:x,holeIndices:Array(t)};m.pathLengths[0]=p.length;0<p.length&&(k[A++]={index:y,count:p.length});y=l(p,0,w,y,p.length,b);for(p=0;p<t;++p)x=d[p],m.holeIndices[p]=y,m.pathLengths[p+
1]=x.length,0<x.length&&(k[A++]={index:y,count:x.length}),y=l(x,0,w,y,x.length,b);t=0;0<m.count&&(g[n++]=m)}else d[t++]=p}for(p=0;p<t;++p)x=d[p],0<x.length&&(k[A++]={index:y,count:x.length}),y=l(x,0,w,y,x.length,b);n<c&&(g.length=n);A<c&&(k.length=A);return{position:w,polygons:g,outlines:k}}function l(a,b,h,d,f,k){d*=3;for(var c=0;c<f;++c){var g=a[b++];h[d++]=g[0];h[d++]=g[1];h[d++]=k?g[2]:0}return d/3}Object.defineProperty(a,"__esModule",{value:!0});a.triangulate=function(a){var b=n(a.rings,a.hasZ),
c=[],d=0,f=0;a=function(a){var h=a.index,g=new Float64Array(b.position.buffer,3*h*b.position.BYTES_PER_ELEMENT,3*a.count);a=a.holeIndices.map(function(a){return a-h});a=new Uint32Array(r(g,a,3));c.push({position:g,faces:a});d+=g.length;f+=a.length};for(var l=0,t=b.polygons;l<t.length;l++)a(t[l]);return k(c,d,f)};a.pathsToTriangulationInfo=n})},"esri/core/libs/earcut/earcut":function(){define([],function(){function b(b,c,d){d=d||2;e=b.length/d+(c?2*c.length:0);p=!1;var x=c&&c.length,h=x?c[0]*d:b.length,
m=a(b,0,h,d,!0),t=[];if(!m)return t;var k,v,y,z;if(x)a:{var w=d,x=[],F,A,G;z=0;for(F=c.length;z<F;z++)A=c[z]*w,G=z<F-1?c[z+1]*w:b.length,A=a(b,A,G,w,!1),A===A.next&&(A.steiner=!0),x.push(g(A));x.sort(n);for(z=0;z<x.length;z++){if(!m){m=null;break a}c=x[z];w=m;if(w=l(c,w))c=B(w,c),r(c,c.next);m=r(m,m.next)}}if(p)return t;if(b.length>80*d){k=y=b[0];v=x=b[1];for(w=d;w<h;w+=d)z=b[w],c=b[w+1],z<k&&(k=z),c<v&&(v=c),z>y&&(y=z),c>x&&(x=c);y=Math.max(y-k,x-v)}f(m,t,d,k,v,y);return t}function a(a,b,e,p,c){var x;
if(c===0<y(a,b,e,p))for(c=b;c<e;c+=p)x=A(c,a[c],a[c+1],x);else for(c=e-p;c>=b;c-=p)x=A(c,a[c],a[c+1],x);x&&v(x,x.next)&&(w(x),x=x.next);return x}function r(a,b){if(!a)return a;b||(b=a);var c,x=0,m=e*e/2;do{c=!1;if(a.steiner||!v(a,a.next)&&0!==d(a.prev,a,a.next))a=a.next;else{w(a);a=b=a.prev;if(a===a.next)return null;c=!0}if(x++>m)return p=!0,null}while(c||a!==b);return b}function f(a,b,e,m,g,l,y){if(a){if(!y&&l){var x=a,n=x;do null===n.z&&(n.z=c(n.x,n.y,m,g,l)),n.prevZ=n.prev,n=n.nextZ=n.next;while(n!==
x);n.prevZ.nextZ=null;n.prevZ=null;var x=n,F,A,C,G,E,O,H=1;do{n=x;C=x=null;for(G=0;n;){G++;A=n;for(F=E=0;F<H&&(E++,A=A.nextZ,A);F++);for(O=H;0<E||0<O&&A;)0===E?(F=A,A=A.nextZ,O--):0!==O&&A?n.z<=A.z?(F=n,n=n.nextZ,E--):(F=A,A=A.nextZ,O--):(F=n,n=n.nextZ,E--),C?C.nextZ=F:x=F,F.prevZ=C,C=F;n=A}C.nextZ=null;H*=2}while(1<G)}for(x=a;a.prev!==a.next;){n=a.prev;A=a.next;if(l)a:{C=a;O=m;var X=g,P=l;G=C.prev;E=C;H=C.next;if(0<=d(G,E,H))C=!1;else{var Z=G.x>E.x?G.x>H.x?G.x:H.x:E.x>H.x?E.x:H.x,W=G.y>E.y?G.y>H.y?
G.y:H.y:E.y>H.y?E.y:H.y;F=c(G.x<E.x?G.x<H.x?G.x:H.x:E.x<H.x?E.x:H.x,G.y<E.y?G.y<H.y?G.y:H.y:E.y<H.y?E.y:H.y,O,X,P);O=c(Z,W,O,X,P);for(X=C.nextZ;X&&X.z<=O;){if(X!==C.prev&&X!==C.next&&h(G.x,G.y,E.x,E.y,H.x,H.y,X.x,X.y)&&0<=d(X.prev,X,X.next)){C=!1;break a}X=X.nextZ}for(X=C.prevZ;X&&X.z>=F;){if(X!==C.prev&&X!==C.next&&h(G.x,G.y,E.x,E.y,H.x,H.y,X.x,X.y)&&0<=d(X.prev,X,X.next)){C=!1;break a}X=X.prevZ}C=!0}}else C=k(a);if(C)b.push(n.i/e),b.push(a.i/e),b.push(A.i/e),w(a),x=a=A.next;else{if(p)break;a=A;
if(a===x){if(!y)f(r(a),b,e,m,g,l,1);else if(1===y){y=b;x=e;n=a;do A=n.prev,C=n.next.next,!v(A,C)&&z(A,n,n.next,C)&&t(A,C)&&t(C,A)&&(y.push(A.i/x),y.push(n.i/x),y.push(C.i/x),w(n),w(n.next),n=a=C),n=n.next;while(n!==a);a=n;f(a,b,e,m,g,l,2)}else if(2===y)a:{y=a;do{for(x=y.next.next;x!==y.prev;){if(n=y.i!==x.i){n=y;A=x;C=void 0;if(C=n.next.i!==A.i&&n.prev.i!==A.i){C=void 0;b:{C=n;do{if(C.i!==n.i&&C.next.i!==n.i&&C.i!==A.i&&C.next.i!==A.i&&z(C,C.next,n,A)){C=!0;break b}C=C.next}while(C!==n);C=!1}C=!C}G=
void 0;if(G=C&&t(n,A)&&t(A,n)){C=n;G=!1;E=(n.x+A.x)/2;A=(n.y+A.y)/2;do C.y>A!==C.next.y>A&&E<(C.next.x-C.x)*(A-C.y)/(C.next.y-C.y)+C.x&&(G=!G),C=C.next;while(C!==n)}n=G}if(n){a=B(y,x);y=r(y,y.next);a=r(a,a.next);f(y,b,e,m,g,l);f(a,b,e,m,g,l);break a}x=x.next}y=y.next}while(y!==a)}break}}}}}function k(a){var b=a.prev,c=a.next;if(0<=d(b,a,c))return!1;for(var x=a.next.next,m=0;x!==a.prev;){if(h(b.x,b.y,a.x,a.y,c.x,c.y,x.x,x.y)&&0<=d(x.prev,x,x.next))return!1;x=x.next;if(m++>e)return p=!0,!1}return!0}
function n(a,b){return a.x-b.x}function l(a,b){var e=b,p=a.x,c=a.y,x=-Infinity,d;do{if(!e)return null;if(c<=e.y&&c>=e.next.y){var m=e.x+(c-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(m<=p&&m>x){x=m;if(m===p){if(c===e.y)return e;if(c===e.next.y)return e.next}d=e.x<e.next.x?e:e.next}}e=e.next}while(e!==b);if(!d)return null;if(p===x)return d.prev;b=d;for(var m=d.x,g=d.y,f=Infinity,k,e=d.next;e!==b;)p>=e.x&&e.x>=m&&h(c<g?p:x,c,m,g,c<g?x:p,c,e.x,e.y)&&(k=Math.abs(c-e.y)/(p-e.x),(k<f||k===f&&e.x>d.x)&&t(e,a)&&
(d=e,f=k)),e=e.next;return d}function c(a,b,e,p,c){a=32767*(a-e)/c;b=32767*(b-p)/c;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function g(a){var b=a,e=a;do b.x<e.x&&(e=b),b=b.next;while(b!==a);return e}function h(a,b,e,p,c,d,m,h){return 0<=(c-m)*(b-h)-(a-m)*(d-h)&&0<=(a-m)*(p-h)-(e-m)*(b-h)&&0<=(e-m)*(d-h)-(c-m)*(p-h)}function d(a,b,e){return(b.y-a.y)*(e.x-b.x)-(b.x-a.x)*
(e.y-b.y)}function v(a,b){return a.x===b.x&&a.y===b.y}function z(a,b,e,p){return v(a,b)&&v(e,p)||v(a,p)&&v(e,b)?!0:0<d(a,b,e)!==0<d(a,b,p)&&0<d(e,p,a)!==0<d(e,p,b)}function t(a,b){return 0>d(a.prev,a,a.next)?0<=d(a,b,a.next)&&0<=d(a,a.prev,b):0>d(a,b,a.prev)||0>d(a,a.next,b)}function B(a,b){var e=new m(a.i,a.x,a.y),p=new m(b.i,b.x,b.y),c=a.next,d=b.prev;a.next=b;b.prev=a;e.next=c;c.prev=e;p.next=e;e.prev=p;d.next=p;p.prev=d;return p}function A(a,b,e,p){a=new m(a,b,e);p?(a.next=p.next,a.prev=p,p.next.prev=
a,p.next=a):(a.prev=a,a.next=a);return a}function w(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function m(a,b,e){this.i=a;this.x=b;this.y=e;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function y(a,b,e,p){for(var c=0,d=e-p;b<e;b+=p)c+=(a[d]-a[b])*(a[b+1]+a[d+1]),d=b;return c}var e,p;b.deviation=function(a,b,e,p){var c=b&&b.length,d=Math.abs(y(a,0,c?b[0]*e:a.length,e));if(c)for(var c=0,m=b.length;c<m;c++)d-=Math.abs(y(a,
b[c]*e,c<m-1?b[c+1]*e:a.length,e));for(c=b=0;c<p.length;c+=3){var m=p[c]*e,x=p[c+1]*e,h=p[c+2]*e;b+=Math.abs((a[m]-a[h])*(a[x+1]-a[m+1])-(a[m]-a[x])*(a[h+1]-a[m+1]))}return 0===d&&0===b?0:Math.abs((b-d)/d)};b.flatten=function(a){for(var b=a[0][0].length,e={vertices:[],holes:[],dimensions:b},p=0,c=0;c<a.length;c++){for(var d=0;d<a[c].length;d++)for(var m=0;m<b;m++)e.vertices.push(a[c][d][m]);0<c&&(p+=a[c-1].length,e.holes.push(p))}return e};return b})},"esri/geometry/support/coordsUtils":function(){define(["require",
"exports"],function(b,a){function r(a,b){var f=b[0]-a[0],c=b[1]-a[1];return 2<a.length&&2<b.length?(a=a[2]-b[2],Math.sqrt(f*f+c*c+a*a)):Math.sqrt(f*f+c*c)}function f(a,b,f){var c=a[0]+f*(b[0]-a[0]),g=a[1]+f*(b[1]-a[1]);return 2<a.length&&2<b.length?[c,g,a[2]+f*(b[2]-a[2])]:[c,g]}Object.defineProperty(a,"__esModule",{value:!0});a.geometryToCoordinates=function(a){if(!a)return null;if(Array.isArray(a))return a;var b=a.hasZ,f=a.hasM;if("point"===a.type)return f&&b?[a.x,a.y,a.z,a.m]:b?[a.x,a.y,a.z]:f?
[a.x,a.y,a.m]:[a.x,a.y];if("polygon"===a.type)return a.rings.slice(0);if("polyline"===a.type)return a.paths.slice(0);if("multipoint"===a.type)return a.points.slice(0);if("extent"===a.type){a=a.clone().normalize();if(!a)return null;var c=!1,g=!1;a.forEach(function(a){a.hasZ&&(c=!0);a.hasM&&(g=!0)});return a.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(c&&a.hasZ)for(var h=.5*(a.zmax-a.zmin),f=0;f<b.length;f++)b[f].push(h);if(g&&a.hasM)for(a=
.5*(a.mmax-a.mmin),f=0;f<b.length;f++)b[f].push(a);return b})}return null};a.getLength=r;a.getMidpoint=function(a,b){return f(a,b,.5)};a.getPathLength=function(a){for(var b=a.length,f=0,c=0;c<b-1;++c)f+=r(a[c],a[c+1]);return f};a.getPointOnPath=function(a,b){if(0>=b)return a[0];for(var k=a.length,c=0,g=0;g<k-1;++g){var h=r(a[g],a[g+1]);if(b-c<h)return f(a[g],a[g+1],(b-c)/h);c+=h}return a[k-1]};a.isClockwise=function(a,b,f){for(var c=a.length,g=0,h=0,d=0,k=0;k<c;k++){var l=a[k],t=a[(k+1)%c],n=2,g=
g+(l[0]*t[1]-t[0]*l[1]);2<l.length&&2<t.length&&f&&(h+=l[0]*t[2]-t[0]*l[2],n=3);l.length>n&&t.length>n&&b&&(d+=l[0]*t[n]-t[0]*l[n])}return 0>=g&&0>=h&&0>=d}})},"esri/geometry/support/meshUtils/centerAt":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/gl-matrix ../../../views/3d/support/projectionUtils".split(" "),function(b,a,r,f,k,n){Object.defineProperty(a,"__esModule",{value:!0});var l=r.getLogger("esri.geometry.support.meshUtils.centerAt");a.centerAt=
function(a,b,t){if(a.vertexAttributes&&a.vertexAttributes.position){var v=a.spatialReference,z=t&&t.origin||a.extent.center;if(v.isWGS84||v.isWebMercator&&(!t||!1!==t.geographic)){t=a.spatialReference;var v=g,w=c;if(n.pointToVector(b,w,n.SphericalECEFSpatialReference)){n.pointToVector(z,v,n.SphericalECEFSpatialReference)||n.pointToVector(a.extent.center,v,n.SphericalECEFSpatialReference);z=a.vertexAttributes.position;b=a.vertexAttributes.normal;var m=new Float64Array(z.length),y=new Float32Array(b?
b.length:0);f.projectToECEF(z,t,m);b&&f.projectNormalToECEF(b,z,m,t,y);n.computeLinearTransformation(n.SphericalECEFSpatialReference,v,h,n.SphericalECEFSpatialReference);n.computeLinearTransformation(n.SphericalECEFSpatialReference,w,d,n.SphericalECEFSpatialReference);k.mat4d.inverse(h);k.mat4d.multiply(d,h,d);f.transformBufferInPlace(m,d);k.mat4d.inverse(d);k.mat4d.transpose(d);b&&f.transformBufferInPlace(y,d,!0);f.projectFromECEF(m,z,t);b&&f.projectNormalFromECEF(y,z,m,t,b);a.clearCache()}else l.error("Failed to project centerAt location (wkid:"+
b.spatialReference.wkid+") to ECEF")}else if(t=g,v=c,n.pointToVector(b,v,a.spatialReference)){n.pointToVector(z,t,a.spatialReference)||(b=a.extent.center,t[0]=b.x,t[1]=b.y,t[2]=b.z,l.error("Failed to project specified origin (wkid:"+z.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+"). Using mesh extent.center instead"));if(z=a.vertexAttributes.position)for(b=0;b<z.length;b+=3)for(w=0;3>w;w++)z[b+w]+=v[w]-t[w];a.clearCache()}else l.error("Failed to project centerAt location (wkid:"+
b.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+")")}};var c=k.vec3d.create(),g=k.vec3d.create(),h=k.mat4d.create(),d=k.mat4d.create()})},"esri/geometry/support/meshUtils/projection":function(){define(["require","exports","../../../core/Logger","../../../views/3d/lib/gl-matrix","../../../views/3d/support/projectionUtils"],function(b,a,r,f,k){function n(a,b,t,l,n,w){if(b){n=n.isWGS84;for(var m=0;m<b.length;m+=3){for(var v=0;3>v;v++)c[v]=l[m+v],g[v]=b[m+v];k.computeLinearTransformation(k.SphericalECEFSpatialReference,
c,h,k.SphericalECEFSpatialReference);f.mat4d.toMat3(h,d);n?f.mat3d.multiplyVec3(d,g):(v=k.webMercator.y2lat(t[m+1]),v=Math.cos(v),0===a&&(v=1/v),d[0]*=v,d[1]*=v,d[2]*=v,d[3]*=v,d[4]*=v,d[5]*=v,1===a&&f.mat3d.transpose(d),f.mat3d.multiplyVec3(d,g),f.vec3d.normalize(g));for(v=0;3>v;v++)w[m+v]=g[v]}return w}}Object.defineProperty(a,"__esModule",{value:!0});var l=r.getLogger("esri.geometry.support.meshUtils.normalProjection");a.projectNormalToECEF=function(a,b,c,d,h){return d.isWebMercator||d.isWGS84?
n(0,a,b,c,d,h):(l.error("Cannot convert PCS spatial reference buffer to ECEF"),h)};a.projectNormalFromECEF=function(a,b,c,d,h){return d.isWebMercator||d.isWGS84?n(1,a,b,c,d,h):(l.error("Cannot convert to PCS spatial reference buffer from ECEF"),h)};a.projectToECEF=function(a,b,c){k.bufferToBuffer(a,b,0,c,k.SphericalECEFSpatialReference,0,a.length/3);return c};a.projectFromECEF=function(a,b,c){k.bufferToBuffer(a,k.SphericalECEFSpatialReference,0,b,c,0,a.length/3);return b};a.transformBufferInPlace=
function(a,b,d){void 0===d&&(d=!1);if(a)for(var h=0;h<a.length;h+=3){for(var g=0;3>g;g++)c[g]=a[h+g];f.mat4d.multiplyVec3(b,c);d&&f.vec3d.normalize(c);for(g=0;3>g;g++)a[h+g]=c[g]}};var c=f.vec3d.create(),g=f.vec3d.create(),h=f.mat4d.create(),d=f.mat3d.create()})},"esri/views/3d/lib/gl-matrix":function(){define([],function(){var b={};(function(a,b){b(a,!0);b(a,!1)})(b,function(a,b){var f={};(function(){if("undefined"!=typeof Float32Array){var a=new Float32Array(1),b=new Int32Array(a.buffer);f.invsqrt=
function(e){a[0]=e;b[0]=1597463007-(b[0]>>1);var p=a[0];return p*(1.5-.5*e*p*p)}}else f.invsqrt=function(a){return 1/Math.sqrt(a)}})();var k=Array;"undefined"!=typeof Float32Array&&(k=b?Float32Array:Array);var n={create:function(a){var b=new k(3);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2]):b[0]=b[1]=b[2]=0;return b},createFrom:function(a,b,c){var e=new k(3);e[0]=a;e[1]=b;e[2]=c;return e},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},set3:function(a,b,c,d){d[0]=a;d[1]=b;d[2]=c;return d},equal:function(a,
b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])},max:function(a,b,c){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c},min:function(a,b,c){c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},add:function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},subtract:function(a,b,c){if(!c||a===c)return a[0]-=b[0],a[1]-=b[1],
a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},multiply:function(a,b,c){if(!c||a===c)return a[0]*=b[0],a[1]*=b[1],a[2]*=b[2],a;c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},normalize:function(a,b){b||(b=a);var e=a[0],c=a[1];a=a[2];var p=Math.sqrt(e*e+c*c+a*a);if(!p)return b[0]=0,b[1]=
0,b[2]=0,b;if(1===p)return b[0]=e,b[1]=c,b[2]=a,b;p=1/p;b[0]=e*p;b[1]=c*p;b[2]=a*p;return b},cross:function(a,b,c){c||(c=a);var e=a[0],p=a[1];a=a[2];var d=b[0],m=b[1];b=b[2];c[0]=p*b-a*m;c[1]=a*d-e*b;c[2]=e*m-p*d;return c},length:function(a){var b=a[0],e=a[1];a=a[2];return Math.sqrt(b*b+e*e+a*a)},length2:function(a){var b=a[0],e=a[1];a=a[2];return b*b+e*e+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},direction:function(a,b,c){c||(c=a);var e=a[0]-b[0],p=a[1]-b[1];a=a[2]-b[2];b=Math.sqrt(e*
e+p*p+a*a);if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/b;c[0]=e*b;c[1]=p*b;c[2]=a*b;return c},lerp:function(a,b,c,d){d||(d=a);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);d[2]=a[2]+c*(b[2]-a[2]);return d},dist:function(a,b){var e=b[0]-a[0],c=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(e*e+c*c+a*a)},dist2:function(a,b){var e=b[0]-a[0],c=b[1]-a[1];a=b[2]-a[2];return e*e+c*c+a*a}},l=null,c=new k(4);n.unproject=function(a,b,d,m,h){h||(h=a);l||(l=A.create());var e=l;c[0]=2*(a[0]-m[0])/m[2]-1;c[1]=2*(a[1]-m[1])/
m[3]-1;c[2]=2*a[2]-1;c[3]=1;A.multiply(d,b,e);if(!A.inverse(e))return null;A.multiplyVec4(e,c);if(0===c[3])return null;h[0]=c[0]/c[3];h[1]=c[1]/c[3];h[2]=c[2]/c[3];return h};var g=n.createFrom(1,0,0),h=n.createFrom(0,1,0),d=n.createFrom(0,0,1),v=n.create();n.rotationTo=function(a,b,c){c||(c=w.create());var e=n.dot(a,b);if(1<=e)w.set(m,c);else if(-.999999>e)n.cross(g,a,v),1E-6>n.length(v)&&n.cross(h,a,v),1E-6>n.length(v)&&n.cross(d,a,v),n.normalize(v),w.fromAngleAxis(Math.PI,v,c);else{var e=Math.sqrt(2*
(1+e)),p=1/e;n.cross(a,b,v);c[0]=v[0]*p;c[1]=v[1]*p;c[2]=v[2]*p;c[3]=.5*e;w.normalize(c)}1<c[3]?c[3]=1:-1>c[3]&&(c[3]=-1);return c};var z=n.create(),t=n.create();n.project=function(a,b,c,d){d||(d=a);n.direction(b,c,z);n.subtract(a,b,t);a=n.dot(z,t);n.scale(z,a,d);n.add(d,b,d)};n.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var B={create:function(a){var b=new k(9);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8]):b[0]=b[1]=b[2]=b[3]=b[4]=b[5]=
b[6]=b[7]=b[8]=0;return b},createFrom:function(a,b,c,d,m,h,g,f,t){var e=new k(9);e[0]=a;e[1]=b;e[2]=c;e[3]=d;e[4]=m;e[5]=h;e[6]=g;e[7]=f;e[8]=t;return e},add:function(a,b,c){c||(c=a);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];c[4]=a[4]+b[4];c[5]=a[5]+b[5];c[6]=a[6]+b[6];c[7]=a[7]+b[7];c[8]=a[8]+b[8];return c},subtract:function(a,b,c){c||(c=a);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];c[4]=a[4]-b[4];c[5]=a[5]-b[5];c[6]=a[6]-b[6];c[7]=a[7]-b[7];c[8]=a[8]-b[8];return c},
determinant:function(a){var b=a[3],e=a[4],c=a[5],d=a[6],m=a[7],h=a[8];return a[0]*(h*e-c*m)+a[1]*(-h*b+c*d)+a[2]*(m*b-e*d)},inverse:function(a,b){var e=a[0],c=a[1],p=a[2],d=a[3],m=a[4],h=a[5],g=a[6],f=a[7];a=a[8];var t=a*m-h*f,k=-a*d+h*g,v=f*d-m*g,l=e*t+c*k+p*v;if(!l)return null;l=1/l;b||(b=B.create());b[0]=t*l;b[1]=(-a*c+p*f)*l;b[2]=(h*c-p*m)*l;b[3]=k*l;b[4]=(a*e-p*g)*l;b[5]=(-h*e+p*d)*l;b[6]=v*l;b[7]=(-f*e+c*g)*l;b[8]=(m*e-c*d)*l;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],p=a[1],d=a[2],
m=a[3],h=a[4],g=a[5],f=a[6],x=a[7];a=a[8];var t=b[0],k=b[1],v=b[2],l=b[3],y=b[4],n=b[5],z=b[6],w=b[7];b=b[8];c[0]=t*e+k*m+v*f;c[1]=t*p+k*h+v*x;c[2]=t*d+k*g+v*a;c[3]=l*e+y*m+n*f;c[4]=l*p+y*h+n*x;c[5]=l*d+y*g+n*a;c[6]=z*e+w*m+b*f;c[7]=z*p+w*h+b*x;c[8]=z*d+w*g+b*a;return c},multiplyVec2:function(a,b,c){c||(c=b);var e=b[0];b=b[1];c[0]=e*a[0]+b*a[3]+a[6];c[1]=e*a[1]+b*a[4]+a[7];return c},multiplyVec3:function(a,b,c){c||(c=b);var e=b[0],p=b[1];b=b[2];c[0]=e*a[0]+p*a[3]+b*a[6];c[1]=e*a[1]+p*a[4]+b*a[7];
c[2]=e*a[2]+p*a[5]+b*a[8];return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])&&1E-6>Math.abs(a[4]-b[4])&&1E-6>Math.abs(a[5]-b[5])&&1E-6>Math.abs(a[6]-b[6])&&1E-6>Math.abs(a[7]-b[7])&&1E-6>Math.abs(a[8]-b[8])},identity:function(a){a||(a=B.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=
0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var e=a[2],c=a[5];a[1]=a[3];a[2]=a[6];a[3]=b;a[5]=a[7];a[6]=e;a[7]=c;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];b[5]=a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},toMat4:function(a,b){b||(b=A.create());b[15]=1;b[14]=0;b[13]=0;b[12]=0;b[11]=0;b[10]=a[8];b[9]=a[7];b[8]=a[6];b[7]=0;b[6]=a[5];b[5]=a[4];b[4]=a[3];b[3]=0;b[2]=a[2];b[1]=a[1];b[0]=a[0];return b},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+
", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},A={create:function(a){var b=new k(16);4===arguments.length?(b[0]=arguments[0],b[1]=arguments[1],b[2]=arguments[2],b[3]=arguments[3],b[4]=arguments[4],b[5]=arguments[5],b[6]=arguments[6],b[7]=arguments[7],b[8]=arguments[8],b[9]=arguments[9],b[10]=arguments[10],b[11]=arguments[11],b[12]=arguments[12],b[13]=arguments[13],b[14]=arguments[14],b[15]=arguments[15]):a&&(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],
b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b},createFrom:function(a,b,c,d,m,h,g,f,t,v,l,y,n,z,w,B){var e=new k(16);e[0]=a;e[1]=b;e[2]=c;e[3]=d;e[4]=m;e[5]=h;e[6]=g;e[7]=f;e[8]=t;e[9]=v;e[10]=l;e[11]=y;e[12]=n;e[13]=z;e[14]=w;e[15]=B;return e},createFromMatrixRowMajor:function(a){var b=new k(16);b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=
a[13];b[11]=a[14];b[15]=a[15];return b},createFromMatrix:function(a){var b=new k(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},setRowMajor:function(a,b){b[0]=a[0];
b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])&&1E-6>Math.abs(a[4]-b[4])&&1E-6>Math.abs(a[5]-b[5])&&1E-6>Math.abs(a[6]-b[6])&&1E-6>Math.abs(a[7]-b[7])&&1E-6>Math.abs(a[8]-b[8])&&1E-6>Math.abs(a[9]-b[9])&&1E-6>Math.abs(a[10]-b[10])&&1E-6>Math.abs(a[11]-
b[11])&&1E-6>Math.abs(a[12]-b[12])&&1E-6>Math.abs(a[13]-b[13])&&1E-6>Math.abs(a[14]-b[14])&&1E-6>Math.abs(a[15]-b[15])},identity:function(a){a||(a=A.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var e=a[2],c=a[3],p=a[6],d=a[7],m=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=b;a[6]=a[9];a[7]=a[13];a[8]=e;a[9]=p;a[11]=a[14];a[12]=c;a[13]=d;a[14]=m;return a}b[0]=a[0];b[1]=
a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},determinant:function(a){var b=a[0],e=a[1],c=a[2],d=a[3],m=a[4],h=a[5],g=a[6],f=a[7],t=a[8],k=a[9],v=a[10],l=a[11],y=a[12],n=a[13],z=a[14];a=a[15];return y*k*g*d-t*n*g*d-y*h*v*d+m*n*v*d+t*h*z*d-m*k*z*d-y*k*c*f+t*n*c*f+y*e*v*f-b*n*v*f-t*e*z*f+b*k*z*f+y*h*c*l-m*n*c*l-y*e*g*l+b*n*g*l+m*e*z*l-b*h*z*l-t*h*c*a+m*k*c*a+t*e*g*a-b*k*g*a-m*e*v*
a+b*h*v*a},inverse:function(a,b){b||(b=a);var e=a[0],c=a[1],p=a[2],d=a[3],m=a[4],h=a[5],g=a[6],f=a[7],t=a[8],k=a[9],v=a[10],l=a[11],y=a[12],n=a[13],z=a[14];a=a[15];var w=e*h-c*m,B=e*g-p*m,A=e*f-d*m,r=c*g-p*h,W=c*f-d*h,ba=p*f-d*g,Q=t*n-k*y,V=t*z-v*y,na=t*a-l*y,pa=k*z-v*n,ha=k*a-l*n,Aa=v*a-l*z,ia=w*Aa-B*ha+A*pa+r*na-W*V+ba*Q;if(!ia)return null;ia=1/ia;b[0]=(h*Aa-g*ha+f*pa)*ia;b[1]=(-c*Aa+p*ha-d*pa)*ia;b[2]=(n*ba-z*W+a*r)*ia;b[3]=(-k*ba+v*W-l*r)*ia;b[4]=(-m*Aa+g*na-f*V)*ia;b[5]=(e*Aa-p*na+d*V)*ia;b[6]=
(-y*ba+z*A-a*B)*ia;b[7]=(t*ba-v*A+l*B)*ia;b[8]=(m*ha-h*na+f*Q)*ia;b[9]=(-e*ha+c*na-d*Q)*ia;b[10]=(y*W-n*A+a*w)*ia;b[11]=(-t*W+k*A-l*w)*ia;b[12]=(-m*pa+h*V-g*Q)*ia;b[13]=(e*pa-c*V+p*Q)*ia;b[14]=(-y*r+n*B-z*w)*ia;b[15]=(t*r-k*B+v*w)*ia;return b},toRotationMat:function(a,b){b||(b=A.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toMat3:function(a,b){b||(b=B.create());b[0]=a[0];
b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},toInverseMat3:function(a,b){var e=a[0],c=a[1],p=a[2],d=a[4],m=a[5],h=a[6],g=a[8],f=a[9];a=a[10];var t=a*m-h*f,k=-a*d+h*g,v=f*d-m*g,l=e*t+c*k+p*v;if(!l)return null;l=1/l;b||(b=B.create());b[0]=t*l;b[1]=(-a*c+p*f)*l;b[2]=(h*c-p*m)*l;b[3]=k*l;b[4]=(a*e-p*g)*l;b[5]=(-h*e+p*d)*l;b[6]=v*l;b[7]=(-f*e+c*g)*l;b[8]=(m*e-c*d)*l;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],p=a[1],d=a[2],m=a[3],h=a[4],g=a[5],f=
a[6],t=a[7],x=a[8],k=a[9],v=a[10],l=a[11],y=a[12],n=a[13],z=a[14];a=a[15];var w=b[0],B=b[1],A=b[2],r=b[3];c[0]=w*e+B*h+A*x+r*y;c[1]=w*p+B*g+A*k+r*n;c[2]=w*d+B*f+A*v+r*z;c[3]=w*m+B*t+A*l+r*a;w=b[4];B=b[5];A=b[6];r=b[7];c[4]=w*e+B*h+A*x+r*y;c[5]=w*p+B*g+A*k+r*n;c[6]=w*d+B*f+A*v+r*z;c[7]=w*m+B*t+A*l+r*a;w=b[8];B=b[9];A=b[10];r=b[11];c[8]=w*e+B*h+A*x+r*y;c[9]=w*p+B*g+A*k+r*n;c[10]=w*d+B*f+A*v+r*z;c[11]=w*m+B*t+A*l+r*a;w=b[12];B=b[13];A=b[14];r=b[15];c[12]=w*e+B*h+A*x+r*y;c[13]=w*p+B*g+A*k+r*n;c[14]=w*
d+B*f+A*v+r*z;c[15]=w*m+B*t+A*l+r*a;return c},multiplyVec3:function(a,b,c){c||(c=b);var e=b[0],p=b[1];b=b[2];c[0]=a[0]*e+a[4]*p+a[8]*b+a[12];c[1]=a[1]*e+a[5]*p+a[9]*b+a[13];c[2]=a[2]*e+a[6]*p+a[10]*b+a[14];return c},multiplyVec4:function(a,b,c){c||(c=b);var e=b[0],p=b[1],d=b[2];b=b[3];c[0]=a[0]*e+a[4]*p+a[8]*d+a[12]*b;c[1]=a[1]*e+a[5]*p+a[9]*d+a[13]*b;c[2]=a[2]*e+a[6]*p+a[10]*d+a[14]*b;c[3]=a[3]*e+a[7]*p+a[11]*d+a[15]*b;return c},translate:function(a,b,c){var e=b[0],p=b[1];b=b[2];var d,m,h,g,f,t,
x,k,v,l,y,n;if(!c||a===c)return a[12]=a[0]*e+a[4]*p+a[8]*b+a[12],a[13]=a[1]*e+a[5]*p+a[9]*b+a[13],a[14]=a[2]*e+a[6]*p+a[10]*b+a[14],a[15]=a[3]*e+a[7]*p+a[11]*b+a[15],a;d=a[0];m=a[1];h=a[2];g=a[3];f=a[4];t=a[5];x=a[6];k=a[7];v=a[8];l=a[9];y=a[10];n=a[11];c[0]=d;c[1]=m;c[2]=h;c[3]=g;c[4]=f;c[5]=t;c[6]=x;c[7]=k;c[8]=v;c[9]=l;c[10]=y;c[11]=n;c[12]=d*e+f*p+v*b+a[12];c[13]=m*e+t*p+l*b+a[13];c[14]=h*e+x*p+y*b+a[14];c[15]=g*e+k*p+n*b+a[15];return c},scale:function(a,b,c){var e=b[0],p=b[1];b=b[2];if(!c||a===
c)return a[0]*=e,a[1]*=e,a[2]*=e,a[3]*=e,a[4]*=p,a[5]*=p,a[6]*=p,a[7]*=p,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;c[0]=a[0]*e;c[1]=a[1]*e;c[2]=a[2]*e;c[3]=a[3]*e;c[4]=a[4]*p;c[5]=a[5]*p;c[6]=a[6]*p;c[7]=a[7]*p;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},maxScale:function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*a[10]))},rotate:function(a,
b,c,d){var e=c[0],p=c[1];c=c[2];var m=Math.sqrt(e*e+p*p+c*c),h,g,f,t,x,k,v,l,y,n,z,w,B,A,F,r,Q,V,na,pa;if(!m)return null;1!==m&&(m=1/m,e*=m,p*=m,c*=m);h=Math.sin(b);g=Math.cos(b);f=1-g;b=a[0];m=a[1];t=a[2];x=a[3];k=a[4];v=a[5];l=a[6];y=a[7];n=a[8];z=a[9];w=a[10];B=a[11];A=e*e*f+g;F=p*e*f+c*h;r=c*e*f-p*h;Q=e*p*f-c*h;V=p*p*f+g;na=c*p*f+e*h;pa=e*c*f+p*h;e=p*c*f-e*h;p=c*c*f+g;d?a!==d&&(d[12]=a[12],d[13]=a[13],d[14]=a[14],d[15]=a[15]):d=a;d[0]=b*A+k*F+n*r;d[1]=m*A+v*F+z*r;d[2]=t*A+l*F+w*r;d[3]=x*A+y*F+
B*r;d[4]=b*Q+k*V+n*na;d[5]=m*Q+v*V+z*na;d[6]=t*Q+l*V+w*na;d[7]=x*Q+y*V+B*na;d[8]=b*pa+k*e+n*p;d[9]=m*pa+v*e+z*p;d[10]=t*pa+l*e+w*p;d[11]=x*pa+y*e+B*p;return d},rotateX:function(a,b,c){var e=Math.sin(b);b=Math.cos(b);var p=a[4],d=a[5],m=a[6],h=a[7],g=a[8],f=a[9],t=a[10],x=a[11];c?a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[4]=p*b+g*e;c[5]=d*b+f*e;c[6]=m*b+t*e;c[7]=h*b+x*e;c[8]=p*-e+g*b;c[9]=d*-e+f*b;c[10]=m*-e+t*b;c[11]=h*-e+x*b;return c},
rotateY:function(a,b,c){var e=Math.sin(b);b=Math.cos(b);var p=a[0],d=a[1],m=a[2],h=a[3],g=a[8],f=a[9],t=a[10],k=a[11];c?a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=p*b+g*-e;c[1]=d*b+f*-e;c[2]=m*b+t*-e;c[3]=h*b+k*-e;c[8]=p*e+g*b;c[9]=d*e+f*b;c[10]=m*e+t*b;c[11]=h*e+k*b;return c},rotateZ:function(a,b,c){var e=Math.sin(b);b=Math.cos(b);var p=a[0],d=a[1],m=a[2],h=a[3],g=a[4],f=a[5],t=a[6],k=a[7];c?a!==c&&(c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=
a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=p*b+g*e;c[1]=d*b+f*e;c[2]=m*b+t*e;c[3]=h*b+k*e;c[4]=p*-e+g*b;c[5]=d*-e+f*b;c[6]=m*-e+t*b;c[7]=h*-e+k*b;return c},frustum:function(a,b,c,d,m,h,g){g||(g=A.create());var e=b-a,p=d-c,f=h-m;g[0]=2*m/e;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*m/p;g[6]=0;g[7]=0;g[8]=(b+a)/e;g[9]=(d+c)/p;g[10]=-(h+m)/f;g[11]=-1;g[12]=0;g[13]=0;g[14]=-(h*m*2)/f;g[15]=0;return g},perspective:function(a,b,c,d,m){a=c*Math.tan(a*Math.PI/360);b*=a;return A.frustum(-b,b,
-a,a,c,d,m)},ortho:function(a,b,c,d,m,h,g){g||(g=A.create());var e=b-a,p=d-c,f=h-m;g[0]=2/e;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2/p;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=-2/f;g[11]=0;g[12]=-(a+b)/e;g[13]=-(d+c)/p;g[14]=-(h+m)/f;g[15]=1;return g},lookAt:function(a,b,c,d){d||(d=A.create());var e,p,m,h,g,f,t,k,x=a[0],v=a[1];a=a[2];m=c[0];h=c[1];p=c[2];t=b[0];c=b[1];e=b[2];if(x===t&&v===c&&a===e)return A.identity(d);b=x-t;c=v-c;t=a-e;k=1/Math.sqrt(b*b+c*c+t*t);b*=k;c*=k;t*=k;e=h*t-p*c;p=p*b-m*t;m=m*c-h*b;(k=
Math.sqrt(e*e+p*p+m*m))?(k=1/k,e*=k,p*=k,m*=k):m=p=e=0;h=c*m-t*p;g=t*e-b*m;f=b*p-c*e;(k=Math.sqrt(h*h+g*g+f*f))?(k=1/k,h*=k,g*=k,f*=k):f=g=h=0;d[0]=e;d[1]=h;d[2]=b;d[3]=0;d[4]=p;d[5]=g;d[6]=c;d[7]=0;d[8]=m;d[9]=f;d[10]=t;d[11]=0;d[12]=-(e*x+p*v+m*a);d[13]=-(h*x+g*v+f*a);d[14]=-(b*x+c*v+t*a);d[15]=1;return d},fromRotationTranslation:function(a,b,c){c||(c=A.create());var e=a[0],d=a[1],p=a[2],m=a[3],h=e+e,g=d+d,f=p+p;a=e*h;var t=e*g,e=e*f,k=d*g,d=d*f,p=p*f,h=m*h,g=m*g,m=m*f;c[0]=1-(k+p);c[1]=t+m;c[2]=
e-g;c[3]=0;c[4]=t-m;c[5]=1-(a+p);c[6]=d+h;c[7]=0;c[8]=e+g;c[9]=d-h;c[10]=1-(a+k);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},w={create:function(a){var b=new k(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,d){var e=new k(4);e[0]=a;e[1]=
b;e[2]=c;e[3]=d;return e},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])},identity:function(a){a||(a=w.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},m=w.identity();w.calculateW=function(a,b){var c=a[0],e=a[1],d=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-c*c-e*e-d*d)),a;b[0]=c;b[1]=e;b[2]=d;b[3]=-Math.sqrt(Math.abs(1-c*c-e*e-d*d));
return b};w.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};w.inverse=function(a,b){var c=a[0],e=a[1],d=a[2],p=a[3],c=(c=c*c+e*e+d*d+p*p)?1/c:0;if(!b||a===b)return a[0]*=-c,a[1]*=-c,a[2]*=-c,a[3]*=c,a;b[0]=-a[0]*c;b[1]=-a[1]*c;b[2]=-a[2]*c;b[3]=a[3]*c;return b};w.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};w.length=function(a){var b=a[0],c=a[1],e=a[2];a=a[3];return Math.sqrt(b*b+c*c+e*e+a*a)};w.normalize=
function(a,b){b||(b=a);var c=a[0],e=a[1],d=a[2];a=a[3];var p=Math.sqrt(c*c+e*e+d*d+a*a);if(0===p)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;p=1/p;b[0]=c*p;b[1]=e*p;b[2]=d*p;b[3]=a*p;return b};w.add=function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};w.multiply=function(a,b,c){c||(c=a);var e=a[0],d=a[1],p=a[2];a=a[3];var m=b[0],h=b[1],g=b[2];b=b[3];c[0]=e*b+a*m+d*g-p*h;c[1]=d*b+a*h+p*m-e*g;c[2]=p*b+a*g+e*
h-d*m;c[3]=a*b-e*m-d*h-p*g;return c};w.multiplyVec3=function(a,b,c){c||(c=b);var e=b[0],d=b[1],m=b[2];b=a[0];var p=a[1],h=a[2];a=a[3];var g=a*e+p*m-h*d,f=a*d+h*e-b*m,t=a*m+b*d-p*e,e=-b*e-p*d-h*m;c[0]=g*a+e*-b+f*-h-t*-p;c[1]=f*a+e*-p+t*-b-g*-h;c[2]=t*a+e*-h+g*-p-f*-b;return c};w.scale=function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};w.toMat3=function(a,b){b||(b=B.create());var c=a[0],e=a[1],d=a[2],m=a[3],p=c+c,h=e+e,g=d+
d;a=c*p;var f=c*h,c=c*g,t=e*h,e=e*g,d=d*g,p=m*p,h=m*h,m=m*g;b[0]=1-(t+d);b[1]=f+m;b[2]=c-h;b[3]=f-m;b[4]=1-(a+d);b[5]=e+p;b[6]=c+h;b[7]=e-p;b[8]=1-(a+t);return b};w.toMat4=function(a,b){b||(b=A.create());var c=a[0],e=a[1],d=a[2],m=a[3],h=c+c,p=e+e,g=d+d;a=c*h;var f=c*p,c=c*g,t=e*p,e=e*g,d=d*g,h=m*h,p=m*p,m=m*g;b[0]=1-(t+d);b[1]=f+m;b[2]=c-p;b[3]=0;b[4]=f-m;b[5]=1-(a+d);b[6]=e+h;b[7]=0;b[8]=c+p;b[9]=e-h;b[10]=1-(a+t);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};w.slerp=function(a,b,c,d){d||(d=
a);var e=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],m,h;if(1<=Math.abs(e))return d!==a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2],d[3]=a[3]),d;m=Math.acos(e);h=Math.sqrt(1-e*e);if(.001>Math.abs(h))return d[0]=.5*a[0]+.5*b[0],d[1]=.5*a[1]+.5*b[1],d[2]=.5*a[2]+.5*b[2],d[3]=.5*a[3]+.5*b[3],d;e=Math.sin((1-c)*m)/h;c=Math.sin(c*m)/h;d[0]=a[0]*e+b[0]*c;d[1]=a[1]*e+b[1]*c;d[2]=a[2]*e+b[2]*c;d[3]=a[3]*e+b[3]*c;return d};w.fromRotationMatrix=function(a,b){b||(b=w.create());var c=a[0]+a[4]+a[8],e;if(0<c)e=Math.sqrt(c+1),
b[3]=.5*e,e=.5/e,b[0]=(a[7]-a[5])*e,b[1]=(a[2]-a[6])*e,b[2]=(a[3]-a[1])*e;else{e=w.fromRotationMatrix.s_iNext=w.fromRotationMatrix.s_iNext||[1,2,0];c=0;a[4]>a[0]&&(c=1);a[8]>a[3*c+c]&&(c=2);var d=e[c],m=e[d];e=Math.sqrt(a[3*c+c]-a[3*d+d]-a[3*m+m]+1);b[c]=.5*e;e=.5/e;b[3]=(a[3*m+d]-a[3*d+m])*e;b[d]=(a[3*d+c]+a[3*c+d])*e;b[m]=(a[3*m+c]+a[3*c+m])*e}return b};B.toQuat4=w.fromRotationMatrix;(function(){var a=B.create();w.fromAxes=function(b,c,e,d){a[0]=c[0];a[3]=c[1];a[6]=c[2];a[1]=e[0];a[4]=e[1];a[7]=
e[2];a[2]=b[0];a[5]=b[1];a[8]=b[2];return w.fromRotationMatrix(a,d)}})();w.identity=function(a){a||(a=w.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};w.fromAngleAxis=function(a,b,c){c||(c=w.create());a*=.5;var e=Math.sin(a);c[3]=Math.cos(a);c[0]=e*b[0];c[1]=e*b[1];c[2]=e*b[2];return c};w.toAngleAxis=function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];0<c?(b[3]=2*Math.acos(a[3]),c=f.invsqrt(c),b[0]=a[0]*c,b[1]=a[1]*c,b[2]=a[2]*c):(b[3]=0,b[0]=1,b[1]=0,b[2]=0);return b};w.str=function(a){return"["+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var y={create:function(a){var b=new k(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,d){var e=new k(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])},identity:function(a){a||(a=y.create());a[0]=1;a[1]=0;a[2]=
0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b)return b=a[1],a[1]=a[2],a[2]=b,a;b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,b){b||(b=a);var c=a[0],e=a[1],d=a[2];a=a[3];var m=c*a-d*e;if(!m)return null;m=1/m;b[0]=a*m;b[1]=-e*m;b[2]=-d*m;b[3]=c*m;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],d=a[1],m=a[2];a=a[3];c[0]=e*b[0]+d*b[2];c[1]=e*b[1]+d*b[3];c[2]=m*b[0]+a*b[2];c[3]=m*b[1]+a*b[3];return c},rotate:function(a,
b,c){c||(c=a);var e=a[0],d=a[1],m=a[2];a=a[3];var h=Math.sin(b);b=Math.cos(b);c[0]=e*b+d*h;c[1]=e*-h+d*b;c[2]=m*b+a*h;c[3]=m*-h+a*b;return c},multiplyVec2:function(a,b,c){c||(c=b);var e=b[0];b=b[1];c[0]=e*a[0]+b*a[1];c[1]=e*a[2]+b*a[3];return c},scale:function(a,b,c){c||(c=a);var e=a[1],d=a[2],m=a[3],h=b[0];b=b[1];c[0]=a[0]*h;c[1]=e*b;c[2]=d*h;c[3]=m*b;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};b=b?"":"d";a["glMath"+b]=f;a["vec2"+b]={create:function(a){var b=new k(2);
a?(b[0]=a[0],b[1]=a[1]):(b[0]=0,b[1]=0);return b},createFrom:function(a,b){var c=new k(2);c[0]=a;c[1]=b;return c},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;return c},dist:function(a,b){var c=b[0]-a[0];
a=b[1]-a[1];return Math.sqrt(c*c+a*a)},dist2:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,c){c[0]=a;c[1]=b;return c},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1];0<c?(c=Math.sqrt(c),b[0]=a[0]/c,b[1]=a[1]/c):b[0]=b[1]=0;return b},cross:function(a,b,c){a=a[0]*b[1]-
a[1]*b[0];if(!c)return a;c[0]=c[1]=0;c[2]=a;return c},length:function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)},length2:function(a){var b=a[0];a=a[1];return b*b+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,c){c||(c=a);var e=a[0]-b[0];a=a[1]-b[1];b=e*e+a*a;if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/Math.sqrt(b);c[0]=e*b;c[1]=a*b;return c},lerp:function(a,b,c,d){d||(d=a);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);return d},str:function(a){return"["+a[0]+", "+a[1]+
"]"}};a["vec3"+b]=n;a["vec4"+b]={create:function(a){var b=new k(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b},createFrom:function(a,b,c,d){var e=new k(4);e[0]=a;e[1]=b;e[2]=c;e[3]=d;return e},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=
a[2]*b[2];c[3]=a[3]*b[3];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},set4:function(a,b,c,d,m){m[0]=a;m[1]=b;m[2]=c;m[3]=d;return m},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])},negate:function(a,
b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},length:function(a){var b=a[0],c=a[1],e=a[2];a=a[3];return Math.sqrt(b*b+c*c+e*e+a*a)},length2:function(a){var b=a[0],c=a[1],e=a[2];a=a[3];return b*b+c*c+e*e+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},lerp:function(a,b,c,d){d||(d=a);d[0]=a[0]+c*(b[0]-a[0]);d[1]=a[1]+c*(b[1]-a[1]);d[2]=a[2]+c*(b[2]-a[2]);d[3]=a[3]+c*(b[3]-a[3]);return d},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};a["mat2"+
b]=y;a["mat3"+b]=B;a["mat4"+b]=A;a["quat4"+b]=w});return b})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../lib/gl-matrix ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),function(b,a,r,f,k,n,l,c,g){function h(a,b,c,e){2===a.length?(E[0]=a[0],E[1]=a[1],E[2]=0,a=E):a===c&&(n.vec3d.set(a,E),a=E);return d(a,b,0,c,e,0,1)}function d(a,b,c,d,h,g,f){void 0===
f&&(f=1);w!==b&&(m=v(b),w=b);y!==h&&(e=v(h),y=h);f=c+3*f;if(m!==e||m===A.UNKNOWN&&!b.equals(h))if(m>A.UNKNOWN&&e>A.UNKNOWN)if(e!==A.WGS84)if(b=p[e],m!==A.WGS84)for(h=x[m];c<f;c+=3,g+=3)h(a,c,P,0),b(P,0,d,g);else for(;c<f;c+=3,g+=3)b(a,c,d,g);else for(h=x[m];c<f;c+=3,g+=3)h(a,c,d,g);else return!1;else if(d!==a||c!==g)for(;c<f;c++,g++)d[g]=a[c];return!0}function v(b){return b.wkt===a.SphericalECEFSpatialReference.wkt?A.SPHERICAL_ECEF:b.isWGS84?A.WGS84:b.isWebMercator?A.WEBMERC:b.wkt===a.WGS84ECEFSpatialReference.wkt?
A.WGS84_ECEF:A.UNKNOWN}function z(a,b,c,e){c[e++]=a[b++];c[e++]=a[b++];c[e]=a[b]}function t(a,b,e,d){var m=.4999999*Math.PI,m=c.clamp(F*a[b+1],-m,m),m=Math.sin(m);e[d++]=F*a[b]*C;e[d++]=C/2*Math.log((1+m)/(1-m));e[d]=a[b+2]}function B(a,b,c,e){var d=C+a[b+2],m=F*a[b+1];a=F*a[b];b=Math.cos(m);c[e++]=Math.cos(a)*b*d;c[e++]=Math.sin(a)*b*d;c[e]=Math.sin(m)*d}Object.defineProperty(a,"__esModule",{value:!0});a.SphericalECEFSpatialReference=new f({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});
a.WGS84ECEFSpatialReference=new f({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});var A;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";
a[a.WGS84=2]="WGS84";a[a.WEBMERC=3]="WEBMERC";a[a.WGS84_ECEF=4]="WGS84_ECEF"})(A||(A={}));var w,m,y,e;a.vectorToVector=h;a.pointToVector=function(a,b,c){E[0]=a.x;E[1]=a.y;var e=a.z;E[2]=void 0!==e?e:0;return d(E,a.spatialReference,0,b,c,0,1)};a.vectorToPoint=function(a,b,c,e){"esri.geometry.SpatialReference"===c.declaredClass?(e=c,c=new r({spatialReference:e})):e=e||c.spatialReference;return d(a,b,0,E,e,0,1)?(c.x=E[0],c.y=E[1],c.z=E[2],c.spatialReference=e,c):null};a.xyzToVector=function(a,b,c,e,
m,h){E[0]=a;E[1]=b;E[2]=c;return d(E,e,0,m,h,0,1)};a.bufferToBuffer=d;a.computeLinearTransformation=function(a,b,c,e){var d=v(a),m=v(e);if(d===m&&m!==A.SPHERICAL_ECEF&&(d!==A.UNKNOWN||a.equals(e)))return n.mat4d.identity(c),n.mat4d.translate(c,b),!0;if(m===A.SPHERICAL_ECEF){if(a=x[d])return a(b,0,P,0),B(P,0,da,0),e=F*P[0],a=F*P[1],b=Math.sin(e),e=Math.cos(e),d=Math.sin(a),a=Math.cos(a),c[0]=-b,c[4]=-d*e,c[8]=a*e,c[12]=da[0],c[1]=e,c[5]=-d*b,c[9]=a*b,c[13]=da[1],c[2]=0,c[6]=a,c[10]=d,c[14]=da[2],c[3]=
0,c[7]=0,c[11]=0,c[15]=1,!0}else if(m===A.WEBMERC&&(d===A.WGS84||d===A.SPHERICAL_ECEF))return x[d](b,0,P,0),b=F*P[1],t(P,0,da,0),n.mat4d.identity(c),n.mat4d.translate(c,da),b=1/Math.cos(b),n.mat4d.scale(c,[b,b,1]),!0;return!1};a.transformDirection=function(a,b,c,e,d){n.vec3d.set(a,ga);n.vec3d.add(a,b,T);h(ga,c,ga,d);h(T,c,T,d);n.vec3d.subtract(T,ga,e);n.vec3d.normalize(e)};a.mbsToMbs=function(a,b,c,e){var d=v(b),m=v(e);if(d===m&&(d!==A.UNKNOWN||b.equals(e)))return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=
a[3],!0;if(m===A.SPHERICAL_ECEF){if(b=x[d])return b(a,0,P,0),B(P,0,c,0),c[3]=a[3],!0}else if(m===A.WEBMERC&&(d===A.WGS84||d===A.SPHERICAL_ECEF))return x[d](a,0,P,0),b=Math.abs(F*P[1])+Math.asin(a[3]/(C+a[2])),t(P,0,c,0),c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3],!0;return!1};a.extentToBoundingBox=function(a,b,c){if(null==a)return!1;var e;E[0]=null!=a.xmin?a.xmin:0;E[1]=null!=a.ymin?a.ymin:0;E[2]=null!=a.zmin?a.zmin:0;e=d(E,a.spatialReference,0,b,c,0,1);E[0]=null!=a.xmax?a.xmax:0;E[1]=
null!=a.ymax?a.ymax:0;E[2]=null!=a.zmax?a.zmax:0;e=e&&d(E,a.spatialReference,0,b,c,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return e};a.extentToBoundingRect=function(a,b,c){if(null==a)return!1;var e;E[0]=null!=a.xmin?a.xmin:0;E[1]=null!=a.ymin?a.ymin:0;E[2]=null!=a.zmin?a.zmin:0;e=d(E,a.spatialReference,0,E,c,0,1);b[0]=E[0];b[1]=E[1];E[0]=null!=a.xmax?
a.xmax:0;E[1]=null!=a.ymax?a.ymax:0;E[2]=null!=a.zmax?a.zmax:0;e=e&&d(E,a.spatialReference,0,E,c,0,1);b[2]=E[0];b[3]=E[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return e};a.boundingRectToBoundingRect=function(a,b,c,e){if(null==a)return!1;if(b.equals(e))return k.set(c,a),!0;var m;E[0]=a[0];E[1]=a[1];E[2]=0;m=d(E,b,0,E,e,0,1);c[0]=E[0];c[1]=E[1];E[0]=a[2];E[1]=a[3];E[2]=0;m=m&&d(E,b,0,E,e,0,1);c[2]=E[0];c[3]=E[1];return m};
(function(a){a.x2lon=function(a){return a/C};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/C))};a.lon2x=function(a){return a*C};a.lat2y=function(a){a=Math.sin(a);return C/2*Math.log((1+a)/(1-a))}})(a.webMercator||(a.webMercator={}));var p=[void 0,B,z,t,function(a,b,c,e){var d=O,m=F*a[b],h=F*a[b+1];a=a[b+2];b=Math.sin(h);var h=Math.cos(h),g=d.a/Math.sqrt(1-d.e2*b*b);c[e++]=(g+a)*h*Math.cos(m);c[e++]=(g+a)*h*Math.sin(m);c[e++]=(g*(1-d.e2)+a)*b}],x=[void 0,function(a,b,e,d){var m=g.Vec3Compact.length(a,
b),h=c.asin(a[b+2]/m);a=(0<a[b+1]?1:-1)*c.acos(a[b]/(Math.cos(h)*m));e[d++]=G*a;e[d++]=G*h;e[d]=m-C},z,function(a,b,c,e){c[e++]=G*(a[b++]/C);c[e++]=G*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/C)));c[e]=a[b]},function(a,b,c,e){var d=O,m=a[b],h=a[b+1];a=a[b+2];var g,f,t,p,k,v;b=Math.abs(a);g=m*m+h*h;f=Math.sqrt(g);t=g+a*a;p=Math.sqrt(t);m=Math.atan2(h,m);k=a*a/t;t=g/t;h=d.a2/p;g=d.a3-d.a4/p;.3<t?(k=b/p*(1+t*(d.a1+h+k*g)/p),p=Math.asin(k),h=k*k,t=Math.sqrt(1-h)):(t=f/p*(1-k*(d.a5-h-t*g)/p),p=Math.acos(t),
h=1-t*t,k=Math.sqrt(h));v=1-d.e2*h;h=d.a/Math.sqrt(v);d=d.a6*h;h=f-h*t;g=b-d*k;b=t*h+k*g;f=t*g-k*h;d=f/(d/v+b);p+=d;0>a&&(p=-p);c[e++]=G*m;c[e++]=G*p;c[e]=b+f*d/2}],F=c.deg2rad(1),G=c.rad2deg(1),C=l.earthRadius,O={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},E=n.vec3d.create(),P=n.vec3d.create(),da=n.vec3d.create(),ga=n.vec3d.create(),T=n.vec3d.create()})},"esri/geometry/support/aaBoundingRect":function(){define(["require",
"exports","../Extent"],function(b,a,r){function f(b){void 0===b&&(b=a.ZERO);return[b[0],b[1],b[2],b[3]]}function k(a){return a[0]>=a[2]?0:a[2]-a[0]}function n(a){return a[1]>=a[3]?0:a[3]-a[1]}function l(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function c(a){return 4===a.length}function g(a,b,c){return a<b?b:a>c?c:a}Object.defineProperty(a,"__esModule",{value:!0});a.create=f;a.clone=function(a){return[a[0],a[1],a[2],a[3]]};a.fromValues=function(a,b,c,g,t){void 0===t&&(t=f());t[0]=a;t[1]=
b;t[2]=c;t[3]=g;return t};a.fromExtent=function(a,b){void 0===b&&(b=f());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};a.toExtent=function(a,b){return new r({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};a.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};a.expand=function(a,b,g){void 0===g&&(g=a);if("length"in b)if(c(b))g[0]=Math.min(a[0],b[0]),g[1]=Math.min(a[1],b[1]),g[2]=Math.max(a[2],b[2]),
g[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)g[0]=Math.min(a[0],b[0]),g[1]=Math.min(a[1],b[1]),g[2]=Math.max(a[2],b[0]),g[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":g[0]=Math.min(a[0],b.xmin);g[1]=Math.min(a[1],b.ymin);g[2]=Math.max(a[2],b.xmax);g[3]=Math.max(a[3],b.ymax);break;case "point":g[0]=Math.min(a[0],b.x),g[1]=Math.min(a[1],b.y),g[2]=Math.max(a[2],b.x),g[3]=Math.max(a[3],b.y)}return g};a.expandWithNestedArray=function(a,b,c){void 0===c&&(c=a);var d=b.length,g=
a[0],h=a[1],f=a[2];a=a[3];for(var k=0;k<d;k++){var m=b[k],g=Math.min(g,m[0]),h=Math.min(h,m[1]),f=Math.max(f,m[0]);a=Math.max(a,m[1])}c[0]=g;c[1]=h;c[2]=f;c[3]=a;return c};a.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};a.width=k;a.height=n;a.diameter=function(a){var b=k(a);a=n(a);return Math.sqrt(b*b+a*a)};a.area=function(a){return k(a)*n(a)};a.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+k(a)/2;b[1]=a[1]+n(a)/2;return b};a.containsPoint=function(a,b){return b[0]>=
a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};a.containsPointWithMargin=function(a,b,c){return b[0]>=a[0]-c&&b[1]>=a[1]-c&&b[0]<=a[2]+c&&b[1]<=a[3]+c};a.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};a.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};a.intersection=function(a,b,c){void 0===c&&(c=a);var d=b[0],f=b[1],h=b[2];b=b[3];c[0]=g(a[0],d,h);c[1]=g(a[1],f,b);c[2]=g(a[2],d,h);c[3]=g(a[3],f,b);return c};
a.distance=function(a,b){var c=(a[1]+a[3])/2,d=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-k(a)/2,0);a=Math.max(Math.abs(b[1]-c)-n(a)/2,0);return Math.sqrt(d*d+a*a)};a.offset=function(a,b,c,g){void 0===g&&(g=a);g[0]=a[0]+b;g[1]=a[1]+c;g[2]=a[2]+b;g[3]=a[3]+c;return g};a.pad=function(a,b,c){void 0===c&&(c=a);c[0]=a[0]-b;c[1]=a[1]-b;c[2]=a[2]+b;c[3]=a[3]+b;return c};a.setMin=function(a,b,c){void 0===c&&(c=a);c[0]=b[0];c[1]=b[1];c!==a&&(c[2]=a[2],c[3]=a[3]);return c};a.setMax=function(a,b,c){void 0===c&&(c=
a);c[2]=b[0];c[3]=b[1];c!==a&&(c[0]=a[0],c[1]=a[1]);return a};a.set=l;a.empty=function(b){return b?l(b,a.NEGATIVE_INFINITY):f(a.NEGATIVE_INFINITY)};a.is=c;a.isPoint=function(a){return(0===k(a)||!isFinite(a[0]))&&(0===n(a)||!isFinite(a[1]))};a.equals=function(a,b,g){if(null==a||null==b)return a===b;if(!c(a)||!c(b))return!1;if(g)for(var d=0;d<a.length;d++){if(!g(a[d],b[d]))return!1}else for(d=0;d<a.length;d++)if(a[d]!==b[d])return!1;return!0};a.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];
a.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];a.ZERO=[0,0,0,0]})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/wgs84Constants ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ../lib/gl-matrix ./mathUtils".split(" "),function(b,a,r,f,k,n,l,c){function g(b,d,g,h){var m,t;b instanceof f&&d instanceof f&&(g=d.longitude,h=d.latitude,t=b.latitude,m=b.longitude);b=c.deg2rad(t);h=c.deg2rad(h);m=c.deg2rad(m);
d=c.deg2rad(g);g=Math.sin((b-h)/2);m=Math.sin((m-d)/2);g=2*c.asin(Math.sqrt(g*g+Math.cos(b)*Math.cos(h)*m*m))*a.earthRadius;return Math.round(1E4*g)/1E4}function h(b,d,g){b=g/a.earthRadius;d=c.deg2rad(d);b=Math.sin(b/2);d=Math.cos(d);d=2*c.asin(Math.sqrt(b*b/(d*d)));return c.rad2deg(d)}function d(b,d,g){return c.rad2deg(g/a.earthRadius)}function v(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(a,"__esModule",{value:!0});a.earthRadius=r.wgs84Radius;a.halfEarthCircumference=Math.PI*
a.earthRadius;a.earthCircumference=2*a.halfEarthCircumference;a.metersPerDegree=a.halfEarthCircumference/180;var z=new f(0,0,k.WGS84);a.getGreatCircleDistance=g;a.getGreatCircleSpanAt=function(a,b,c){var d=b.spatialReference,m=new f(b.x,a.y,d),h=new f(c.x,a.y,d);b=new f(a.x,b.y,d);a=new f(a.x,c.y,d);return{lon:g(m,h),lat:g(b,a)}};a.getLonDeltaForDistance=h;a.getLatDeltaForDistance=d;a.getLatLonDeltaForDistance=function(a,b,c){return{lat:d(a,b,c),lon:h(a,b,c)}};a.getMaxCameraAltitude=function(b){b=
c.deg2rad(b/2);return(1-Math.sin(b))*a.earthRadius/Math.sin(b)};a.getViewExtentDistance=function(b,d){d=c.deg2rad(d/2);return 2*c.acos((Math.pow(b+a.earthRadius,2)+Math.pow(a.earthRadius,2)-Math.pow((b+a.earthRadius)*Math.cos(d)-Math.sqrt(Math.pow(Math.cos(d)*(b+a.earthRadius),2)-b*b-2*b*a.earthRadius),2))/(2*(b+a.earthRadius)*a.earthRadius))*a.earthRadius};a.computeCarthesianDistance=function(b,d){function g(b){var d=c.deg2rad(b.latitude),g=c.deg2rad(b.longitude),e=Math.cos(d);b=a.earthRadius+(b.z||
0);return[Math.cos(g)*e*b,Math.sin(d)*b,-Math.sin(g)*e*b]}b=g(b);d=g(d);d=[d[0]-b[0],d[1]-b[1],d[2]-b[2]];return Math.sqrt(d[0]*d[0]+d[1]*d[1]+d[2]*d[2])};a.longitudeToTimezone=v;a.positionToTimezone=function(a,b){a.spatialReference.wkid!==k.WGS84.wkid?n.webMercatorToGeographic(a,!1,z):(z.x=a.x,z.y=a.y);z.z=a.z;b||(b={hours:0,minutes:0,seconds:0});b.hours=v(z.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};a.distanceToIdealHorizon=function(b,
c){c=c||a.earthRadius;b=l.vec3d.dot(b,b);return Math.sqrt(Math.abs(b-c*c))}})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../lib/gl-matrix"],function(b,a,r){function f(a){return Math.asin(1<a?1:-1>a?-1:a)}function k(a){return Math.acos(1<a?1:-1>a?-1:a)}function n(a,b,c){return a<b?b:a>c?c:a}function l(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(a,"__esModule",{value:!0});a.deg2rad=function(a){return a*Math.PI/
180};a.rad2deg=function(a){return 180*a/Math.PI};a.asin=f;a.acos=k;a.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};a.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};a.isPowerOfTwo=function(a){return 0===(a&a-1)};a.nextHighestPowerOfTwo=function(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1};a.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};a.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};a.fovy2fovx=function(a,b,c){return 2*
Math.atan(b*Math.tan(.5*a)/c)};a.makeOrthonormal=function(a,b,c){c=c||a;var d=r.vec3d.dot(a,b);r.vec3d.set3(a[0]-d*b[0],a[1]-d*b[1],a[2]-d*b[2],c);r.vec3d.normalize(c)};a.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?r.vec3d.set3(0,1,0,b):r.vec3d.set3(1,0,0,b);r.vec3d.cross(a,b,c);r.vec3d.normalize(b);r.vec3d.cross(c,a,b);r.vec3d.normalize(c)};a.cartesianToSpherical=function(a,b){var c=r.vec3d.length(a),d=f(a[2]/c);r.vec3d.set3(c,d,Math.atan2(a[1]/c,a[0]/c),b)};a.sphericalToCartesian=
function(a,b){var c=a[0],d=a[1];a=a[2];var g=Math.cos(d);r.vec3d.set3(c*g*Math.cos(a),c*g*Math.sin(a),c*Math.sin(d),b)};a.lerp=function(a,b,c){return a+(b-a)*c};a.bilerp=function(a,b,c,d,g,m){a+=(b-a)*g;return a+(c+(d-c)*g-a)*m};a.slerp=function(a,b,c,g){void 0===g&&(g=a);var f=r.vec3d.length(a),m=r.vec3d.length(b),h=r.vec3d.dot(a,b)/(f*m);if(.9999999999999999>h){var h=Math.acos(h),e=((1-c)*f+c*m)/Math.sin(h),m=e/m*Math.sin(c*h);r.vec3d.scale(a,e/f*Math.sin((1-c)*h),d);r.vec3d.scale(b,m,v);return r.vec3d.add(d,
v,g)}return r.vec3d.lerp(a,b,c,g)};a.angle=function(a,b,c){a=r.vec3d.normalize(a,d);b=r.vec3d.normalize(b,v);var g=k(r.vec3d.dot(a,b));return c&&(a=r.vec3d.cross(a,b,h),0>r.vec3d.dot(a,c))?-g:g};a.clamp=n;a.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};a.isNaN=Number.isNaN||function(a){return a!==a};a.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var d=1;c>a[d][0];)d++;
var g=a[d][0];c=(g-c)/(g-a[d-1][0]);return c*a[d-1][1]+(1-c)*a[d][1]}};a.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};a.floatEqualRelative=function(b,c,d){void 0===d&&(d=1E-6);if(a.isNaN(b)||a.isNaN(c))return!1;if(b===c)return!0;var g=Math.abs(b-c),f=Math.abs(b),m=Math.abs(c);if(0===b||0===c||1E-12>f&&1E-12>m){if(g>.01*d)return!1}else if(g/(f+m)>d)return!1;return!0};a.floatEqualAbsolute=function(b,
c,d){void 0===d&&(d=1E-6);return a.isNaN(b)||a.isNaN(c)?!1:(b>c?b-c:c-b)<=d};b=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return n(a-
b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();a.Cyclical=b;a.planeFromPoints=function(a,
b,d,f){r.vec3d.subtract(b,a,c);r.vec3d.subtract(d,a,g);r.vec3d.cross(c,g,f);r.vec3d.normalize(f,f);f[3]=-r.vec3d.dot(a,f)};var c=r.vec3d.create(),g=r.vec3d.create();a.cyclical2PI=l(new b(0,2*Math.PI));a.cyclicalPI=l(new b(-Math.PI,Math.PI));a.cyclicalDeg=l(new b(0,360));var h=r.vec3d.create(),d=r.vec3d.create(),v=r.vec3d.create()})},"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});(function(a){a.length=
function(a,b){var f=a[b],k=a[b+1];a=a[b+2];return Math.sqrt(f*f+k*k+a*a)};a.normalize=function(a,b){var f=a[b],k=a[b+1],c=a[b+2],f=1/Math.sqrt(f*f+k*k+c*c);a[b]*=f;a[b+1]*=f;a[b+2]*=f};a.scale=function(a,b,n){a[b]*=n;a[b+1]*=n;a[b+2]*=n};a.add=function(a,b,n,l,c,g){void 0===g&&(g=b);c=c||a;c[g]=a[b]+n[l];c[g+1]=a[b+1]+n[l+1];c[g+2]=a[b+2]+n[l+2]};a.subtract=function(a,b,n,l,c,g){void 0===g&&(g=b);c=c||a;c[g]=a[b]-n[l];c[g+1]=a[b+1]-n[l+1];c[g+2]=a[b+2]-n[l+2]}})(a.Vec3Compact||(a.Vec3Compact={}))})},
"esri/geometry/support/meshUtils/offset":function(){define(["require","exports","./projection","../../../views/3d/lib/gl-matrix","../../../views/3d/support/projectionUtils"],function(b,a,r,f,k){function n(a,b){if(a)for(var c=0;c<a.length;c+=3)for(var d=0;3>d;d++)a[c+d]+=b[d]}Object.defineProperty(a,"__esModule",{value:!0});a.offset=function(a,b,v){if(a.vertexAttributes&&a.vertexAttributes.position){var d=a.spatialReference;if(d.isWGS84||d.isWebMercator&&(!v||!1!==v.geographic)){v=a.spatialReference;
var d=a.vertexAttributes.position,h=a.vertexAttributes.normal,B=new Float64Array(d.length),A=new Float32Array(h?h.length:0),w=a.extent.center,m=l;k.computeLinearTransformation(v,[w.x,w.y,w.z],c,k.SphericalECEFSpatialReference);f.mat4d.toMat3(c,g);f.mat3d.multiplyVec3(g,b,m);r.projectToECEF(d,v,B);h&&r.projectNormalToECEF(h,d,B,v,A);n(B,m);r.projectFromECEF(B,d,v);h&&r.projectNormalFromECEF(A,d,B,v,h)}else n(a.vertexAttributes.position,b);a.clearCache()}};var l=f.vec3d.create(),c=f.mat4d.create(),
g=f.mat3d.create()})},"esri/geometry/support/meshUtils/primitives":function(){define(["require","exports","./georeference","../../../views/3d/lib/gl-matrix"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});a.createUnitSizeBox=function(){for(var a=n.faceDescriptions,b=n.faceVertexOffsets,c=n.uvScales,f=4*a.length,k=new Float64Array(3*f),t=new Float32Array(3*f),f=new Float32Array(2*f),l=new Uint32Array(6*a.length),A=0,w=0,m=0,y=0,e=0;e<a.length;e++){for(var p=a[e],x=A/3,r=0,G=b;r<
G.length;r++){var C=G[r];l[y++]=x+C}x=p.corners;for(r=0;4>r;r++){G=x[r];C=0;f[m++]=.25*c[r][0]+p.uvOrigin[0];f[m++]=p.uvOrigin[1]-.25*c[r][1];for(var O=0;3>O;O++)0!==p.axis[O]?(k[A++]=.5*p.axis[O],t[w++]=p.axis[O]):(k[A++]=.5*G[C++],t[w++]=0)}}return{position:k,normal:t,uv:f,faces:l}};a.createUnitSizeSphere=function(a){void 0===a&&(a=0);a=Math.round(8*Math.pow(2,a));for(var b=2*a,c=(a-1)*(b+1)+2*b,g=new Float64Array(3*c),f=new Float32Array(3*c),c=new Float32Array(2*c),k=new Uint32Array((a-1)*b*6),
n=0,A=0,w=0,m=0,y=0,e=0;e<=a;e++){var p=e/a*Math.PI+.5*Math.PI,x=Math.cos(p);l[2]=Math.sin(p);for(var r=(p=0===e||e===a)?b-1:b,G=0;G<=r;G++){var C=G/r*2*Math.PI;l[0]=-Math.sin(C)*x;l[1]=Math.cos(C)*x;for(C=0;3>C;C++)g[n++]=.5*l[C],f[A++]=l[C];c[w++]=(G+(p?.5:0))/b;c[w++]=e/a;0!==e&&G!==b&&(e!==a&&(k[m++]=y,k[m++]=y+1,k[m++]=y-b),1!==e&&(k[m++]=y,k[m++]=y-b,k[m++]=y-b-1));y++}}return{position:g,normal:f,uv:c,faces:k}};a.createUnitSizeCylinder=function(a){void 0===a&&(a=0);a=Math.round(16*Math.pow(2,
a));for(var b=4*(a+1)+2*a,c=new Float64Array(3*b),g=new Float32Array(3*b),b=new Float32Array(2*b),f=new Uint32Array(12*a),k=0,n=0,A=0,w=0,m=0,y=0;5>=y;y++)for(var e=0===y||5===y,p=1>=y||4<=y,x=2===y||4===y,r=e?a-1:a,G=0;G<=r;G++){var C=G/r*2*Math.PI,O=e?0:.5;l[0]=O*Math.sin(C);l[1]=O*-Math.cos(C);l[2]=2>=y?.5:-.5;for(C=0;3>C;C++)c[k++]=l[C],p?g[n++]=2===C?1>=y?1:-1:0:g[n++]=2===C?0:l[C]/O;b[A++]=(G+(e?.5:0))/a;1>=y?b[A++]=1*y/3:3>=y?b[A++]=1*(y-2)/3+1/3:b[A++]=1*(y-4)/3+2/3;x||0===y||G===a||(5!==
y&&(f[w++]=m,f[w++]=m+1,f[w++]=m-a),1!==y&&(f[w++]=m,f[w++]=m-a,f[w++]=m-a-1));m++}return{position:c,normal:g,uv:b,faces:f}};a.createUnitSizePlane=function(a){a=k.facingAxisOrderSwap[a];for(var b=k.position,c=k.normal,g=new Float64Array(b.length),f=new Float32Array(c.length),t=0,l=0;4>l;l++)for(var n=t,w=0;3>w;w++){var m=a[w],y=Math.abs(m)-1,m=0<=m?1:-1;g[t]=b[n+y]*m;f[t]=c[n+y]*m;t++}return{position:g,normal:f,uv:new Float32Array(k.uv),faces:new Uint32Array(k.faces)}};var k={position:[-.5,-.5,0,
.5,-.5,0,.5,.5,0,-.5,.5,0],normal:[0,0,1,0,0,1,0,0,1,0,0,1],uv:[0,1,1,1,1,0,0,0],faces:[0,1,2,0,2,3],facingAxisOrderSwap:{east:[3,1,2],west:[-3,-1,2],north:[-1,3,2],south:[1,-3,2],up:[1,2,3],down:[1,-2,-3]}};a.convertUnitGeometry=function(a,b,d){for(var g=0;g<a.position.length;g+=3)a.position[g+2]+=.5;g=d&&d.size;if(null!=g){g="number"===typeof g?[g,g,g]:[null!=g.width?g.width:1,null!=g.depth?g.depth:1,null!=g.height?g.height:1];c[0]=g[0];c[4]=g[1];c[8]=g[2];for(var h=0;h<a.position.length;h+=3){for(var k=
0;3>k;k++)l[k]=a.position[h+k];f.mat3d.multiplyVec3(c,l);for(k=0;3>k;k++)a.position[h+k]=l[k]}if(g[0]!==g[1]||g[1]!==g[2])for(c[0]=1/g[0],c[4]=1/g[1],c[8]=1/g[2],h=0;h<a.normal.length;h+=3){for(k=0;3>k;k++)l[k]=a.normal[h+k];f.mat3d.multiplyVec3(c,l);f.vec3d.normalize(l);for(k=0;3>k;k++)a.normal[h+k]=l[k]}}g=r.georeference(a,b,d);return{vertexAttributes:{position:g.position,normal:g.normal,uv:a.uv},components:[{faces:a.faces,material:d&&d.material||null}],spatialReference:b.spatialReference}};var n=
{faceDescriptions:[{axis:[0,-1,0],uvOrigin:[0,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[1,0,0],uvOrigin:[.25,.625],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,1,0],uvOrigin:[.5,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[-1,0,0],uvOrigin:[.75,.625],corners:[[1,-1],[-1,-1],[-1,1],[1,1]]},{axis:[0,0,1],uvOrigin:[0,.375],corners:[[-1,-1],[1,-1],[1,1],[-1,1]]},{axis:[0,0,-1],uvOrigin:[0,.875],corners:[[-1,1],[1,1],[1,-1],[-1,-1]]}],uvScales:[[0,0],[1,0],[1,1],[0,1]],faceVertexOffsets:[0,
1,2,0,2,3]};a.boxFaceOrder={south:0,east:1,north:2,west:3,up:4,down:5};var l=f.vec3d.create(),c=f.mat3d.identity()})},"esri/geometry/support/meshUtils/georeference":function(){define(["require","exports","../../../views/3d/lib/gl-matrix","../../../views/3d/support/projectionUtils"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});a.georeference=function(a,b,g){var c=b.spatialReference;if(c.isWGS84||c.isWebMercator&&(!g||!1!==g.geographic)){g=b.spatialReference;f.computeLinearTransformation(b.spatialReference,
[b.x,b.y,b.z||0],k,f.SphericalECEFSpatialReference);var c=a.position,d=k,l=b.spatialReference,z=new Float64Array(c.length);for(b=0;b<c.length;b+=3){for(var t=0;3>t;t++)n[t]=c[b+t];r.mat4d.multiplyVec3(d,n);for(t=0;3>t;t++)z[b+t]=n[t]}b=new Float64Array(c.length);f.bufferToBuffer(z,f.SphericalECEFSpatialReference,0,b,l,0,z.length/3);a=a.normal;if(g.isWebMercator&&a){g=new Float32Array(a.length);for(c=0;c<a.length;c+=3)for(d=f.webMercator.y2lat(b[c+1]),d=Math.cos(d),n[0]=a[c+0]*d,n[1]=a[c+1]*d,n[2]=
a[c+2],r.vec3d.normalize(n),d=0;3>d;d++)g[c+d]=n[d];a=g}a={position:b,normal:a}}else{g=new Float64Array(a.position.length);c=a.position;for(d=0;d<c.length;d+=3)g[d+0]=c[d+0]+b.x,g[d+1]=c[d+1]+b.y,g[d+2]=c[d+2]+(b.z||0);a={position:g,normal:a.normal}}return a};var k=r.mat4d.create(),n=r.vec3d.create()})},"esri/geometry/support/meshUtils/rotate":function(){define("require exports ../../../core/Logger ./projection ../../../views/3d/lib/gl-matrix ../../../views/3d/support/projectionUtils".split(" "),
function(b,a,r,f,k,n){function l(a,b,c){void 0===c&&(c=B);if(a)for(k.mat4d.identity(z),k.mat4d.rotate(z,b[3],b),b=0;b<a.length;b+=3){for(var e=0;3>e;e++)g[e]=a[b+e]-c[e];k.mat4d.multiplyVec3(z,g);for(e=0;3>e;e++)a[b+e]=g[e]+c[e]}}Object.defineProperty(a,"__esModule",{value:!0});var c=r.getLogger("esri.geometry.support.meshUtils.rotate");a.rotate=function(a,b,d){if(a.vertexAttributes&&a.vertexAttributes.position&&0!==b[3]){var e=a.spatialReference,m=d&&d.origin||a.extent.center;if(e.isWGS84||e.isWebMercator&&
(!d||!1!==d.geographic)){d=a.spatialReference;e=A;n.pointToVector(m,e,n.SphericalECEFSpatialReference)||n.pointToVector(a.extent.center,e,n.SphericalECEFSpatialReference);var m=a.vertexAttributes.position,g=a.vertexAttributes.normal,y=new Float64Array(m.length),v=new Float32Array(g?g.length:0);n.computeLinearTransformation(n.SphericalECEFSpatialReference,e,z,n.SphericalECEFSpatialReference);k.mat4d.toMat3(z,t);var w=k.mat3d.multiplyVec3(t,b,h);w[3]=b[3];f.projectToECEF(m,d,y);g&&f.projectNormalToECEF(g,
m,y,d,v);l(y,w,e);f.projectFromECEF(y,m,d);g&&(l(v,w),f.projectNormalFromECEF(v,m,y,d,g))}else d=A,n.pointToVector(m,d,a.spatialReference)||(e=a.extent.center,d[0]=e.x,d[1]=e.y,d[2]=e.z,c.error("Failed to project specified origin (wkid:"+m.spatialReference.wkid+") to mesh spatial reference (wkid:"+a.spatialReference.wkid+"). Using mesh extent.center instead")),l(a.vertexAttributes.position,b,d),l(a.vertexAttributes.normal,b);a.clearCache()}};a.axisAngleFrom=function(a,b,c){k.vec3d.set(a,c);c[3]=b;
return c};a.axisAngleMultiply=function(a,b,c){k.quat4d.fromAngleAxis(a[3],a,d);k.quat4d.fromAngleAxis(b[3],b,v);k.quat4d.multiply(v,d,d);k.quat4d.toAngleAxis(d,c);return c};var g=k.vec3d.create(),h=k.vec4d.create(),d=k.quat4d.create(),v=k.quat4d.create(),z=k.mat4d.create(),t=k.mat3d.create(),B=[0,0,0],A=[0,0,0]})},"esri/geometry/Multipoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./support/zmUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h){function d(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.points=[];b.type="multipoint";return b}r(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b){if(!a&&!b)return null;var c={};Array.isArray(a)?(c.points=a,c.spatialReference=b):!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?(a.points&&(c.points=a.points),a.spatialReference&&(c.spatialReference=
a.spatialReference),a.hasZ&&(c.hasZ=a.hasZ),a.hasM&&(c.hasM=a.hasM)):c.spatialReference=a;if(a=c.points&&c.points[0])void 0===c.hasZ&&void 0===c.hasM?(c.hasZ=2<a.length,c.hasM=!1):void 0===c.hasZ?c.hasZ=3<a.length:void 0===c.hasM&&(c.hasM=3<a.length);return c};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.points;if(!a.length)return null;for(var b=new l,c=this.hasZ,m=this.hasM,g=c?3:2,e=a[0],f=d(Math.min),h=d(Math.max),k=e[0],t=e[1],n=e[0],e=e[1],v,z,r,da,ga=0,T=a.length;ga<
T;ga++){var M=a[ga],la=M[0],Y=M[1],k=f(k,la),t=f(t,Y),n=h(n,la),e=h(e,Y);c&&2<M.length&&(la=M[2],v=f(v,la),r=h(r,la));m&&M.length>g&&(M=M[g],z=f(z,M),da=h(da,M))}b.xmin=k;b.ymin=t;b.xmax=n;b.ymax=e;b.spatialReference=this.spatialReference;c?(b.zmin=v,b.zmax=r):(b.zmin=null,b.zmax=null);m?(b.mmin=z,b.mmax=da):(b.mmin=null,b.mmax=null);return b},enumerable:!0,configurable:!0});b.prototype.writePoints=function(a,b,c,d){b.points=k.clone(this.points)};b.prototype.addPoint=function(a){this.clearCache();
h.updateSupportFromPoint(this,a);Array.isArray(a)?this.points.push(a):this.points.push(a.toArray());return this};b.prototype.clone=function(){var a={points:k.clone(this.points),spatialReference:this.spatialReference};this.hasZ&&(a.hasZ=!0);this.hasM&&(a.hasM=!0);return new c(a)};b.prototype.getPoint=function(a){if(!this._validateInputs(a))return null;a=this.points[a];var b={x:a[0],y:a[1],spatialReference:this.spatialReference},c=2;this.hasZ&&(b.z=a[2],c=3);this.hasM&&(b.m=a[c]);return new g(b)};b.prototype.removePoint=
function(a){if(!this._validateInputs(a))return null;this.clearCache();return new g(this.points.splice(a,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b){if(!this._validateInputs(a))return this;this.clearCache();h.updateSupportFromPoint(b);this.points[a]=b.toArray();return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._validateInputs=function(a){return null!=a&&0<=a&&a<this.points.length};var c;f([n.property({dependsOn:["points","hasZ","hasM","spatialReference"]})],
b.prototype,"cache",void 0);f([n.property({dependsOn:["cache"]})],b.prototype,"extent",null);f([n.property({type:[[Number]],json:{write:{isRequired:!0}}})],b.prototype,"points",void 0);f([n.writer("points")],b.prototype,"writePoints",null);return b=c=f([n.subclass("esri.geometry.Multipoint")],b)}(n.declared(c));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/zmUtils":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.updateSupportFromPoint=
function(a,b,k){void 0===k&&(k=!1);var f=a.hasM,l=a.hasZ;Array.isArray(b)?4!==b.length||f||l?3===b.length&&k&&!f?(l=!0,f=!1):3===b.length&&f&&l&&(l=f=!1):l=f=!0:(l=!l&&b.hasZ&&(!f||b.hasM),f=!f&&b.hasM&&(!l||b.hasZ));a.hasZ=l;a.hasM=f}})},"esri/geometry/Polygon":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/centroid ./support/contains ./support/coordsUtils ./support/intersects ./support/webMercatorUtils ./support/zmUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A){function w(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}var m=w(Math.min),y=w(Math.max);b=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.rings=[];b.type="polygon";return b}r(b,a);c=b;b.createEllipse=function(a){var b=a.center.x,e=a.center.y,d=a.center.z,m=a.center.m,g=a.center.hasZ,f=a.center.hasM,h=a.longAxis,p=a.shortAxis,k=a.numberOfPoints;a=a.view;for(var t=[],l=2*Math.PI/k,n=g?3:2,y=0;y<k;y++){var v=
a.toMap(h*Math.cos(y*l)+b,p*Math.sin(y*l)+e),v=[v.x,v.y];g&&(v[2]=d);f&&(v[n]=m);t.push(v)}t.push(t[0]);return new c({rings:[t],spatialReference:a.spatialReference})};b.createCircle=function(a){return c.createEllipse({center:a.center,longAxis:a.r,shortAxis:a.r,numberOfPoints:a.numberOfPoints,view:a.view})};b.fromExtent=function(a){var b=a.clone().normalize();a=a.spatialReference;var e=!1,d=!1;b.map(function(a){a.hasZ&&(e=!0);a.hasM&&(d=!0)});b={rings:b.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,
a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(e&&a.hasZ)for(var c=a.zmin+.5*(a.zmax-a.zmin),m=0;m<b.length;m++)b[m].push(c);if(d&&a.hasM)for(a=a.mmin+.5*(a.mmax-a.mmin),m=0;m<b.length;m++)b[m].push(a);return b}),spatialReference:a};e&&(b.hasZ=!0);d&&(b.hasM=!0);return new c(b)};b.prototype.normalizeCtorArgs=function(a,b){var c=null,e,d,m=null;a&&!Array.isArray(a)?(c=a.rings?a.rings:null,b||(a.spatialReference?b=a.spatialReference:a.rings||(b=a)),e=a.hasZ,d=a.hasM):c=a;c=c||[];b=b||h.WGS84;
c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(m=c[0]&&c[0][0])void 0===e&&void 0===d?(e=2<m.length,d=!1):void 0===e?e=!d&&3<m.length:void 0===d&&(d=!e&&3<m.length);return{rings:c,spatialReference:b,hasZ:e,hasM:d}};Object.defineProperty(b.prototype,"centroid",{get:function(){var a=d.polygonCentroid(this);if(!a||isNaN(a[0])||isNaN(a[1])||this.hasZ&&isNaN(a[2]))return null;var b=new g;b.x=a[0];b.y=a[1];b.spatialReference=this.spatialReference;this.hasZ&&(b.z=a[2]);return b},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,c=this.spatialReference,e=this.rings,d=a?3:2;if(!e.length||!e[0].length)return null;for(var g=e[0][0],f=g[0],g=g[1],h=e[0][0],p=h[0],h=h[1],k=void 0,t=void 0,n=void 0,v=void 0,w=[],x=0;x<e.length;x++){for(var z=e[x],A=z[0],B=A[0],A=A[1],r=z[0],ba=r[0],r=r[1],Q=void 0,V=void 0,na=void 0,pa=void 0,ha=0;ha<z.length;ha++){var Aa=z[ha],ia=Aa[0],xa=Aa[1],f=m(f,ia),g=m(g,xa),p=y(p,ia),h=y(h,xa),B=m(B,
ia),A=m(A,xa),ba=y(ba,ia),r=y(r,xa);a&&2<Aa.length&&(ia=Aa[2],k=m(k,ia),t=y(t,ia),Q=m(Q,ia),V=y(V,ia));b&&Aa.length>d&&(pa=Aa[d],n=m(k,pa),v=y(t,pa),na=m(Q,pa),pa=y(V,pa))}w.push(new l({xmin:B,ymin:A,zmin:Q,mmin:na,xmax:ba,ymax:r,zmax:V,mmax:pa,spatialReference:c}))}e=new l;e.xmin=f;e.ymin=g;e.xmax=p;e.ymax=h;e.spatialReference=c;a&&(e.zmin=k,e.zmax=t);b&&(e.mmin=n,e.mmax=v);e.cache._partwise=1<w.length?w:null;return e},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isSelfIntersecting",
{get:function(){return t.isSelfIntersecting(this.rings)},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,e){b.rings=k.clone(this.rings)};b.prototype.addRing=function(a){if(a){this.clearCache();var b=this.rings,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var e=[],d=0,m=a.length;d<m;d++)e[d]=a[d].toArray();b[c]=e}return this}};b.prototype.clone=function(){var a=new c;a.spatialReference=this.spatialReference;a.rings=k.clone(this.rings);a.hasZ=this.hasZ;a.hasM=this.hasM;
return a};b.prototype.contains=function(a){if(!a)return!1;B.canProject(a,this.spatialReference)&&(a=B.project(a,this.spatialReference));return v.polygonContainsPoint(this,a)};b.prototype.isClockwise=function(a){var b=this;a=Array.isArray(a[0])?a:a.map(function(a){return b.hasZ?b.hasM?[a.x,a.y,a.z,a.m]:[a.x,a.y,a.z]:[a.x,a.y]});return z.isClockwise(a,this.hasM,this.hasZ)};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.rings[a][b];b=this.hasZ;var c=this.hasM;return b&&
!c?new g(a[0],a[1],a[2],void 0,this.spatialReference):c&&!b?new g(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new g(a[0],a[1],a[2],a[3],this.spatialReference):new g(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();A.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a].splice(b,0,c);return this};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();
return new g(this.rings[a].splice(b,1)[0],this.spatialReference)};b.prototype.removeRing=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=this.rings.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new g(a,b)})};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();A.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.rings[a][b]=c;return this};b.prototype._validateInputs=function(a,
b,c){void 0===c&&(c=!1);return null==a||0>a||a>=this.rings.length||null!=b&&(a=this.rings[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var c;f([n.property({dependsOn:["hasM","hasZ","rings"]})],b.prototype,"cache",void 0);f([n.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"centroid",null);f([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);f([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,
"isSelfIntersecting",null);f([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"rings",void 0);f([n.writer("rings")],b.prototype,"writePaths",null);return b=c=f([n.subclass("esri.geometry.Polygon")],b)}(n.declared(c));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/support/centroid":function(){define(["require","exports","./coordsUtils"],function(b,a,r){function f(a,b){if(!a||!a.length)return null;for(var c=[],f=[],d=b?[Infinity,-Infinity,Infinity,-Infinity,
Infinity,-Infinity]:[Infinity,-Infinity,Infinity,-Infinity],l=0,z=a.length;l<z;l++){var t=k(a[l],b,d);t&&f.push(t)}f.sort(function(a,c){var d=a[2]-c[2];0===d&&b&&(d=a[4]-c[4]);return d});f.length&&(l=6*f[0][2],c[0]=f[0][0]/l,c[1]=f[0][1]/l,b&&(l=6*f[0][4],c[2]=0!==l?f[0][3]/l:0),c[0]<d[0]||c[0]>d[1]||c[1]<d[2]||c[1]>d[3]||b&&(c[2]<d[4]||c[2]>d[5]))&&(c.length=0);if(!c.length)if(a=a[0]&&a[0].length?n(a[0],b):null)c[0]=a[0],c[1]=a[1],b&&2<a.length&&(c[2]=a[2]);else return null;return c}function k(a,
b,g){for(var c=0,d=0,f=0,k=0,t=0,l=0,n=a.length-1;l<n;l++){var w=a[l],m=w[0],y=w[1],e=w[2],p=a[l+1],x=p[0],r=p[1],G=p[2],C=m*r-x*y,k=k+C,c=c+(m+x)*C,d=d+(y+r)*C;b&&2<w.length&&2<p.length&&(C=m*G-x*e,f+=(e+G)*C,t+=C);m<g[0]&&(g[0]=m);m>g[1]&&(g[1]=m);y<g[2]&&(g[2]=y);y>g[3]&&(g[3]=y);b&&(e<g[4]&&(g[4]=e),e>g[5]&&(g[5]=e))}0<k&&(k*=-1);0<t&&(t*=-1);if(!k)return null;a=[c,d,.5*k];b&&(a[3]=f,a[4]=.5*t);return a}function n(a,b){for(var c=b?[0,0,0]:[0,0],f=b?[0,0,0]:[0,0],d=0,k=0,l=0,t=0,n=0,A=a.length;n<
A-1;n++){var w=a[n],m=a[n+1];if(w&&m){c[0]=w[0];c[1]=w[1];f[0]=m[0];f[1]=m[1];b&&2<w.length&&2<m.length&&(c[2]=w[2],f[2]=m[2]);var y=r.getLength(c,f);y&&(d+=y,w=r.getMidpoint(w,m),k+=y*w[0],l+=y*w[1],b&&2<w.length&&(t+=y*w[2]))}}return 0<d?b?[k/d,l/d,t/d]:[k/d,l/d]:a.length?a[0]:null}Object.defineProperty(a,"__esModule",{value:!0});a.extentCentroid=function(a){return a?a.hasZ?[a.xmax-a.xmin/2,a.ymax-a.ymin/2,a.zmax-a.zmin/2]:[a.xmax-a.xmin/2,a.ymax-a.ymin/2]:null};a.polygonCentroid=function(a){return a?
f(a.rings,a.hasZ):null};a.ringsCentroid=f;a.lineCentroid=n})},"esri/geometry/Polyline":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Extent ./Geometry ./Point ./SpatialReference ./support/zmUtils".split(" "),function(b,a,r,f,k,n,l,c,g,h,d){function v(a){return function(b,c){return null==b?c:null==c?b:a(b,c)}}var z=v(Math.min),t=v(Math.max);b=function(a){function b(){for(var b=0;b<arguments.length;b++);
b=a.call(this)||this;b.paths=[];b.type="polyline";return b}r(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b){var c=null,d,m,g=null;a&&!Array.isArray(a)?(c=a.paths?a.paths:null,b||(a.spatialReference?b=a.spatialReference:a.paths||(b=a)),d=a.hasZ,m=a.hasM):c=a;c=c||[];b=b||h.WGS84;c.length&&c[0]&&null!=c[0][0]&&"number"===typeof c[0][0]&&(c=[c]);if(g=c[0]&&c[0][0])void 0===d&&void 0===m?(d=2<g.length,m=!1):void 0===d?d=!m&&3<g.length:void 0===m&&(m=!d&&3<g.length);return{paths:c,spatialReference:b,
hasZ:d,hasM:m}};Object.defineProperty(b.prototype,"extent",{get:function(){var a=this.hasZ,b=this.hasM,c=this.spatialReference,d=this.paths,g=a?3:2;if(!d.length||!d[0].length)return null;for(var f=d[0][0],h=f[0],f=f[1],k=d[0][0],n=k[0],k=k[1],v=void 0,w=void 0,A=void 0,B=void 0,r=[],M=0;M<d.length;M++){for(var la=d[M],Y=la[0],ma=Y[0],Y=Y[1],U=la[0],H=U[0],U=U[1],X=void 0,J=void 0,Z=void 0,W=void 0,ba=0;ba<la.length;ba++){var Q=la[ba],V=Q[0],na=Q[1],h=z(h,V),f=z(f,na),n=t(n,V),k=t(k,na),ma=z(ma,V),
Y=z(Y,na),H=t(H,V),U=t(U,na);a&&2<Q.length&&(V=Q[2],v=z(v,V),w=t(w,V),X=z(X,V),J=t(J,V));b&&Q.length>g&&(W=Q[g],A=z(v,W),B=t(w,W),Z=z(X,W),W=t(J,W))}r.push(new l({xmin:ma,ymin:Y,zmin:X,mmin:Z,xmax:H,ymax:U,zmax:J,mmax:W,spatialReference:c}))}d=new l;d.xmin=h;d.ymin=f;d.xmax=n;d.ymax=k;d.spatialReference=c;a&&(d.zmin=v,d.zmax=w);b&&(d.mmin=A,d.mmax=B);d.cache._partwise=1<r.length?r:null;return d},enumerable:!0,configurable:!0});b.prototype.writePaths=function(a,b,c,d){b.paths=k.clone(this.paths)};
b.prototype.addPath=function(a){if(a){this.clearCache();var b=this.paths,c=b.length;if(Array.isArray(a[0]))b[c]=a.concat();else{for(var d=[],m=0,g=a.length;m<g;m++)d[m]=a[m].toArray();b[c]=d}return this}};b.prototype.clone=function(){var a=new c;a.spatialReference=this.spatialReference;a.paths=k.clone(this.paths);a.hasZ=this.hasZ;a.hasM=this.hasM;return a};b.prototype.getPoint=function(a,b){if(!this._validateInputs(a,b))return null;a=this.paths[a][b];b=this.hasZ;var c=this.hasM;return b&&!c?new g(a[0],
a[1],a[2],void 0,this.spatialReference):c&&!b?new g(a[0],a[1],void 0,a[2],this.spatialReference):b&&c?new g(a[0],a[1],a[2],a[3],this.spatialReference):new g(a[0],a[1],this.spatialReference)};b.prototype.insertPoint=function(a,b,c){if(!this._validateInputs(a,b,!0))return this;this.clearCache();d.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a].splice(b,0,c);return this};b.prototype.removePath=function(a){if(!this._validateInputs(a,null))return null;this.clearCache();a=
this.paths.splice(a,1)[0];var b=this.spatialReference;return a.map(function(a){return new g(a,b)})};b.prototype.removePoint=function(a,b){if(!this._validateInputs(a,b))return null;this.clearCache();return new g(this.paths[a].splice(b,1)[0],this.spatialReference)};b.prototype.setPoint=function(a,b,c){if(!this._validateInputs(a,b))return this;this.clearCache();d.updateSupportFromPoint(this,c);Array.isArray(c)||(c=c.toArray());this.paths[a][b]=c;return this};b.prototype._validateInputs=function(a,b,
c){void 0===c&&(c=!1);return null==a||0>a||a>=this.paths.length||null!=b&&(a=this.paths[a],c&&(0>b||b>a.length)||!c&&(0>b||b>=a.length))?!1:!0};b.prototype.toJSON=function(a){return this.write(null,a)};var c;f([n.property({dependsOn:["hasM","hasZ","paths"]})],b.prototype,"cache",void 0);f([n.property({dependsOn:["cache"],readOnly:!0})],b.prototype,"extent",null);f([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],b.prototype,"paths",void 0);f([n.writer("paths")],b.prototype,"writePaths",
null);return b=c=f([n.subclass("esri.geometry.Polyline")],b)}(n.declared(c));b.prototype.toJSON.isDefaultToJSON=!0;return b})},"esri/geometry/ScreenPoint":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(b,a,r,f,k,n){return function(a){function b(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];b=a.apply(this,b)||this;b.x=0;b.y=0;b.z=void 0;return b}r(b,a);
g=b;b.prototype.normalizeCtorArgs=function(a,b){return"number"===typeof a?{x:a,y:b}:Array.isArray(a)?{x:a[0],y:a[1]}:a};b.prototype.clone=function(){return new g({x:this.x,y:this.y,z:this.z})};b.prototype.toArray=function(){return null==this.z?[this.x,this.y]:[this.x,this.y,this.z]};var g;f([n.property({type:Number})],b.prototype,"x",void 0);f([n.property({type:Number})],b.prototype,"y",void 0);f([n.property({type:Number})],b.prototype,"z",void 0);return b=g=f([n.subclass("esri.geometry.ScreenPoint")],
b)}(n.declared(k))})},"esri/geometry/support/jsonUtils":function(){define("require exports ../Extent ../Mesh ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(b,a,r,f,k,n,l,c){function g(a){return void 0!==a.xmin&&void 0!==a.ymin&&void 0!==a.xmax&&void 0!==a.ymax}function h(a){return void 0!==a.points}function d(a){return void 0!==a.x&&void 0!==a.y}function v(a){return void 0!==a.paths}function z(a){return void 0!==a.rings}function t(a){return void 0!==a.vertexAttributes}function B(a){if(a){if(d(a))return n.fromJSON(a);
if(v(a))return c.fromJSON(a);if(z(a))return l.fromJSON(a);if(h(a))return k.fromJSON(a);if(g(a))return r.fromJSON(a);if(t(a))return f.fromJSON(a)}return null}Object.defineProperty(a,"__esModule",{value:!0});a.fromJson=function(a){try{throw Error("fromJson is deprecated, use fromJSON instead");}catch(m){console.warn(m.stack)}return B(a)};a.isMultipoint=h;a.isPoint=d;a.isPolyline=v;a.isPolygon=z;a.isMesh=t;a.fromJSON=B;a.getJsonType=function(a){if(a){if(d(a))return"esriGeometryPoint";if(v(a))return"esriGeometryPolyline";
if(z(a))return"esriGeometryPolygon";if(g(a))return"esriGeometryEnvelope";if(h(a))return"esriGeometryMultipoint"}return null};var A={esriGeometryPoint:n,esriGeometryPolyline:c,esriGeometryPolygon:l,esriGeometryEnvelope:r,esriGeometryMultipoint:k};a.getGeometryType=function(a){return a&&A[a]||null}})},"esri/request":function(){define("require exports ./core/tsSupport/assignHelper dojo/Deferred dojo/has!host-webworker?./core/workers/request dojo/io-query dojo/_base/url dojo/errors/CancelError dojo/request/xhr ./config ./core/deferredUtils ./core/Error ./core/global ./core/has ./core/lang ./core/promiseUtils ./core/urlUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w){function m(a,b){void 0===b&&(b=!1);w.isBlobProtocol(a.url)||w.isDataProtocol(a.url)||!a.content||(a.preventCache&&(a.content["request.preventCache"]=Date.now()),a.url=w.addQueryParameters(a.url,a.content));var c=new Image;c.crossOrigin=a.withCredentials?"use-credentials":"anonymous";var d=!1,e=new f(function(){d=!0;c.onload=c.onerror=c.onabort=null;c.src=""}),g=function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);d||e.reject(Error("Unable to load the resource"))};
c.onload=function(){c.onload=c.onerror=c.onabort=null;b&&URL.revokeObjectURL(this.src);d||e.resolve(this)};c.onerror=g;c.onabort=g;c.alt="";c.src=a.url;return e.promise}function y(a){a=new l(a);return(a.host+(a.port?":"+a.port:"")).toLowerCase()}function e(){return M?M:M=A.create(function(a){b(["./identity/IdentityManager"],a)}).then(function(a){T=a})}function p(a,b){var c=!!a.useProxy,d=a.method||"auto";a=r({},a);a.content=a.content||{};a._ssl&&(a.url=a.url.replace(/^http:/i,"https:"));var e=a.url,
h=w.isBlobProtocol(e)||w.isDataProtocol(e);a._token&&(a.content.token=a._token);var k=0,p;h||(p=n.objectToQuery(a.content),k=p.length+e.length+1,t("esri-url-encodes-apostrophe")&&(k=p.replace(/'/g,"%27").length+e.length+1));a.timeout=null!=a.timeout?a.timeout:E.timeout;a.handleAs=a.handleAs||"json";try{var l=p=void 0,v=!h&&("post"===d||!!a.body||k>E.maxUrlLength),y=!h&&(c||!!w.getProxyRule(a.url)),x;if(x=!y&&"image"===a.handleAs&&E.proxyUrl&&!h){var z=w.getOrigin(a.url);x=!(!z||B.endsWith(z,".arcgis.com")||
w.hasSameOrigin(z,w.appUrl)||-1!==O._corsServers.indexOf(z)||w.isTrustedServer(z))}x&&(a.handleAs="blob");y&&(t("host-browser")||t("host-webworker"))&&(p=w.getProxyUrl(e),l=p.path,!v&&l.length+1+k>E.maxUrlLength&&(v=!0),p.query&&(a.content=r({},p.query,a.content)),v||(a.preventCache&&(a.content["request.preventCache"]=Date.now(),a.preventCache=!1),a.url=w.addQueryParameters(a.url,a.content),a.content=null),a.url=l+"?"+a.url);if(!h){var A=a.headers;!t("host-browser")&&!t("host-webworker")||A&&A.hasOwnProperty("X-Requested-With")||
(A=a.headers=A||{},A["X-Requested-With"]=null);if(t("host-browser")&&b){var C=a.content&&a.content.token;C&&(b.set?b.set("token",C):b.append("token",C));a.contentType=!1}if(!a.hasOwnProperty("withCredentials"))if(c=y?l:e,w.isTrustedServer(c))a.withCredentials=!0;else if(T){var F=T.findServerInfo(c);F&&F.webTierAuth&&(a.withCredentials=!0)}}if(v)return"image"===a.handleAs&&(a.handleAs="blob"),a.body?(a.data=b||a.body,a.query=a.content):a.data=a.content,delete a.body,delete a.content,!y&&t("safari")&&
(a.url+=(-1===a.url.indexOf("?")?"?":"\x26")+"_ts\x3d"+(new Date).getTime()+da++),g.post(a.url,a);if("image"===a.handleAs)return m(a);a.query=a.content;delete a.content;return g.get(a.url,a)}catch(ia){return a=new f,a.reject(ia),a.promise}}function x(a,b,c,e){function d(a){a._pendingDfd=p(c,t);var b=!!a._pendingDfd.response;(a._pendingDfd.response||a._pendingDfd).then(function(a){if(!b||!a.data)return a;E.proxyUrl&&!B.startsWith(a.url,E.proxyUrl)&&C(a.url);var c=a.getHeader("Content-Type");if(c&&
(c=c.toLowerCase(),-1===c.indexOf("text/plain")&&-1===c.indexOf("application/json")))return a;c=a.data;if(c instanceof ArrayBuffer&&750>=c.byteLength)c=new Blob([c]);else if(!(c instanceof Blob&&750>=c.size))return a;var e=new f,d=new FileReader;d.readAsText(c);d.onloadend=function(){if(!d.error)try{var b=JSON.parse(d.result);b.error&&(Object.isExtensible(a)||(a=r({},a)),a._jsonData=b)}catch(Oa){}e.resolve(a)};return e.promise}).then(function(a){return b&&!a._jsonData&&"image"===e.requestOptions.responseType&&
a.data instanceof Blob?(b=!1,c.url=URL.createObjectURL(a.data),m(c,!0)):a}).then(function(c){var d=b?c.data:c,g=b?c.getHeader.bind(c):ga;if(d&&(c=b&&c._jsonData||d,c.error||"error"===c.status))throw d=B.mixin(Error(),c.error||c),d.getHeader=g,d;a.resolve({data:d,url:e.url,requestOptions:e.requestOptions,getHeader:g});a._pendingDfd=null}).catch(function(b){var d,m,f,k;b&&(d=Number(b.code),m=b.hasOwnProperty("subcode")?Number(b.subcode):null,f=(f=b.messageCode)&&f.toUpperCase(),k=b.response);if(k&&
0===k.status&&E.proxyUrl&&!g&&"post"!==c.method&&k.url&&!B.startsWith(k.url,E.proxyUrl))w.addProxyRule({proxyUrl:E.proxyUrl,urlPrefix:w.removeFile(w.urlToObject(c.url).path)}),x(a,!0,c,e);else{if(403===d&&(4===m||b.message&&-1<b.message.toLowerCase().indexOf("ssl")&&-1===b.message.toLowerCase().indexOf("permission"))){if(!c._ssl){c._ssl=c._sslFromServer=!0;x(a,!0,c,e);return}}else if(h&&"no-prompt"!==c.authMode&&T._errorCodes&&-1!==T._errorCodes.indexOf(d)&&!T._isPublic(c.url)&&(403!==d||P&&-1===
P.indexOf(f)&&(null==m||2===m&&c._token))){F(a,c,e,G("request:server",b,e));return}k&&0<k.status&&k.url&&E.proxyUrl&&!B.startsWith(k.url,E.proxyUrl)&&C(k.url);a.reject(G("request:server",b,e));a._pendingDfd=null}})}var g=c.body,h=c.useIdentity,k,t=null,l=g instanceof FormData;if(l||g&&g.elements)t=l?g:new FormData(g);var n=!!(-1!==c.url.toLowerCase().indexOf("token\x3d")||c.content&&c.content.token||t&&t.get&&t.get("token")||g&&g.elements&&g.elements.token);b||(!h||n||c._token||T._isPublic(c.url)||
(b=function(a){a&&(c._token=a.token,c._ssl=a.ssl)},"immediate"===c.authMode?k=T.getCredential(c.url).then(b):"no-prompt"===c.authMode?k=T.checkSignInStatus(c.url).then(b).catch(function(){}):b(T.findCredential(c.url))),a.then(function(a){(/\/sharing\/rest\/accounts\/self/i.test(c.url)||/\/sharing\/rest\/portals\/self/i.test(c.url))&&!n&&!c._token&&a.user&&a.user.username&&(w.isTrustedServer(c.url)||E.trustedServers.push(y(c.url)));var b=c._credential;if(b){var d=T.findServerInfo(b.server),d=d&&d.owningSystemUrl,
e=void 0;d&&(d=d.replace(/\/?$/,"/sharing"),(e=T.findCredential(d,b.userId))&&-1===T._getIdenticalSvcIdx(d,e)&&e.resources.splice(0,0,d))}return a}).always(function(a){delete c._credential;if(a){var b=!!c._ssl;a instanceof v?a.details.ssl=b:a.ssl=b}}));k?k.then(function(){a.isCanceled()||d(a)}).catch(function(b){a.reject(b)}):d(a);return a.promise}function F(a,b,c,d){a._pendingDfd=T.getCredential(b.url,{error:d,token:b._token});a._pendingDfd.then(function(d){b._token=d.token;b._credential=d;b._ssl=
b._sslFromServer||d.ssl;x(a,!0,b,c)}).catch(function(b){a.reject(b);a._pendingDfd=null})}function G(a,b,c){var d="Error",e={url:c.url,requestOptions:c.requestOptions,getHeader:ga};if(b instanceof v)return b.details?(b.details=B.clone(b.details),b.details.url=c.url,b.details.requestOptions=c.requestOptions):b.details=e,b;if(b){var g=b.response;c=g&&g.getHeader;var g=g&&g.status,m=b.message;c=b.getHeader||c;m&&(d=m);c&&(e.getHeader=c);e.httpStatus=(null!=b.httpCode?b.httpCode:b.code)||g;e.subCode=b.subcode;
e.messageCode=b.messageCode;e.messages="string"===typeof b.details?[b.details]:b.details}a=new v(a,d,e);b&&"cancel"===b.dojoType&&(a.name="AbortError",a.dojoType="cancel");return a}function C(a){w.isBlobProtocol(a)||w.isDataProtocol(a)||(a=w.getOrigin(a))&&-1===O._corsServers.indexOf(a)&&O._corsServers.push(a)}function O(a,b){if(k&&z.invokeStaticMessage)return k.execute(a,b);w.isBlobProtocol(a)||w.isDataProtocol(a)||(a=w.normalize(a));var g={url:a,requestOptions:r({},b)},m=w.getInterceptor(a);if(m){if(null!=
m.responseData)return A.resolve({data:m.responseData,requestOptions:g.requestOptions,getHeader:ga,url:a});m.headers&&(g.requestOptions.headers=r({},g.requestOptions.headers,m.headers));m.query&&(g.requestOptions.query=r({},g.requestOptions.query,m.query));if(m.before&&(b=m.before(g),null!=b))return b instanceof Error||b instanceof v?A.reject(G("request:interceptor",b,g)):A.resolve({data:b,requestOptions:g.requestOptions,getHeader:ga,url:g.url})}var f=r({url:g.url},g.requestOptions);f.content=f.query;
delete f.query;f.preventCache=!!f.cacheBust;delete f.cacheBust;f.handleAs=f.responseType;delete f.responseType;"array-buffer"===f.handleAs&&(f.handleAs="arraybuffer");if("image"===f.handleAs){if(t("host-webworker"))return A.reject(G("request:invalid-parameters",Error("responseType 'image' is not supported in Web Workers or Node environment"),g))}else if(w.isDataProtocol(a))return A.reject(G("request:invalid-parameters",Error("Data URLs are not supported for responseType \x3d "+f.handleAs),g));var h=
E.useIdentity;"anonymous"===f.authMode&&(h=!1);f.useIdentity=h;f.urlObj=new l(f.url);var p=d.makeDeferredCancellingPending(),n;g.requestOptions.signal&&(a=g.requestOptions.signal,n=function(){p.cancel(G("AbortError",new c("Request canceled"),g))},a.aborted?n():a.addEventListener("abort",n));A.resolve().then(function(){if(h&&!T)return e()}).always(function(){p.isCanceled()||x(p,!1,f,g)});return p.then(function(a){g.requestOptions.signal&&g.requestOptions.signal.removeEventListener("abort",n);m&&m.after&&
m.after(a);return a}).catch(function(a){g.requestOptions.signal&&g.requestOptions.signal.removeEventListener("abort",n);throw a;})}var E=h.request,P=["COM_0056","COM_0057"],da=0,ga=function(){return null},T,M;(O||(O={}))._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"];return O})},"esri/core/deferredUtils":function(){define(["dojo/Deferred"],function(b){var a={makeDeferredCancellingPending:function(){var r={},f=a._dfdCanceller.bind(null,r),f=new b(f);return r.deferred=
f},_dfdCanceller:function(a){a=a.deferred?a.deferred:a;a.canceled=!0;var b=a._pendingDfd;a.isResolved()||!b||b.isResolved()||b.cancel();a._pendingDfd=null},_fixDfd:function(a){var b=a.then;a.then=function(a,f,l){if(a){var c=a;a=function(a){return a&&a._argsArray?c.apply(null,a):c(a)}}return b.call(this,a,f,l)};return a},_resDfd:function(a,b,k){var f=b.length;1===f?k?a.reject(b[0]):a.resolve(b[0]):1<f?(b._argsArray=!0,a.resolve(b)):a.resolve()}};return a})},"esri/geometry/projection":function(){define("require exports dojo/Deferred ./pe ./SpatialReference ./support/GeographicTransformation".split(" "),
function(b,a,r,f,k,n){function l(a,b,f,h,l){void 0===h&&(h=null);void 0===l&&(l=!1);if(null===h){var t=n.cacheKey(b,f);void 0!==d[t]?h=d[t]:(h=c(b,f,null),null===h&&(h=new n),d[t]=h)}return g._project(a,b,f instanceof k||!1===l?f:new k(f),h,l)}function c(a,b,c){void 0===c&&(c=null);a=g._getTransformation(a,b,c);return null!==a?n.fromGE(a):null}Object.defineProperty(a,"__esModule",{value:!0});var g=null;a.isLoaded=function(){return!!g&&f.isLoaded()};a.isSupported=function(){return f.isSupported()};
var h=null;a.load=function(){if(h)return h.promise;h=new r;var a=f.load();b(["./geometryEngine"],function(b){g=b;a.then(function(){g._enableProjection(f);h.resolve()},function(a){h.reject(a)})});return h.promise};a.project=function(a,b,c){void 0===c&&(c=null);return a instanceof Array?0===a.length?[]:l(a,a[0].spatialReference,b,c):l([a],a.spatialReference,b,c)[0]};var d={};a.projectMany=l;a.getTransformation=c;a.getTransformations=function(a,b,c){void 0===c&&(c=null);a=g._getTransformationBySuitability(a,
b,c);if(null!==a){b=[];for(c=0;c<a.length;c++)b.push(n.fromGE(a[c]));return b}return[]}})},"esri/geometry/pe":function(){define(["require","exports","../core/tsSupport/extendsHelper","dojo/Deferred","../core/has"],function(b,a,r,f,k){function n(b){function c(a,b,c){a[b]=c(a[b])}a._pe=b;v.init();z.init();t.init();B.init();A.init();a.PeGCSExtent=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}r(c,b);c.prototype.destroy=function(){a._pe.destroy(this)};return c}(a._pe.PeGCSExtent);
for(var d=0,e=[a._pe.PeDatum,a._pe.PeGeogcs,a._pe.PeGeogtran,a._pe.PeObject,a._pe.PeParameter,a._pe.PePrimem,a._pe.PeProjcs,a._pe.PeSpheroid,a._pe.PeUnit];d<e.length;d++)b=e[d],c(b.prototype,"getName",function(a){return function(){return a.call(this,Array(v.PE_NAME_MAX))}});d=0;for(e=[a._pe.PeGeogtran,a._pe.PeProjcs];d<e.length;d++)b=e[d],c(b.prototype,"getParameters",function(b){return function(){for(var c=Array(v.PE_PARM_MAX),d=b.call(this),e=0;e<c.length;e++){var g=a._pe.getValue(d,"*");c[e]=g?
a._pe.wrapPointer(g,a._pe.PeParameter):null;d+=Int32Array.BYTES_PER_ELEMENT}return c}});c(a._pe.PeHorizon.prototype,"getCoord",function(a){return function(){var b=this.getSize();if(!b)return null;var c=[],d=a.call(this);h(c,b,d);return c}});c(a._pe.PeGTlistExtendedEntry.prototype,"getEntries",function(b){var c=a._pe._pe_getPeGTlistExtendedGTsSize();return function(){var d=null,e=b.call(this);if(!a._pe.compare(e,a._pe.NULL)){var d=[e],g=this.getSteps();if(1<g)for(var e=a._pe.getPointer(e),m=1;m<g;m++)d.push(a._pe.wrapPointer(e+
c*m,a._pe.PeGTlistExtendedGTs))}return d}});var g=a._pe._pe_getPeHorizonSize();b=function(b){return function(){var c=this._cache;c||(this._cache=c=new Map);if(c.has(b))return c.get(b);var d=null,e=b.call(this);if(!a._pe.compare(e,a._pe.NULL)){var d=[e],m=e.getNump();if(1<m)for(var e=a._pe.getPointer(e),f=1;f<m;f++)d.push(a._pe.wrapPointer(e+g*f,a._pe.PeHorizon))}c.set(b,d);return d}};c(a._pe.PeProjcs.prototype,"horizonGcsGenerate",b);c(a._pe.PeProjcs.prototype,"horizonPcsGenerate",b);a._pe.PeObject.prototype.toString=
function(b){void 0===b&&(b=v.PE_STR_OPTS_NONE);a._pe.ensureCache.prepare();var c=a._pe.getPointer(this),d=a._pe.ensureInt8(Array(v.PE_BUFFER_MAX));return a._pe.Pointer_stringify(a._pe._pe_object_to_string_ext(c,b,d))}}function l(b){if(b){var c=a._pe.getClass(b);c&&(c=a._pe.getCache(c))&&(b=a._pe.getPointer(b))&&delete c[b]}}function c(b,c){var d=[];c=Array(c);for(var e=0;e<b;e++)d.push(a._pe.ensureInt8(c));return d}function g(a){var b;Array.isArray(a[0])?(b=[],a.forEach(function(a){b.push(a[0],a[1])})):
b=a;return b}function h(b,c,d,e){void 0===e&&(e=!1);if(e)for(e=0;e<2*c;e++)b[e]=a._pe.getValue(d+e*Float64Array.BYTES_PER_ELEMENT,"double");else{var g=0===b.length;for(e=0;e<c;e++)g&&(b[e]=Array(2)),b[e][0]=a._pe.getValue(d,"double"),b[e][1]=a._pe.getValue(d+Float64Array.BYTES_PER_ELEMENT,"double"),d+=2*Float64Array.BYTES_PER_ELEMENT}}Object.defineProperty(a,"__esModule",{value:!0});var d;a._pe=null;a.isLoaded=function(){return!!a._pe};a.isSupported=function(){return!!k("esri-wasm")};a.load=function(){if(d)return d.promise;
d=new f;b(["./support/pe-wasm"],function(a){a({locateFile:function(a){return b.toUrl("./support/"+a)},onAbort:function(a){d.reject(Error(a))}}).then(function(a){n(a);d.resolve()})});return d.promise};(function(b){function c(b,c,d){a._pe.ensureCache.prepare();var e=g(d),m=d===e,e=a._pe.ensureFloat64(e);(b=a._pe._pe_geog_to_proj(a._pe.getPointer(b),c,e))&&h(d,c,e,m);return b}function d(a,b,c){return e(a,b,c,0)}function e(b,c,d,e){a._pe.ensureCache.prepare();var m=g(d),f=d===m,m=a._pe.ensureFloat64(m);
(b=a._pe._pe_proj_to_geog_center(a._pe.getPointer(b),c,m,e))&&h(d,c,m,f);return b}b.geogToProj=c;b.projGeog=function(a,b,e,g){switch(g){case v.PE_TRANSFORM_P_TO_G:return d(a,b,e);case v.PE_TRANSFORM_G_TO_P:return c(a,b,e)}return 0};b.projToGeog=d;b.projToGeogCenter=e})(a.PeCSTransformations||(a.PeCSTransformations={}));var v;(function(b){b.init=function(){b.PE_BUFFER_MAX=a._pe.PeDefs.prototype.get_PE_BUFFER_MAX();b.PE_NAME_MAX=a._pe.PeDefs.prototype.get_PE_NAME_MAX();b.PE_MGRS_MAX=a._pe.PeDefs.prototype.get_PE_MGRS_MAX();
b.PE_USNG_MAX=a._pe.PeDefs.prototype.get_PE_USNG_MAX();b.PE_DD_MAX=a._pe.PeDefs.prototype.get_PE_DD_MAX();b.PE_DDM_MAX=a._pe.PeDefs.prototype.get_PE_DDM_MAX();b.PE_DMS_MAX=a._pe.PeDefs.prototype.get_PE_DMS_MAX();b.PE_UTM_MAX=a._pe.PeDefs.prototype.get_PE_UTM_MAX();b.PE_PARM_MAX=a._pe.PeDefs.prototype.get_PE_PARM_MAX();b.PE_TYPE_NONE=a._pe.PeDefs.prototype.get_PE_TYPE_NONE();b.PE_TYPE_GEOGCS=a._pe.PeDefs.prototype.get_PE_TYPE_GEOGCS();b.PE_TYPE_PROJCS=a._pe.PeDefs.prototype.get_PE_TYPE_PROJCS();b.PE_TYPE_GEOGTRAN=
a._pe.PeDefs.prototype.get_PE_TYPE_GEOGTRAN();b.PE_TYPE_COORDSYS=a._pe.PeDefs.prototype.get_PE_TYPE_COORDSYS();b.PE_TYPE_UNIT=a._pe.PeDefs.prototype.get_PE_TYPE_UNIT();b.PE_STR_OPTS_NONE=a._pe.PeDefs.prototype.get_PE_STR_OPTS_NONE();b.PE_STR_AUTH_NONE=a._pe.PeDefs.prototype.get_PE_STR_AUTH_NONE();b.PE_STR_AUTH_TOP=a._pe.PeDefs.prototype.get_PE_STR_AUTH_TOP();b.PE_STR_NAME_CANON=a._pe.PeDefs.prototype.get_PE_STR_NAME_CANON();b.PE_PARM_X0=a._pe.PeDefs.prototype.get_PE_PARM_X0();b.PE_PARM_ND=a._pe.PeDefs.prototype.get_PE_PARM_ND();
b.PE_TRANSFORM_1_TO_2=a._pe.PeDefs.prototype.get_PE_TRANSFORM_1_TO_2();b.PE_TRANSFORM_2_TO_1=a._pe.PeDefs.prototype.get_PE_TRANSFORM_2_TO_1();b.PE_TRANSFORM_P_TO_G=a._pe.PeDefs.prototype.get_PE_TRANSFORM_P_TO_G();b.PE_TRANSFORM_G_TO_P=a._pe.PeDefs.prototype.get_PE_TRANSFORM_G_TO_P();b.PE_HORIZON_RECT=a._pe.PeDefs.prototype.get_PE_HORIZON_RECT();b.PE_HORIZON_POLY=a._pe.PeDefs.prototype.get_PE_HORIZON_POLY();b.PE_HORIZON_LINE=a._pe.PeDefs.prototype.get_PE_HORIZON_LINE();b.PE_HORIZON_DELTA=a._pe.PeDefs.prototype.get_PE_HORIZON_DELTA()}})(v=
a.PeDefs||(a.PeDefs={}));(function(b){function c(b,c){var g=null,m=e[b];m||(m={},e[b]=m);m.hasOwnProperty(String(c))?g=m[c]:(b=a._pe.PeFactory.prototype.factoryByType(b,c),a._pe.compare(b,a._pe.NULL)||(g=b,m[c]=g));return g=d(g)}function d(b){if(b){var c=b.getType();switch(c){case v.PE_TYPE_GEOGCS:b=a._pe.castObject(b,a._pe.PeGeogcs);break;case v.PE_TYPE_PROJCS:b=a._pe.castObject(b,a._pe.PeProjcs);break;case v.PE_TYPE_GEOGTRAN:b=a._pe.castObject(b,a._pe.PeGeogtran);break;default:c&v.PE_TYPE_UNIT&&
(b=a._pe.castObject(b,a._pe.PeUnit))}}return b}var e={},g={};b.initialize=function(){a._pe.PeFactory.prototype.initialize(null)};b.coordsys=function(a){return c(v.PE_TYPE_COORDSYS,a)};b.factoryByType=c;b.fromString=function(b,c){var e=null,m=g[b];m||(m={},g[b]=m);m.hasOwnProperty(c)?e=m[c]:(b=a._pe.PeFactory.prototype.fromString(b,c),a._pe.compare(b,a._pe.NULL)||(e=b,m[c]=e));return e=d(e)};b.geogcs=function(a){return c(v.PE_TYPE_GEOGCS,a)};b.geogtran=function(a){return c(v.PE_TYPE_GEOGTRAN,a)};b.getCode=
function(b){return a._pe.PeFactory.prototype.getCode(b)};b.projcs=function(a){return c(v.PE_TYPE_PROJCS,a)};b.unit=function(a){return c(v.PE_TYPE_UNIT,a)}})(a.PeFactory||(a.PeFactory={}));a.PeGCSExtent=null;var z;(function(b){var c;b.init=function(){b.PE_GTLIST_OPTS_COMMON=a._pe.PeGTlistExtended.prototype.get_PE_GTLIST_OPTS_COMMON();c=a._pe._pe_getPeGTlistExtendedEntrySize()};b.getGTlist=function(b,d,g,m,f,h){var e=null,k=new a._pe.PeInteger(h);try{var p=a._pe.PeGTlistExtended.prototype.getGTlist(b,
d,g,m,f,k);if(h=k.get_val())if(e=[p],1<h){var t=a._pe.getPointer(p);for(b=1;b<h;b++)e.push(a._pe.wrapPointer(t+c*b,a._pe.PeGTlistExtendedEntry))}}finally{a._pe.destroy(k)}return e}})(z=a.PeGTlistExtended||(a.PeGTlistExtended={}));(function(b){b.destroy=function(b){if(b&&b.length){for(var c=0;c<b.length;c++){var d=b[c];l(d);d.getEntries().forEach(function(a){l(a);a=a.getGeogtran();l(a);a.getParameters().forEach(l);[a.getGeogcs1(),a.getGeogcs2()].forEach(function(a){l(a);var b=a.getDatum();l(b);l(b.getSpheroid());
l(a.getPrimem());l(a.getUnit())})})}a._pe.PeGTlistExtendedEntry.prototype.Delete(b[0])}}})(a.PeGTlistExtendedEntry||(a.PeGTlistExtendedEntry={}));(function(b){b.geogToGeog=function(b,c,d,f,k){a._pe.ensureCache.prepare();var e=g(d),m=d===e,e=a._pe.ensureFloat64(e),p=0;f&&(p=a._pe.ensureFloat64(f));(b=a._pe._pe_geog_to_geog(a._pe.getPointer(b),c,e,p,k))&&h(d,c,e,m);return b}})(a.PeGTTransformations||(a.PeGTTransformations={}));(function(b){function d(b,d,m,f,h,k){a._pe.ensureCache.prepare();var e,p;
switch(b){case "dd":e=a._pe._pe_geog_to_dd;p=v.PE_DD_MAX;break;case "ddm":e=a._pe._pe_geog_to_ddm;p=v.PE_DDM_MAX;break;case "dms":e=a._pe._pe_geog_to_dms,p=v.PE_DMS_MAX}b=0;d&&(b=a._pe.getPointer(d));d=g(f);d=a._pe.ensureFloat64(d);p=c(m,p);f=a._pe.ensureInt32(p);if(h=e(b,m,d,h,f))for(e=0;e<m;e++)k[e]=a._pe.Pointer_stringify(p[e]);return h}function f(b,c,d,g,m){a._pe.ensureCache.prepare();var e;switch(b){case "dd":e=a._pe._pe_dd_to_geog;break;case "ddm":e=a._pe._pe_ddm_to_geog;break;case "dms":e=
a._pe._pe_dms_to_geog}b=0;c&&(b=a._pe.getPointer(c));c=g.map(function(b){return a._pe.ensureString(b)});g=a._pe.ensureInt32(c);c=a._pe.ensureFloat64(Array(2*d));(e=e(b,d,g,c))&&h(m,d,c);return e}b.geog_to_dms=function(a,b,c,g,m){return d("dms",a,b,c,g,m)};b.dms_to_geog=function(a,b,c,d){return f("dms",a,b,c,d)};b.geog_to_ddm=function(a,b,c,g,m){return d("ddm",a,b,c,g,m)};b.ddm_to_geog=function(a,b,c,d){return f("ddm",a,b,c,d)};b.geog_to_dd=function(a,b,c,g,m){return d("dd",a,b,c,g,m)};b.dd_to_geog=
function(a,b,c,d){return f("dd",a,b,c,d)}})(a.PeNotationDms||(a.PeNotationDms={}));var t;(function(b){b.init=function(){b.PE_MGRS_STYLE_NEW=a._pe.PeNotationMgrs.prototype.get_PE_MGRS_STYLE_NEW();b.PE_MGRS_STYLE_OLD=a._pe.PeNotationMgrs.prototype.get_PE_MGRS_STYLE_OLD();b.PE_MGRS_STYLE_AUTO=a._pe.PeNotationMgrs.prototype.get_PE_MGRS_STYLE_AUTO();b.PE_MGRS_180_ZONE_1_PLUS=a._pe.PeNotationMgrs.prototype.get_PE_MGRS_180_ZONE_1_PLUS();b.PE_MGRS_ADD_SPACES=a._pe.PeNotationMgrs.prototype.get_PE_MGRS_ADD_SPACES()};
b.geog_to_mgrs_extended=function(b,d,e,f,h,k,t){a._pe.ensureCache.prepare();var m=0;b&&(m=a._pe.getPointer(b));b=g(e);e=a._pe.ensureFloat64(b);b=c(d,v.PE_MGRS_MAX);var p=a._pe.ensureInt32(b);if(f=a._pe._pe_geog_to_mgrs_extended(m,d,e,f,h,k,p))for(h=0;h<d;h++)t[h]=a._pe.Pointer_stringify(b[h]);return f};b.mgrs_to_geog_extended=function(b,c,d,g,f){a._pe.ensureCache.prepare();var e=0;b&&(e=a._pe.getPointer(b));b=d.map(function(b){return a._pe.ensureString(b)});d=a._pe.ensureInt32(b);b=a._pe.ensureFloat64(Array(2*
c));(g=a._pe._pe_mgrs_to_geog_extended(e,c,d,g,b))&&h(f,c,b);return g}})(t=a.PeNotationMgrs||(a.PeNotationMgrs={}));(function(b){b.geog_to_usng=function(b,d,e,f,h,k,t){a._pe.ensureCache.prepare();var m=0;b&&(m=a._pe.getPointer(b));b=g(e);e=a._pe.ensureFloat64(b);b=c(d,v.PE_MGRS_MAX);var p=a._pe.ensureInt32(b);if(f=a._pe._pe_geog_to_usng(m,d,e,f,h,k,p))for(h=0;h<d;h++)t[h]=a._pe.Pointer_stringify(b[h]);return f};b.usng_to_geog=function(b,c,d,g){a._pe.ensureCache.prepare();var e=0;b&&(e=a._pe.getPointer(b));
b=d.map(function(b){return a._pe.ensureString(b)});d=a._pe.ensureInt32(b);b=a._pe.ensureFloat64(Array(2*c));(e=a._pe._pe_usng_to_geog(e,c,d,b))&&h(g,c,b);return e}})(a.PeNotationUsng||(a.PeNotationUsng={}));var B;(function(b){b.init=function(){b.PE_UTM_OPTS_NONE=a._pe.PeNotationUtm.prototype.get_PE_UTM_OPTS_NONE();b.PE_UTM_OPTS_ADD_SPACES=a._pe.PeNotationUtm.prototype.get_PE_UTM_OPTS_ADD_SPACES();b.PE_UTM_OPTS_NS=a._pe.PeNotationUtm.prototype.get_PE_UTM_OPTS_NS()};b.geog_to_utm=function(b,d,e,f,h){a._pe.ensureCache.prepare();
var m=0;b&&(m=a._pe.getPointer(b));b=g(e);e=a._pe.ensureFloat64(b);b=c(d,v.PE_UTM_MAX);var k=a._pe.ensureInt32(b);if(f=a._pe._pe_geog_to_utm(m,d,e,f,k))for(m=0;m<d;m++)h[m]=a._pe.Pointer_stringify(b[m]);return f};b.utm_to_geog=function(b,c,d,g,f){a._pe.ensureCache.prepare();var e=0;b&&(e=a._pe.getPointer(b));b=d.map(function(b){return a._pe.ensureString(b)});d=a._pe.ensureInt32(b);b=a._pe.ensureFloat64(Array(2*c));(g=a._pe._pe_utm_to_geog(e,c,d,g,b))&&h(f,c,b);return g}})(B=a.PeNotationUtm||(a.PeNotationUtm=
{}));var A;(function(b){var c=new Map;b.init=function(){b.PE_PCSINFO_OPTION_NONE=a._pe.PePCSInfo.prototype.get_PE_PCSINFO_OPTION_NONE();b.PE_PCSINFO_OPTION_DOMAIN=a._pe.PePCSInfo.prototype.get_PE_PCSINFO_OPTION_DOMAIN();b.PE_POLE_OUTSIDE_BOUNDARY=a._pe.PePCSInfo.prototype.get_PE_POLE_OUTSIDE_BOUNDARY();b.PE_POLE_POINT=a._pe.PePCSInfo.prototype.get_PE_POLE_POINT()};b.generate=function(d,e){void 0===e&&(e=b.PE_PCSINFO_OPTION_DOMAIN);var g,f;c.has(d)&&(f=c.get(d),f[e]&&(g=f[e]));g||(g=a._pe.PePCSInfo.prototype.generate(d,
e),f||(f=[],c.set(d,f)),f[e]=g);return g}})(A=a.PePCSInfo||(a.PePCSInfo={}));(function(b){b.version_string=function(){return a._pe.PeVersion.prototype.version_string()}})(a.PeVersion||(a.PeVersion={}));a._init=n})},"esri/geometry/support/GeographicTransformation":function(){define(["require","exports","./GeographicTransformationStep"],function(b,a,r){return function(){function a(a){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(a&&a.steps){var b=0;for(a=a.steps;b<
a.length;b++){var f=a[b];f instanceof r?this.steps.push(f):this.steps.push(new r({wkid:f.wkid,wkt:f.wkt,isInverse:f.isInverse}))}}}a.cacheKey=function(a,b){return[void 0!==a.wkid&&null!==a.wkid?a.wkid.toString():"-1",void 0!==a.wkt&&null!==a.wkt?a.wkt.toString():"",void 0!==b.wkid&&null!==b.wkid?b.wkid.toString():"-1",void 0!==b.wkt&&null!==b.wkt?b.wkt.toString():""].join()};a.fromGE=function(b){var f=new a,k="",c=0;for(b=b.steps;c<b.length;c++){var g=r.fromGE(b[c]);f.steps.push(g);k+=g.uid.toString()+
","}f._cached_projection={};f._gtlistentry=null;f._chain=k;return f};a.prototype.getInverse=function(){var b=new a;b.steps=[];for(var f=this.steps.length-1;0<=f;f--)b.steps.push(this.steps[f].getInverse());return b};a.prototype.getGTListEntry=function(){for(var a="",b=0,f=this.steps;b<f.length;b++)a+=f[b].uid.toString()+",";a!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=a);return this._gtlistentry};a.prototype.assignCachedGe=function(b,f,l){this._cached_projection[a.cacheKey(b,
f)]=l};a.prototype.getCachedGeTransformation=function(b,f){for(var k="",c=0,g=this.steps;c<g.length;c++)k+=g[c].uid.toString()+",";k!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=k);b=this._cached_projection[a.cacheKey(b,f)];return void 0===b?null:b};return a}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["require","exports"],function(b,a){var r=0;return function(){function a(a){void 0===a&&(a=null);this.uid=r++;a?(this._wkt=void 0!==
a.wkt?a.wkt:null,this._wkid=void 0!==a.wkid?a.wkid:-1,this._isInverse=void 0!==a.isInverse?!0===a.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}a.fromGE=function(b){var f=new a;f._wkt=b.wkt;f._wkid=b.wkid;f._isInverse=b.isInverse;return f};Object.defineProperty(a.prototype,"wkt",{get:function(){return this._wkt},set:function(a){this._wkt=a;this.uid=r++},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"wkid",{get:function(){return this._wkid},set:function(a){this._wkid=
a;this.uid=r++},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isInverse",{get:function(){return this._isInverse},set:function(a){this._isInverse=a;this.uid=r++},enumerable:!0,configurable:!0});a.prototype.getInverse=function(){var b=new a;b._wkt=this.wkt;b._wkid=this._wkid;b._isInverse=!this.isInverse;return b};return a}()})},"esri/layers/graphics/OptimizedFeature":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(a,
b,k,n){void 0===a&&(a=null);void 0===b&&(b={});this.geometry=a;this.attributes=b;k&&(this.centroid=k);null!=n&&(this.objectId=n)}}();a.default=b})},"esri/layers/graphics/OptimizedGeometry":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(a,b){void 0===a&&(a=[]);void 0===b&&(b=[]);this.lengths=a;this.coords=b}}();a.default=b})},"esri/layers/graphics/data/DefaultSpatialIndex":function(){define("require exports @dojo/framework/shim/array @dojo/framework/shim/Map ../../../core/Error ../../../core/Logger ./FeatureStore".split(" "),
function(b,a,r,f,k,n,l){Object.defineProperty(a,"__esModule",{value:!0});var c=n.getLogger("esri.layers.graphics.data.FeatureStore"),g=[];b=function(){function a(a){this._featuresById=new f.default;this._store=new l.default(a)}Object.defineProperty(a.prototype,"geometryType",{get:function(){return this._store.featureInfo.geometryType},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"hasM",{get:function(){return this._store.featureInfo.hasM},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"hasZ",{get:function(){return this._store.featureInfo.hasZ},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"numFeatures",{get:function(){return this._store.size},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"fullBounds",{get:function(){return this._store.bounds},enumerable:!0,configurable:!0});a.prototype.setEngine=function(a){this._engine=a};a.prototype.add=function(a){if(a){var b=a.objectId;if(null==b)c.error(new k("featurestore:invalid-feature","feature id is missing",
{feature:a}));else{var d=this._featuresById.get(b);d?this._store.replace(d,a):this._store.add(a);this._featuresById.set(b,a);this._clearCache()}}};a.prototype.addMany=function(a){for(var b=0;b<a.length;b++){var d=a[b];if(d){var f=d.objectId;if(null==f)c.error(new k("featurestore:invalid-feature","feature id is missing",{feature:d}));else{var h=this._featuresById.get(f);h?this._store.replace(h,d):g.push(d);this._featuresById.set(f,d)}}}this._store.addMany(g);g.length=0;this._clearCache()};a.prototype.clear=
function(){this._featuresById.clear();this._store.clear();this._clearCache()};a.prototype.removeManyById=function(a){for(var b=0;b<a.length;b++){var c=a[b];this._store.remove(this._featuresById.get(c));this._featuresById.delete(c)}this._clearCache()};a.prototype.forEachBounds=function(a,b){this._store.forEachBounds(a,b)};a.prototype.getAllFeatures=function(){return r.from(this._featuresById,function(a){return a[1]})};a.prototype.getFeature=function(a){return this._featuresById.get(a)};a.prototype.hasFeature=
function(a){return this._featuresById.has(a)};a.prototype.forEachFeatureInBounds=function(a,b){this._store.forEachFeatureInBounds(a,b)};a.prototype.mapFeaturesInBounds=function(a,b){return this._store.mapFeaturesInBounds(a,b)};a.prototype.transferIds=function(a,b){for(var c=[],d=0;d<b.length;d++){var g=this._featuresById.get(b[d]);g&&(this._store.remove(g),this._featuresById.delete(g.objectId),c.push(g))}a.addMany(c);this._clearCache()};a.prototype.transferIdRange=function(a,b,c){for(var d=[];b<c;b++){var g=
this._featuresById.get(b);g&&(this._store.remove(g),this._featuresById.delete(g.objectId),d.push(g))}a.addMany(d);this._clearCache()};a.prototype.transferIf=function(a,b){var c=this,d=[];this._featuresById.forEach(function(a,g){b(a)&&(c._store.remove(a),c._featuresById.delete(a.objectId),d.push(a))});a.addMany(d);this._clearCache()};a.prototype.transferAll=function(a){var b=this,c=[];this._featuresById.forEach(function(a,d){b._store.remove(a);b._featuresById.delete(a.objectId);c.push(a)});a.addMany(c);
this._clearCache()};a.prototype._clearCache=function(){this._engine&&this._engine.clearCache()};return a}();a.default=b})},"@dojo/framework/shim/array":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./iterator ./number ./support/has ./support/util".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var r=
b("tslib"),f=b("./global"),k=b("./iterator"),n=b("./number"),l=b("./support/has");b=b("./support/util");if(l.default("es6-array")&&l.default("es6-array-fill"))a.from=f.default.Array.from,a.of=f.default.Array.of,a.copyWithin=b.wrapNative(f.default.Array.prototype.copyWithin),a.fill=b.wrapNative(f.default.Array.prototype.fill),a.find=b.wrapNative(f.default.Array.prototype.find),a.findIndex=b.wrapNative(f.default.Array.prototype.findIndex);else{var c=function(a){if(isNaN(a))return 0;a=Number(a);isFinite(a)&&
(a=Math.floor(a));return Math.min(Math.max(a,0),n.MAX_SAFE_INTEGER)},g=function(a){a=Number(a);return isNaN(a)?0:0!==a&&isFinite(a)?(0<a?1:-1)*Math.floor(Math.abs(a)):a},h=function(a,b){return 0>a?Math.max(b+a,0):Math.min(a,b)};a.from=function(a,b,g){if(null==a)throw new TypeError("from: requires an array-like object");b&&g&&(b=b.bind(g));g=c(a.length);var d="function"===typeof this?Object(new this(g)):Array(g);if(!k.isArrayLike(a)&&!k.isIterable(a))return d;if(k.isArrayLike(a)){if(0===g)return[];
for(var f=0;f<a.length;f++)d[f]=b?b(a[f],f):a[f]}else{f=0;try{for(var h=r.__values(a),l=h.next();!l.done;l=h.next()){var m=l.value;d[f]=b?b(m,f):m;f++}}catch(p){n={error:p}}finally{try{l&&!l.done&&(e=h.return)&&e.call(h)}finally{if(n)throw n.error;}}}void 0!==a.length&&(d.length=g);return d;var n,e};a.of=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return Array.prototype.slice.call(a)};a.copyWithin=function(a,b,f,k){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");
var d=c(a.length);b=h(g(b),d);f=h(g(f),d);k=h(void 0===k?d:g(k),d);k=Math.min(k-f,d-b);d=1;b>f&&b<f+k&&(d=-1,f+=k-1,b+=k-1);for(;0<k;)f in a?a[b]=a[f]:delete a[b],b+=d,f+=d,k--;return a};a.fill=function(a,b,f,k){var d=c(a.length);f=h(g(f),d);for(k=h(void 0===k?d:g(k),d);f<k;)a[f++]=b;return a};a.find=function(b,c,g){c=a.findIndex(b,c,g);return-1!==c?b[c]:void 0};a.findIndex=function(a,b,g){var d=c(a.length);if(!b)throw new TypeError("find: second argument must be a function");g&&(b=b.bind(g));for(g=
0;g<d;g++)if(b(a[g],g,a))return g;return-1}}l.default("es7-array")?a.includes=b.wrapNative(f.default.Array.prototype.includes):a.includes=function(a,b,c){void 0===c&&(c=0);var d;d=a.length;d=Number(d);isNaN(d)?d=0:(isFinite(d)&&(d=Math.floor(d)),d=Math.min(Math.max(d,0),n.MAX_SAFE_INTEGER));for(;c<d;++c){var g=a[c];if(b===g||b!==b&&g!==g)return!0}return!1}})},"@dojo/framework/shim/number":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==
b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],b)})(function(b,a){function r(a){return"number"===typeof a&&k.default.isFinite(a)}function f(a){return r(a)&&Math.floor(a)===a}Object.defineProperty(a,"__esModule",{value:!0});var k=b("./global");a.EPSILON=1;a.MAX_SAFE_INTEGER=Math.pow(2,53)-1;a.MIN_SAFE_INTEGER=-a.MAX_SAFE_INTEGER;a.isNaN=function(a){return"number"===typeof a&&k.default.isNaN(a)};a.isFinite=r;a.isInteger=f;a.isSafeInteger=function(b){return f(b)&&
Math.abs(b)<=a.MAX_SAFE_INTEGER}})},"@dojo/framework/shim/Map":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define("require exports tslib ./iterator ./global ./object ./support/has ./Symbol".split(" "),b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var r=b("tslib"),f=b("./iterator"),k=b("./global"),n=b("./object"),l=b("./support/has");b("./Symbol");
a.Map=k.default.Map;l.default("es6-map")||(a.Map=(c=function(){function a(a){this._keys=[];this._values=[];this[Symbol.toStringTag]="Map";if(a)if(f.isArrayLike(a))for(var b=0;b<a.length;b++){var c=a[b];this.set(c[0],c[1])}else try{for(var b=r.__values(a),g=b.next();!g.done;g=b.next())c=g.value,this.set(c[0],c[1])}catch(A){h={error:A}}finally{try{g&&!g.done&&(k=b.return)&&k.call(b)}finally{if(h)throw h.error;}}var h,k}a.prototype._indexOfKey=function(a,b){for(var c=0,d=a.length;c<d;c++)if(n.is(a[c],
b))return c;return-1};Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0});a.prototype.clear=function(){this._keys.length=this._values.length=0};a.prototype.delete=function(a){a=this._indexOfKey(this._keys,a);if(0>a)return!1;this._keys.splice(a,1);this._values.splice(a,1);return!0};a.prototype.entries=function(){var a=this,b=this._keys.map(function(b,c){return[b,a._values[c]]});return new f.ShimIterator(b)};a.prototype.forEach=function(a,
b){for(var c=this._keys,d=this._values,g=0,f=c.length;g<f;g++)a.call(b,d[g],c[g],this)};a.prototype.get=function(a){a=this._indexOfKey(this._keys,a);return 0>a?void 0:this._values[a]};a.prototype.has=function(a){return-1<this._indexOfKey(this._keys,a)};a.prototype.keys=function(){return new f.ShimIterator(this._keys)};a.prototype.set=function(a,b){var c=this._indexOfKey(this._keys,a),c=0>c?this._keys.length:c;this._keys[c]=a;this._values[c]=b;return this};a.prototype.values=function(){return new f.ShimIterator(this._values)};
a.prototype[Symbol.iterator]=function(){return this.entries()};return a}(),c[Symbol.species]=c,c));a.default=a.Map;var c})},"@dojo/framework/shim/object":function(){(function(b){"object"===typeof module&&"object"===typeof module.exports?(b=b(require,exports),void 0!==b&&(module.exports=b)):"function"===typeof define&&define.amd&&define(["require","exports","./global","./support/has","./Symbol"],b)})(function(b,a){Object.defineProperty(a,"__esModule",{value:!0});var r=b("./global"),f=b("./support/has"),
k=b("./Symbol");f.default("es6-object")?(b=r.default.Object,a.assign=b.assign,a.getOwnPropertyDescriptor=b.getOwnPropertyDescriptor,a.getOwnPropertyNames=b.getOwnPropertyNames,a.getOwnPropertySymbols=b.getOwnPropertySymbols,a.is=b.is,a.keys=b.keys):(a.keys=function(a){return Object.keys(a).filter(function(a){return!a.match(/^@@.+/)})},a.assign=function(b){for(var f=[],c=1;c<arguments.length;c++)f[c-1]=arguments[c];if(null==b)throw new TypeError("Cannot convert undefined or null to object");var g=
Object(b);f.forEach(function(b){b&&a.keys(b).forEach(function(a){g[a]=b[a]})});return g},a.getOwnPropertyDescriptor=function(a,b){k.isSymbol(b);return Object.getOwnPropertyDescriptor(a,b)},a.getOwnPropertyNames=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!a.match(/^@@.+/)})},a.getOwnPropertySymbols=function(a){return Object.getOwnPropertyNames(a).filter(function(a){return!!a.match(/^@@.+/)}).map(function(a){return Symbol.for(a.substring(2))})},a.is=function(a,b){return a===
b?0!==a||1/a===1/b:a!==a&&b!==b});f.default("es2017-object")?(b=r.default.Object,a.getOwnPropertyDescriptors=b.getOwnPropertyDescriptors,a.entries=b.entries,a.values=b.values):(a.getOwnPropertyDescriptors=function(b){return a.getOwnPropertyNames(b).reduce(function(f,c){f[c]=a.getOwnPropertyDescriptor(b,c);return f},{})},a.entries=function(b){return a.keys(b).map(function(a){return[a,b[a]]})},a.values=function(b){return a.keys(b).map(function(a){return b[a]})})})},"esri/layers/graphics/data/FeatureStore":function(){define("require exports @dojo/framework/shim/Map ../../../core/has ../../../core/libs/rbush/rbush ../../../geometry/support/aaBoundingRect ../featureConversionUtils".split(" "),
function(b,a,r,f,k,n,l){function c(a,b){g.minX=b[0];g.minY=b[1];g.maxX=b[2];g.maxY=b[3];return a.search(g)}Object.defineProperty(a,"__esModule",{value:!0});var g={minX:0,minY:0,maxX:0,maxY:0},h=[];b=function(){function a(a){this._boundsByFeature=new r.default;this._featuresByBounds=new r.default;this._index=k(9,f("csp-restrictions")?function(a){return{minX:a[0],minY:a[1],maxX:a[2],maxY:a[3]}}:["[0]","[1]","[2]","[3]"]);this.featureInfo=a}Object.defineProperty(a.prototype,"bounds",{get:function(){if(!this.size)return null;
var a=n.create(n.NEGATIVE_INFINITY);this._boundsByFeature.forEach(function(b){b&&(a[0]=Math.min(b[0],a[0]),a[1]=Math.min(b[1],a[1]),a[2]=Math.max(b[2],a[2]),a[3]=Math.max(b[3],a[3]))});return a},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this._boundsByFeature.size},enumerable:!0,configurable:!0});a.prototype.add=function(a){if(a)if(a.geometry){var b=l.getBoundsOptimizedGeometry(n.create(),a.geometry,this.featureInfo.hasZ,this.featureInfo.hasM);
this._boundsByFeature.set(a,b);this._featuresByBounds.set(b,a);this._index.insert(b)}else this._boundsByFeature.set(a,null)};a.prototype.addMany=function(a){for(var b=this.featureInfo,c=b.hasM,b=b.hasZ,d=0;d<a.length;d++){var g=a[d];if(g)if(g.geometry){var f=l.getBoundsOptimizedGeometry(n.create(),g.geometry,b,c);this._boundsByFeature.set(g,f);this._featuresByBounds.set(f,g);h.push(f)}else this._boundsByFeature.set(g,null)}this._index.load(h);h.length=0};a.prototype.clear=function(){this._index.clear();
this._boundsByFeature.clear();this._featuresByBounds.clear()};a.prototype.forEachBounds=function(a,b){for(var c=0;c<a.length;c++){var d=a[c],g=this.getBounds(d);g&&b(g,d)}};a.prototype.getBounds=function(a){return this._boundsByFeature.get(a)};a.prototype.has=function(a){return this._boundsByFeature.has(a)};a.prototype.remove=function(a){if(a){var b=this._boundsByFeature.get(a);b&&(this._index.remove(b),this._featuresByBounds.delete(b));this._boundsByFeature.delete(a)}};a.prototype.removeMany=function(a){for(var b=
0;b<a.length;b++)this.remove(a[b])};a.prototype.replace=function(a,b){if(this._boundsByFeature.has(a)){var c=this._boundsByFeature.get(a);c&&(this._index.remove(c),this._boundsByFeature.delete(a),this._featuresByBounds.delete(c));b&&(b.geometry?(l.getBoundsOptimizedGeometry(c,b.geometry,this.featureInfo.hasZ,this.featureInfo.hasM),this._boundsByFeature.set(b,c),this._featuresByBounds.set(c,b),this._index.insert(c)):this._boundsByFeature.set(b,null))}};a.prototype.forEachFeatureInBounds=function(a,
b){var d=0;for(a=c(this._index,a);d<a.length;d++)b(this._featuresByBounds.get(a[d]))};a.prototype.mapFeaturesInBounds=function(a,b){var d=[],g=0;for(a=c(this._index,a);g<a.length;g++)d.push(b(this._featuresByBounds.get(a[g])));return d};return a}();a.default=b})},"esri/core/libs/rbush/rbush":function(){define(["../quickselect/quickselect"],function(b){function a(b,c){if(!(this instanceof a))return new a(b,c);this._maxEntries=Math.max(4,b||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));
c&&("function"===typeof c?this.toBBox=c:this._initFormat(c));this.clear()}function r(a,b){f(a,0,a.children.length,b,a)}function f(a,b,c,d,g){g||(g=v(null));g.minX=Infinity;g.minY=Infinity;g.maxX=-Infinity;g.maxY=-Infinity;for(var f;b<c;b++)f=a.children[b],k(g,a.leaf?d(f):f);return g}function k(a,b){a.minX=Math.min(a.minX,b.minX);a.minY=Math.min(a.minY,b.minY);a.maxX=Math.max(a.maxX,b.maxX);a.maxY=Math.max(a.maxY,b.maxY);return a}function n(a,b){return a.minX-b.minX}function l(a,b){return a.minY-b.minY}
function c(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function g(a){return a.maxX-a.minX+(a.maxY-a.minY)}function h(a,b){return a.minX<=b.minX&&a.minY<=b.minY&&b.maxX<=a.maxX&&b.maxY<=a.maxY}function d(a,b){return b.minX<=a.maxX&&b.minY<=a.maxY&&b.maxX>=a.minX&&b.maxY>=a.minY}function v(a){return{children:a,height:1,leaf:!0,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function z(a,c,d,g,f){for(var m=[c,d],e;m.length;)d=m.pop(),c=m.pop(),d-c<=g||(e=c+Math.ceil((d-c)/g/2)*g,b(a,e,c,d,f),
m.push(c,e,e,d))}a.prototype={all:function(){return this._all(this.data,[])},search:function(a){var b=this.data,c=[],g=this.toBBox;if(!d(a,b))return c;for(var f=[],k,e,p,l;b;){k=0;for(e=b.children.length;k<e;k++)p=b.children[k],l=b.leaf?g(p):p,d(a,l)&&(b.leaf?c.push(p):h(a,l)?this._all(p,c):f.push(p));b=f.pop()}return c},collides:function(a){var b=this.data,c=this.toBBox;if(!d(a,b))return!1;for(var g=[],f,k,e,p;b;){f=0;for(k=b.children.length;f<k;f++)if(e=b.children[f],p=b.leaf?c(e):e,d(a,p)){if(b.leaf||
h(a,p))return!0;g.push(e)}b=g.pop()}return!1},load:function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var b=0,c=a.length;b<c;b++)this.insert(a[b]);return this}a=this._build(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this._splitRoot(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this._insert(a,this.data.height-a.height-1,!0)):this.data=a;return this},insert:function(a){a&&this._insert(a,this.data.height-1);return this},
clear:function(){this.data=v([]);return this},remove:function(a,b){if(!a)return this;for(var c=this.data,d=this.toBBox(a),g=[],f=[],e,k,l,t;c||g.length;){c||(c=g.pop(),k=g[g.length-1],e=f.pop(),t=!0);if(c.leaf){a:{l=a;var n=c.children,v=b;if(v){for(var z=0;z<n.length;z++)if(v(l,n[z])){l=z;break a}l=-1}else l=n.indexOf(l)}if(-1!==l){c.children.splice(l,1);g.push(c);this._condense(g);break}}t||c.leaf||!h(c,d)?k?(e++,c=k.children[e],t=!1):c=null:(g.push(c),f.push(e),e=0,k=c,c=c.children[0])}return this},
toBBox:function(a){return a},compareMinX:n,compareMinY:l,toJSON:function(){return this.data},fromJSON:function(a){this.data=a;return this},_all:function(a,b){for(var c=[];a;)a.leaf?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},_build:function(a,b,c,d){var g=c-b+1,f=this._maxEntries,e;if(g<=f)return e=v(a.slice(b,c+1)),r(e,this.toBBox),e;d||(d=Math.ceil(Math.log(g)/Math.log(f)),f=Math.ceil(g/Math.pow(f,d-1)));e=v([]);e.leaf=!1;e.height=d;var g=Math.ceil(g/f),f=g*Math.ceil(Math.sqrt(f)),
h,k,l;for(z(a,b,c,f,this.compareMinX);b<=c;b+=f)for(k=Math.min(b+f-1,c),z(a,b,k,g,this.compareMinY),h=b;h<=k;h+=g)l=Math.min(h+g-1,k),e.children.push(this._build(a,h,l,d-1));r(e,this.toBBox);return e},_chooseSubtree:function(a,b,d,g){for(var f,h,e,k,l,t,n,v;;){g.push(b);if(b.leaf||g.length-1===d)break;n=v=Infinity;f=0;for(h=b.children.length;f<h;f++)e=b.children[f],l=c(e),t=(Math.max(e.maxX,a.maxX)-Math.min(e.minX,a.minX))*(Math.max(e.maxY,a.maxY)-Math.min(e.minY,a.minY))-l,t<v?(v=t,n=l<n?l:n,k=e):
t===v&&l<n&&(n=l,k=e);b=k||b.children[0]}return b},_insert:function(a,b,c){var d=this.toBBox;c=c?a:d(a);var d=[],g=this._chooseSubtree(c,this.data,b,d);g.children.push(a);for(k(g,c);0<=b;)if(d[b].children.length>this._maxEntries)this._split(d,b),b--;else break;this._adjustParentBBoxes(c,d,b)},_split:function(a,b){var c=a[b],d=c.children.length,g=this._minEntries;this._chooseSplitAxis(c,g,d);d=this._chooseSplitIndex(c,g,d);d=v(c.children.splice(d,c.children.length-d));d.height=c.height;d.leaf=c.leaf;
r(c,this.toBBox);r(d,this.toBBox);b?a[b-1].children.push(d):this._splitRoot(c,d)},_splitRoot:function(a,b){this.data=v([a,b]);this.data.height=a.height+1;this.data.leaf=!1;r(this.data,this.toBBox)},_chooseSplitIndex:function(a,b,d){var g,m,h,e,k,l,n;k=l=Infinity;for(g=b;g<=d-b;g++)m=f(a,0,g,this.toBBox),h=f(a,g,d,this.toBBox),e=Math.max(0,Math.min(m.maxX,h.maxX)-Math.max(m.minX,h.minX))*Math.max(0,Math.min(m.maxY,h.maxY)-Math.max(m.minY,h.minY)),m=c(m)+c(h),e<k?(k=e,n=g,l=m<l?m:l):e===k&&m<l&&(l=
m,n=g);return n},_chooseSplitAxis:function(a,b,c){var d=a.leaf?this.compareMinX:n,g=a.leaf?this.compareMinY:l,f=this._allDistMargin(a,b,c,d);b=this._allDistMargin(a,b,c,g);f<b&&a.children.sort(d)},_allDistMargin:function(a,b,c,d){a.children.sort(d);d=this.toBBox;var m=f(a,0,b,d),h=f(a,c-b,c,d),e=g(m)+g(h),p,l;for(p=b;p<c-b;p++)l=a.children[p],k(m,a.leaf?d(l):l),e+=g(m);for(p=c-b-1;p>=b;p--)l=a.children[p],k(h,a.leaf?d(l):l),e+=g(h);return e},_adjustParentBBoxes:function(a,b,c){for(;0<=c;c--)k(b[c],
a)},_condense:function(a){for(var b=a.length-1,c;0<=b;b--)0===a[b].children.length?0<b?(c=a[b-1].children,c.splice(c.indexOf(a[b]),1)):this.clear():r(a[b],this.toBBox)},_initFormat:function(a){var b=["return a"," - b",";"];this.compareMinX=new Function("a","b",b.join(a[0]));this.compareMinY=new Function("a","b",b.join(a[1]));this.toBBox=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}};return a})},"esri/core/libs/quickselect/quickselect":function(){define([],
function(){function b(f,k,n,l,c){for(;l>n;){if(600<l-n){var g=l-n+1,h=k-n+1,d=Math.log(g),v=.5*Math.exp(2*d/3),d=.5*Math.sqrt(d*v*(g-v)/g)*(0>h-g/2?-1:1);b(f,k,Math.max(n,Math.floor(k-h*v/g+d)),Math.min(l,Math.floor(k+(g-h)*v/g+d)),c)}g=f[k];h=n;v=l;a(f,n,k);for(0<c(f[l],g)&&a(f,n,l);h<v;){a(f,h,v);h++;for(v--;0>c(f[h],g);)h++;for(;0<c(f[v],g);)v--}0===c(f[n],g)?a(f,n,v):(v++,a(f,v,l));v<=k&&(n=v+1);k<=v&&(l=v-1)}}function a(a,b,n){var f=a[b];a[b]=a[n];a[n]=f}function r(a,b){return a<b?-1:a>b?1:0}
return function(a,k,n,l,c){b(a,k,n||0,l||a.length-1,c||r)}})},"esri/layers/graphics/featureConversionUtils":function(){define("require exports ../../core/Error ../../core/Logger ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),function(b,a,r,f,k,n,l){function c(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function g(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function h(a,b){return b*a.scale[0]+a.translate[0]}function d(a,b){return a.translate[1]-b*a.scale[1]}
function v(a){a=a.coords;return{x:a[0],y:a[1]}}function z(a){var b=new l.default;b.coords[0]=a.x;b.coords[1]=a.y;return b}function t(a){a=a.coords;return{x:a[0],y:a[1],z:a[2]}}function B(a){var b=new l.default;b.coords[0]=a.x;b.coords[1]=a.y;b.coords[2]=a.z;return b}function A(a){a=a.coords;return{x:a[0],y:a[1],m:a[2]}}function w(a){var b=new l.default;b.coords[0]=a.x;b.coords[1]=a.y;b.coords[2]=a.m;return b}function m(a){a=a.coords;return{x:a[0],y:a[1],z:a[2],m:a[3]}}function y(a){var b=new l.default;
b.coords[0]=a.x;b.coords[1]=a.y;b.coords[2]=a.z;b.coords[3]=a.m;return b}function e(a,b,c){if(!a)return null;for(var d=b?c?4:3:c?3:2,e=[],g=0;g<a.coords.length;g+=d){for(var f=[],m=0;m<d;m++)f.push(a.coords[g+m]);e.push(f)}return b?c?{points:e,hasZ:b,hasM:c}:{points:e,hasZ:b}:c?{points:e,hasM:c}:{points:e}}function p(a,b,c){if(!a)return null;var d=b?c?4:3:c?3:2,e=a.coords,g=[],f=0,m=0;for(a=a.lengths;m<a.length;m++){for(var h=a[m],k=[],p=0;p<h;p++){for(var l=[],n=0;n<d;n++)l.push(e[f++]);k.push(l)}g.push(k)}return b?
c?{paths:g,hasZ:b,hasM:c}:{paths:g,hasZ:b}:c?{paths:g,hasM:c}:{paths:g}}function x(a,b,c){if(!a)return null;var d=b?c?4:3:c?3:2,e=a.coords,g=[],f=0,m=0;for(a=a.lengths;m<a.length;m++){for(var h=a[m],k=[],p=0;p<h;p++){for(var l=[],n=0;n<d;n++)l.push(e[f++]);k.push(l)}g.push(k)}return b?c?{rings:g,hasZ:b,hasM:c}:{rings:g,hasZ:b}:c?{rings:g,hasM:c}:{rings:g}}function F(a,b,c,d,e,g){a.length=0;if(c){switch(c){case "esriGeometryPoint":c=z;d&&e?c=y:d?c=B:e&&(c=w);for(d=0;d<b.length;d++){var f=b[d];e=f.geometry;
f=f.attributes;e=e?c(e):void 0;a.push(new k.default(e,f,null,f[g]))}break;case "esriGeometryMultipoint":c=d?e?4:3:e?3:2;for(d=0;d<b.length;d++){e=b[d];var m=e.geometry;e=e.attributes;f=void 0;if(m){f=new l.default;f.lengths[0]=m.points.length;for(var h=f.coords,p=0,n=0,m=m.points;n<m.length;n++)for(var t=m[n],v=0;v<c;v++)h[p++]=t[v]}a.push(new k.default(f,e,null,e[g]))}break;case "esriGeometryPolyline":c=d?e?4:3:e?3:2;for(d=0;d<b.length;d++){e=b[d];t=e.geometry;e=e.attributes;f=void 0;if(t)for(f=
new l.default,h=f.lengths,p=f.coords,m=n=0,t=t.paths;m<t.length;m++){for(var v=t[m],x=0,A=v;x<A.length;x++)for(var C=A[x],V=0;V<c;V++)p[n++]=C[V];h.push(v.length)}a.push(new k.default(f,e,null,e[g]))}break;case "esriGeometryPolygon":c=d?e?4:3:e?3:2;for(d=0;d<b.length;d++){f=b[d];v=f.geometry;e=f.centroid;f=f.attributes;h=void 0;if(v)for(h=new l.default,p=h.lengths,n=h.coords,t=m=0,v=v.rings;t<v.length;t++){x=v[t];A=0;for(C=x;A<C.length;A++)for(var V=C[A],q=0;q<c;q++)n[m++]=V[q];p.push(x.length)}e?
a.push(new k.default(h,f,z(e),f[g])):a.push(new k.default(h,f,null,f[g]))}break;default:Y.error("convertToFeatureSet:unknown-geometry",new r("Unable to parse unknown geometry type '"+c+"'")),a.length=0}return a}a.length=0}function G(a,b,c,d,g){a.length=0;switch(c){case "esriGeometryPoint":c=v;g&&d?c=m:g?c=t:d&&(c=A);for(d=0;d<b.length;d++){var f=b[d];g=f.geometry;f=f.attributes;g=g?c(g):null;a.push({attributes:f,geometry:g})}break;case "esriGeometryMultipoint":for(c=0;c<b.length;c++){var h=b[c],f=
h.geometry,h=h.attributes,k=void 0;f&&(k=e(f,d,g));a.push({attributes:h,geometry:k})}break;case "esriGeometryPolyline":for(c=0;c<b.length;c++)h=b[c],f=h.geometry,h=h.attributes,k=void 0,f&&(k=p(f,d,g)),a.push({attributes:h,geometry:k});break;case "esriGeometryPolygon":for(c=0;c<b.length;c++){var k=b[c],h=k.geometry,f=k.attributes,l=k.centroid,k=void 0;h&&(k=x(h,d,g));l?(h=v(l),a.push({attributes:f,centroid:h,geometry:k})):a.push({attributes:f,geometry:k})}break;default:Y.error("convertToFeatureSet:unknown-geometry",
new r("Unable to parse unknown geometry type '"+c+"'"))}return a}function C(a,b,d,e,f,m){a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;f=ma[f];var h=b.coords;b=b.lengths;var k=d?e?4:3:e?3:2;d=d?e?X:H:e?H:U;if(!b.length)return d(a.coords,h,0,0,c(m,h[0]),g(m,h[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=k,a;for(var p,l,n,t=0,y,v=0,x=0;x<b.length;x++){var w=b[x];if(!(w<f)){var z=0;y=v;l=e=c(m,h[t]);n=p=g(m,h[t+1]);d(a.coords,
h,y,t,l,n);z++;t+=k;y+=k;for(var q=1;q<w;q++,t+=k)if(l=c(m,h[t]),n=g(m,h[t+1]),l!==e||n!==p)d(a.coords,h,y,t,l-e,n-p),y+=k,z++,e=l,p=n;z>=f&&(a.lengths.push(z),v=y)}}a.coords.length=v;return a.coords.length?a:null}function O(a,b,c,d,e,g,f){for(var m=f-c,h=0,k=0,p,l=g+c;l<f-c;l+=c){p=b[l];var n=b[l+1],t=b[g],y=b[g+1],v=b[m],x=b[m+1];t===v?p=Math.abs(p-t):(v=(x-y)/(v-t),p=Math.abs(v*p-n+(y-v*t))/Math.sqrt(v*v+1));p>h&&(k=l,h=p)}h>d?(O(a,b,c,d,e,g,k+c),O(a,b,c,d,e,k,f)):(e(a,b,a.length,g,b[g],b[g+1]),
e(a,b,a.length,m,b[m],b[m+1]))}function E(a,b,c,e,g){var f=b.coords,m=b.lengths,k=c?e?X:H:e?H:U;c=c?e?4:3:e?3:2;if(!f.length)return a!==b&&(a.lengths.length=0,a.coords.length=0),a;if(!m.length)return k(a.coords,f,0,0,h(g,f[0]),d(g,f[1])),a!==b&&(a.lengths.length=0,a.coords.length=c),a;var p=g.scale;e=p[0];for(var p=p[1],l=0,n=0;n<m.length;n++){var t=m[n];a.lengths[n]=t;var y=h(g,f[l]),v=d(g,f[l+1]);k(a.coords,f,l,l,y,v);for(var l=l+c,x=1;x<t;x++,l+=c)y+=f[l]*e,v-=f[l+1]*p,k(a.coords,f,l,l,y,v)}a!==
b&&(a.lengths.length=m.length,a.coords.length=f.length);return a}function P(a,b,c,d,e,g){g=e?g?4:3:g?3:2;var f=c,m=c+g,h=0,k=0,p=c=0,l=0,n=0;for(--d;n<d;n++,f+=g,m+=g){var t=b[f],y=b[f+1],v=b[f+2],x=b[m],q=b[m+1],w=b[m+2],z=t*q-x*y,p=p+z,h=h+(t+x)*z,k=k+(y+q)*z;e&&(z=t*w-x*v,c+=(v+w)*z,l+=z);t<a[0]&&(a[0]=t);t>a[1]&&(a[1]=t);y<a[2]&&(a[2]=y);y>a[3]&&(a[3]=y);e&&(v<a[4]&&(a[4]=v),v>a[5]&&(a[5]=v))}0<p&&(p*=-1);0<l&&(l*=-1);if(!p)return null;a=[h,k,.5*p];e&&(a[3]=c,a[4]=.5*l);return a}function da(a,
b,c,d,e){e=d?e?4:3:e?3:2;for(var g=b,f=b+e,m=0,h=0,k=0,p=0,l=0,n=c-1;l<n;l++,g+=e,f+=e){var t=a[g],y=a[g+1],v=a[g+2],x=a[f],q=a[f+1],z=a[f+2],w=d?T(t,y,v,x,q,z):ga(t,y,x,q);w&&(m+=w,d?(t=la(t,y,v,x,q,z),h+=w*t[0],k+=w*t[1],p+=w*t[2]):(t=M(t,y,x,q),h+=w*t[0],k+=w*t[1]))}return 0<m?d?[h/m,k/m,p/m]:[h/m,k/m]:0<c?d?[a[b],a[b+1],a[b+2]]:[a[b],a[b+1]]:null}function ga(a,b,c,d){a=c-a;b=d-b;return Math.sqrt(a*a+b*b)}function T(a,b,c,d,e,g){a=d-a;b=e-b;c=g-c;return Math.sqrt(a*a+b*b+c*c)}function M(a,b,c,
d){return[a+.5*(c-a),b+.5*(d-b)]}function la(a,b,c,d,e,g){return[a+.5*(d-a),b+.5*(e-b),c+.5*(g-c)]}Object.defineProperty(a,"__esModule",{value:!0});var Y=f.getLogger("esri.tasks.support.optimizedFeatureSet"),ma={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},U=function(a,b,c,d,e,g){a[c]=e;a[c+1]=g},H=function(a,b,c,d,e,g){a[c]=e;a[c+1]=g;a[c+2]=b[d+2]},X=function(a,b,c,d,e,g){a[c]=e;a[c+1]=g;a[c+2]=b[d+2];a[c+3]=b[d+3]};a.quantizeX=c;a.quantizeY=g;a.hydrateX=
h;a.hydrateY=d;a.convertToPoint=function(a,b,c){return a?b?c?m(a):t(a):c?A(a):v(a):null};a.convertToMultipoint=e;a.convertToPolyline=p;a.convertToPolygon=x;var J=[],Z=[];a.convertFromFeature=function(a,b,c,d,e){J[0]=a;a=F(Z,J,b,c,d,e)[0];J.length=Z.length=0;return a};a.convertFromFeatures=F;a.convertToFeature=function(a,b,c,d){Z[0]=a;G(J,Z,b,c,d);a=J[0];J.length=Z.length=0;return a};a.convertToFeatures=G;a.convertToFeatureSet=function(a){var b=a.objectIdFieldName,c=a.spatialReference,d=a.transform,
e=a.fields,g=a.hasM,f=a.hasZ,m=a.geometryType,h=a.exceededTransferLimit;a={features:G([],a.features,m,f,g),fields:e,geometryType:m,objectIdFieldName:b,spatialReference:c};d&&(a.transform=d);h&&(a.exceededTransferLimit=h);g&&(a.hasM=g);f&&(a.hasZ=f);return a};a.convertFromFeatureSet=function(a,b){var c=new n.default,d=a.hasM,e=a.hasZ,g=a.features,f=a.objectIdFieldName,m=a.spatialReference,h=a.geometryType,k=a.exceededTransferLimit,p=a.transform;c.fields=a.fields;c.geometryType=h;c.objectIdFieldName=
f||b;c.spatialReference=m;if(!c.objectIdFieldName)return Y.error(new r("optimized-features:invalid-objectIdFieldName","objectIdFieldName is missing")),c;g&&F(c.features,g,h,e,d,c.objectIdFieldName);k&&(c.exceededTransferLimit=k);d&&(c.hasM=d);e&&(c.hasZ=e);p&&(c.transform=p);return c};a.hydrateOptimizedFeatureSet=function(a){var b=a.transform,c=a.hasM,d=a.hasZ;if(!b)return a;for(var e=0,g=a.features;e<g.length;e++){var f=g[e];f.geometry&&E(f.geometry,f.geometry,c,d,b);f.centroid&&E(f.centroid,f.centroid,
c,d,b)}a.transform=null;return a};a.quantizeOptimizedFeatureSet=function(a,b){var c=b.geometryType,d=b.features,e=b.hasM,g=b.hasZ;if("esriGeometryEnvelope"===c)return Y.error(new r("optimized-features:invalid-geometry-type",'FeatureSet with geometry type "'+c+'" is not supported')),b;if(!a)return b;for(var f=0;f<d.length;f++){var m=d[f],h=new k.default(new l.default,m.attributes);C(h.geometry,m.geometry,e,g,c,a);m.centroid&&(h.centroid=new l.default,C(h.centroid,m.centroid,e,g,"esriGeometryPoint",
a));d[f]=h}b.transform=a;return b};a.quantizeOptimizedGeometry=C;a.quantizeOptimizedGeometryRemoveCollinear=function(a,b,d,e,f,m){a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);if(!b||!b.coords.length)return null;f=ma[f];var h=b.coords;b=b.lengths;var k=d?e?4:3:e?3:2;d=d?e?X:H:e?H:U;if(!b.length)return d(a.coords,h,0,0,c(m,h[0]),g(m,h[1])),a.lengths.length&&(a.lengths.length=0),a.coords.length=k,a;for(var p,l,n,t=0,y,v=0,x=0;x<b.length;x++){var w=b[x];if(!(w<f)){var z=
0;y=v;e=p=c(m,h[t]);n=l=g(m,h[t+1]);d(a.coords,h,y,t,e,n);z++;for(var t=t+k,q=!1,A=0,r=0,C=1;C<w;C++,t+=k)if(e=c(m,h[t]),n=g(m,h[t+1]),e!==p||n!==l)p=e-p,l=n-l,q&&(0===A&&0===p||0===r&&0===l)?(A+=p,r+=l):(q=!0,A=p,r=l,y+=k,z++),d(a.coords,h,y,t,A,r),p=e,l=n;q&&(y+=k,d(a.coords,h,y,t,A,r));z>=f&&(a.lengths.push(z),v=y)}}a.coords.length!==v&&(a.coords.length=v);return a.coords.length?a:null};a.generalizeOptimizedGeometry=function(a,b,c,d,e,g){a.lengths.length&&(a.lengths.length=0);a.coords.length&&
(a.coords.length=0);if(!b||!b.coords.length)return null;e=ma[e];var f=b.coords;b=b.lengths;var m=c?d?4:3:d?3:2;c=c?d?X:H:d?H:U;if(!b.length)return c(a.coords,f,0,0,f[0],f[1]),a.lengths.length&&(a.lengths.length=0),a.coords.length=m,a;for(var h=d=0;h<b.length;h++){var k=b[h];if(!(k<e)){var p=a.coords.length/m;O(a.coords,f,m,g,c,d,d+k*m);var l=a.coords.length/m-p;l>=e?a.lengths.push(l):a.coords.length=p*m}d+=k*m}return a.coords.length?a:null};a.getBoundsOptimizedGeometry=function(a,b,c,d){c=c?d?4:3:
d?3:2;var e=d=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,f=Number.NEGATIVE_INFINITY;if(b&&b.coords){b=b.coords;for(var m=0;m<b.length;m+=c){var h=b[m],k=b[m+1];d=Math.min(d,h);g=Math.max(g,h);e=Math.min(e,k);f=Math.max(f,k)}}a[0]=d;a[1]=e;a[2]=g;a[3]=f;return a};a.getQuantizedBoundsOptimizedGeometry=function(a,b,c,d){c=c?d?4:3:d?3:2;d=b.coords;var e=Number.POSITIVE_INFINITY,g=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,m=Number.NEGATIVE_INFINITY,h=0,k=0;for(b=b.lengths;k<b.length;k++)for(var p=
b[k],l=d[h],n=d[h+1],e=Math.min(l,e),g=Math.min(n,g),f=Math.max(l,f),m=Math.max(n,m),h=h+c,t=1;t<p;t++,h+=c){var y=d[h],v=d[h+1],l=l+y,n=n+v;0>y&&(e=Math.min(e,l));0<y&&(f=Math.max(f,l));0>v?g=Math.min(g,n):0<v&&(m=Math.max(m,n))}a[0]=e;a[1]=g;a[2]=f;a[3]=m;return a};a.hydrateOptimizedGeometry=E;a.getCentroidOptimizedGeometry=function(a,b,c,d){if(!b||!b.lengths.length)return null;a.lengths.length&&(a.lengths.length=0);a.coords.length&&(a.coords.length=0);for(var e=a.coords,g=[],f=c?[Number.POSITIVE_INFINITY,
Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],m=b.lengths,h=b.coords,k=c?d?4:3:d?3:2,p=0,l=0;l<m.length;l++){var n=m[l],t=P(f,h,p,n,c,d);t&&g.push(t);p+=n*k}g.sort(function(a,b){var d=a[2]-b[2];0===d&&c&&(d=a[4]-b[4]);return d});g.length&&(k=6*g[0][2],e[0]=g[0][0]/k,e[1]=g[0][1]/k,c&&(k=6*g[0][4],e[2]=0!==k?g[0][3]/k:
0),e[0]<f[0]||e[0]>f[1]||e[1]<f[2]||e[1]>f[3]||c&&(e[2]<f[4]||e[2]>f[5]))&&(e.length=0);if(!e.length)if(b=b.lengths[0]?da(h,0,m[0],c,d):null)e[0]=b[0],e[1]=b[1],c&&2<b.length&&(e[2]=b[2]);else return null;return a};a.lineCentroid=da;a.getLength2D=ga;a.getLength3D=T;a.getMidpoint2D=M;a.getMidpoint3D=la})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(){this.spatialReference=
this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1}}();a.default=b})},"esri/layers/graphics/data/QueryEngine":function(){define("require exports ../../../core/tsSupport/assignHelper @dojo/framework/shim/Map @dojo/framework/shim/Set ../../../geometry ../../../core/Error ../../../core/Logger ../../../core/promiseUtils ../../../geometry/projection ../../../geometry/support/aaBoundingRect ../../../geometry/support/normalizeUtils ../../../geometry/support/scaleUtils ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/spatialReferenceUtils ./attributeSupport ./projectionSupport ./QueryEngineCapabilities ./QueryEngineResult ./SpatialQueryCache ./spatialQuerySupport ./utils ../../../tasks/support/Query".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y,e,p,x,F){function G(a){return a?JSON.parse(JSON.stringify(a,["latestWkid","wkid","wkt"])):a}function C(a,b,c,d,e,g,f,m){f&&!g?d.forEachFeatureInBounds(e,function(b){a.push({attributes:b.attributes,centroid:x.getCentroid(c,b,m)})}):g&&!f?d.forEachFeatureInBounds(e,function(d){b.add(d.objectId);a.push(new E(d.attributes,x.getGeometry(c,d,0,m)))}):d.forEachFeatureInBounds(e,function(d){b.add(d.objectId);a.push(new E(d.attributes,x.getGeometry(c,d,0,m),x.getCentroid(c,
d,m)))})}Object.defineProperty(a,"__esModule",{value:!0});var O=c.getLogger("esri.layers.graphics.data.QueryEngine"),E=function(){return function(a,b,c){this.attributes=a;this.geometry=b;this.centroid=c}}(),P={},da=new k.default;b=function(){function a(a){var b=this;this.capabilities={query:m.queryCapabilities};this.fieldsMap=new f.default;this.geometryType=a.geometryType;this.hasM=a.hasM;this.hasZ=a.hasZ;this.objectIdField=a.objectIdField;this.spatialReference=a.spatialReference;this.definitionExpression=
a.definitionExpression;this.cacheSpatialQueries=a.cacheSpatialQueries||!1;this.gdbVersion=a.gdbVersion;this.historicMoment=a.historicMoment;this.spatialIndex=a.spatialIndex;this.spatialIndex.setEngine(this);this.timeInfo=a.timeInfo;this.cacheSpatialQueries&&(this._geometryQueryCache=new e.default);a.fields.forEach(function(a){b.fieldsMap.set(a.name.trim(),a);b.fieldsMap.set(a.name.trim().toLowerCase(),a)})}a.prototype.destroy=function(){this.clearCache();this.fieldsMap.clear()};Object.defineProperty(a.prototype,
"fullExtent",{get:function(){var a=this.spatialIndex.fullBounds;return a?{xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:G(this.spatialReference)}:null},enumerable:!0,configurable:!0});a.prototype.clearCache=function(){this._geometryQueryCache&&this._geometryQueryCache.clear();this._allItems=null};a.prototype.executeQuery=function(a){var b=this;void 0===a&&(a=new F);var c=a.clone();return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).catch(function(a){if(a===
P)return new y.default([],b);throw a;}).then(function(a){return a.createQueryResponse(c)})};a.prototype.executeQueryForCount=function(a){var b=this;void 0===a&&(a=new F);var c=a.clone();c.returnGeometry=!1;c.returnCentroid=!1;c.outSpatialReference=null;return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).then(function(a){return a.size}).catch(function(a){if(a===
P)return 0;throw a;})};a.prototype.executeQueryForExtent=function(a){var b=this;void 0===a&&(a=new F);var c=a.clone(),d=c.outSpatialReference;return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(){c.returnGeometry=!0;c.returnCentroid=!1;c.outSpatialReference=null;return c}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).then(function(a){var c=a.size;
if(!c)return{count:c,extent:null};var e={xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:G(b.spatialReference)};b.spatialIndex.forEachBounds(a.items,function(a){e.xmin=Math.min(a[0],e.xmin);e.ymin=Math.min(a[1],e.ymin);e.xmax=Math.max(a[2],e.xmax);e.ymax=Math.max(a[3],e.ymax)});a=w.project(e,a.spatialReference,d);a.spatialReference=G(d&&d.toJSON()||b.spatialReference);if(0===a.xmax-a.xmin){var g=z.getMetersPerUnitForSR(a.spatialReference);
a.xmin-=g;a.xmax+=g}0===a.ymax-a.ymin&&(g=z.getMetersPerUnitForSR(a.spatialReference),a.ymin-=g,a.ymax+=g);return{count:c,extent:a}}).catch(function(a){if(a===P)return{count:0,extent:null};throw a;})};a.prototype.executeQueryForIds=function(a){var b=this;void 0===a&&(a=new F);var c=a.clone();c.returnGeometry=!1;c.returnCentroid=!1;c.outSpatialReference=null;return this._normalizeQuery(c).then(function(a){return b._checkQuerySupport(a)}).then(function(a){return b._executeGeometryQuery(a)}).then(function(a){return a.executeObjectIdsQuery(c)}).then(function(a){return a.executeAttributesQuery(c)}).then(function(a){a=
a.items;for(var b=[],c=0;c<a.length;c++)b[c]=a[c].objectId;return b}).catch(function(a){if(a===P)return[];throw a;})};a.prototype.executeTileQuery=function(a,b){var c=this,e=b.returnGeometry,g=b.returnCentroid,f=b.pixelBuffer;b=new k.default;var m=[],f=f*a.resolution,h=d.pad(a.bounds,f,d.create());C(m,b,this,this.spatialIndex,h,e,g,{originPosition:"upperLeft",scale:[a.resolution,a.resolution],translate:[a.bounds[0],a.bounds[3]]});if("esriGeometryPoint"===this.geometryType||g){var p=t.getInfo(this.spatialReference);
if(p){var l=p.valid,p=l[0],l=l[1];if(h[0]<p){var n=d.fromValues(l-f,h[1],l,h[3]);C(m,b,this,this.spatialIndex,n,e,g,{originPosition:"upperLeft",scale:[a.resolution,a.resolution],translate:[l,a.bounds[3]]})}h[2]>l&&(f=d.fromValues(p,h[1],p+f,h[3]),C(m,b,this,this.spatialIndex,f,e,g,{originPosition:"upperLeft",scale:[a.resolution,a.resolution],translate:[p-l+a.bounds[0],a.bounds[3]]}))}}m.sort(function(a,b){return a.attributes[c.objectIdField]-b.attributes[c.objectIdField]});return{features:m,objectIds:b}};
a.prototype.executeTileQueryForIds=function(a,b){a=d.pad(a.bounds,b.pixelBuffer*a.resolution,d.create());return this.spatialIndex.mapFeaturesInBounds(a,function(a){return a.objectId})};a.prototype.executeQueryForLatestObservations=function(a){var b=this;if(this.timeInfo)return this.executeQuery(a).then(function(a){return b._filterLatest(a,b.timeInfo)});O.error(new l("invalid-query","Unable to make time-based query as the underlying service does include TimeInfo"))};a.prototype._filterLatest=function(a,
b){var c=b.trackIdField,d=b.startTimeField;b=b.endTimeField||d;for(var d=new f.default,e=[],g=0,m=a.features;g<m.length;g++){var h=m[g],k=h.attributes[c],p=h.attributes[b];(!d.has(k)||d.get(k).attributes[b]<p)&&d.set(k,h)}d.forEach(function(a){return e.push(a)});return r({},a,{features:e})};a.prototype._getAll=function(){this._allItems||(this._allItems=new y.default(this.spatialIndex.getAllFeatures(),this));return this._allItems};a.prototype._normalizeQuery=function(a){var b=this,c=this.definitionExpression,
d=a.where,e=a.geometry,f=a.outFields,m=a.orderByFields,h=a.groupByFieldsForStatistics,k=a.outStatistics;a.where=d=d&&d.trim();if(!d||/^1 *= *1$/.test(d)||c&&c===d)a.where=null;if(f)for(c=0;c<f.length;c++)f[c]=f[c].trim();if(m)for(c=0;c<m.length;c++)m[c]=m[c].trim();if(h)for(c=0;c<h.length;c++)h[c]=h[c].trim();if(k)for(c=0;c<k.length;c++)k[c].onStatisticField=k[c].onStatisticField.trim();if(!e)return g.resolve(a);a.outSpatialReference||(a.outSpatialReference=e.spatialReference);return this._getInputGeometry(a).then(function(b){return a.geometry=
b}).then(function(a){return w.checkProjectionSupport(a.spatialReference,b.spatialReference)}).then(function(){return v.normalizeCentralMeridian(a.geometry)}).then(function(a){return w.project(a[0].toJSON(),a[0].spatialReference,b.spatialReference)}).then(function(c){if(!c)throw P;c.spatialReference=b.spatialReference;return a.read({geometry:c})})};a.prototype._executeGeometryQuery=function(a){var b=this,c=a.geometry,d=a.outSpatialReference,e=a.spatialRelationship,f=d&&!B.equals(this.spatialReference,
d),m=f?JSON.stringify({geometry:c,spatialRelationship:e,outSpatialReference:d}):JSON.stringify({geometry:c,spatialRelationship:e});if(this.cacheSpatialQueries&&this._geometryQueryCache.size&&this._geometryQueryCache.has(m))return g.resolve(this._geometryQueryCache.get(m));var h=null;if(c){var k=this._searchSpatialIndex(this._getQueryBBoxes(c));if(!k.length)return c=new y.default([],this),this.cacheSpatialQueries&&this._geometryQueryCache.set(m,c),g.resolve(c);h="envelope-intersects"===a.spatialRelationship||
"esriGeometryPoint"===this.geometryType&&p.canQueryWithRBush(c)?g.resolve(new y.default(k,this)):p.getSpatialQueryOperator(e,c,this.geometryType).then(function(a){if(a){var c=k.filter(function(c){return a(x.getGeometry(b,c))});return new y.default(c,b)}})}else h=g.resolve(this._getAll());return h.then(function(c){if(f&&(a.returnGeometry||a.returnCentroid))return c.project(d).then(function(a){b.cacheSpatialQueries&&b._geometryQueryCache.set(m,a);return a});b.cacheSpatialQueries&&b._geometryQueryCache.set(m,
c);return c})};a.prototype._getInputGeometry=function(a){var b=a.geometry,c=a.distance,d=a.units;if(null==c)return g.resolve(b);a=b.spatialReference;var e=d||z.getUnitString(a),d=null,d=a&&(a.isGeographic||a.isWebMercator)?g.resolve(b):w.checkProjectionSupport(a,n.SpatialReference.WGS84).then(function(){return h.project(b,n.SpatialReference.WGS84)});return d.then(function(a){return p.getGeodesicBufferOperator().then(function(b){return b(a,c,e)})})};a.prototype._getQueryBBoxes=function(a){if("point"===
a.type)return[d.fromValues(a.x,a.y,a.x,a.y)];a=p.canQueryWithRBush(a)?a:a.extent;switch(a.type){case "extent":return[d.fromExtent(a)];case "polygon":return a.rings.map(function(a){return d.fromValues(a[0][0],a[0][1],a[2][0],a[2][1])})}};a.prototype._searchSpatialIndex=function(a){for(var b=[],c=0;c<a.length;c++)this.spatialIndex.forEachFeatureInBounds(a[c],function(a){da.has(a)||(b.push(a),da.add(a))});da.clear();return b};a.prototype._checkQuerySupport=function(a){return 0>a.distance||null!=a.geometryPrecision||
a.multipatchOption||a.pixelSize||a.relationParameter||a.text||a.timeExtent?g.reject(new l("feature-store:unsupported-query","Unsupported query options",{query:a})):g.all([this._checkAttributesQuerySupport(a),this._checkStatisticsQuerySupport(a),p.checkSpatialQuerySupport(a,this.geometryType,this.spatialReference),w.checkProjectionSupport(this.spatialReference,a.outSpatialReference)]).then(function(){return a})};a.prototype._checkAttributesQuerySupport=function(a){var b=a.outFields,c=a.orderByFields,
d=a.returnDistinctValues;c&&0<c.length&&(c=c.map(function(a){return-1<a.indexOf(" ASC")?a.split(" ASC")[0]:-1<a.indexOf(" DESC")?a.split(" DESC")[0]:a}),A.validateFields(this.fieldsMap,c,"orderByFields contains missing fields"));if(b&&0<b.length)A.validateFields(this.fieldsMap,b,"outFields contains missing fields");else if(d)throw new l("feature-store:unsupported-query","outFields should be specified for returnDistinctValues",{query:a});A.validateWhere(this.fieldsMap,a.where)};a.prototype._checkStatisticsQuerySupport=
function(a){var b=a.outStatistics,c=a.groupByFieldsForStatistics,d=a.having,e=c&&c.length,f=b&&b.length;if(d){if(!e||!f)return g.reject(new l("feature-store:unsupported-query","outStatistics and groupByFieldsForStatistics should be specified with having",{query:a}));A.validateHaving(this.fieldsMap,d,b)}if(f)for(d=b.map(function(a){return a.onStatisticField.trim()}),A.validateFields(this.fieldsMap,d,"onStatisticFields contains missing fields"),e&&A.validateFields(this.fieldsMap,c,"groupByFieldsForStatistics contains missing fields"),
c=0;c<b.length;c++){var d=b[c],f=d.onStatisticField,m=d.statisticType;if((!e||"count"!==m)&&A.hasInvalidFieldType(f,this.fieldsMap))return g.reject(new l("feature-store:unsupported-query","outStatistics contains non-numeric fields",{definition:d,query:a}))}};return a}();a.default=b})},"esri/geometry/support/normalizeUtils":function(){define("require exports ../../config ../../core/Error ../../core/Logger ../../core/promiseUtils ../Polygon ../Polyline ../SpatialReference ./spatialReferenceUtils ./webMercatorUtils ../../tasks/GeometryService".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v){function z(a){return"polygon"===a.type?a.rings:a.paths}function t(a,b){return Math.ceil((a-b)/(2*b))}function B(a,b){for(var c=0,d=z(a);c<d.length;c++)for(var e=0,g=d[c];e<g.length;e++)g[e][0]+=b;return a}function A(a){for(var b=[],c=0,d=0,e=0;e<a.length;e++){for(var g=a[e],f=null,m=0;m<g.length;m++)f=g[m],b.push(f),0===m?d=c=f[0]:(c=Math.min(c,f[0]),d=Math.max(d,f[0]));f&&b.push([(c+d)/2,0])}return b}function w(a,b){if(!(a instanceof c||a instanceof l))throw x.error("straightLineDensify: the input geometry is neither polyline nor polygon"),
new f("straightLineDensify: the input geometry is neither polyline nor polygon");for(var d=[],e=0,g=z(a);e<g.length;e++){var m=g[e],h=[];d.push(h);h.push([m[0][0],m[0][1]]);for(var k=0;k<m.length-1;k++){var p=m[k][0],n=m[k][1],t=m[k+1][0],y=m[k+1][1],v=Math.sqrt((t-p)*(t-p)+(y-n)*(y-n)),w=(y-n)/v,A=(t-p)/v,r=v/b;if(1<r){for(var C=1;C<=r-1;C++){var B=C*b;h.push([A*B+p,w*B+n])}v=(v+Math.floor(r-1)*b)/2;h.push([A*v+p,w*v+n])}h.push([t,y])}}return"polygon"===a.type?new l({rings:d,spatialReference:a.spatialReference}):
new c({paths:d,spatialReference:a.spatialReference})}function m(a,b,c){b&&(a=w(a,1E6),a=d.webMercatorToGeographic(a,!0));c&&(a=B(a,c));return a}function y(a,b,c){if(Array.isArray(a)){var d=a[0];if(d>b){var e=t(d,b);a[0]=d+-2*e*b}else d<c&&(e=t(d,c),a[0]=d+-2*e*c)}else d=a.x,d>b?(e=t(d,b),a=a.clone().offset(-2*e*b,0)):d<c&&(e=t(d,c),a=a.clone().offset(-2*e*c,0));return a}function e(a,b){for(var c=-1,d=function(d){var e=b.cutIndexes[d],g=b.geometries[d],f=z(g);d=function(a){var b=f[a];b.some(function(c){if(!(180>
c[0])){for(var d=c=0;d<b.length;d++){var e=b[d][0];c=e>c?e:c}c=Number(c.toFixed(9));c=-360*t(c,180);for(d=0;d<b.length;d++)e=g.getPoint(a,d),g.setPoint(a,d,e.clone().offset(c,0))}return!0})};for(var m=0;m<f.length;m++)d(m);if(e===c)if("polygon"===a[0].type)for(d=0,m=z(g);d<m.length;d++)a[e]=a[e].addRing(m[d]);else{if("polyline"===a[0].type)for(d=0,m=z(g);d<m.length;d++)a[e]=a[e].addPath(m[d])}else c=e,a[e]=g},e=0;e<b.cutIndexes.length;e++)d(e);return a}function p(a,b,g){if(!Array.isArray(a))return p([a],
b);b||(G||(G=new v({url:r.geometryServiceUrl})),b=G);for(var f,k,x,w,z,A,C,E=0,O=[],H=[],X=0;X<a.length;X++){var J=a[X];if(J)if(f||(f=J.spatialReference,k=h.getInfo(f),A=(x=f.isWebMercator)?102100:4326,w=F[A].maxX,z=F[A].minX,C=F[A].plus180Line,A=F[A].minus180Line),k)if("mesh"===J.type)H.push(J);else if("point"===J.type)H.push(y(J.clone(),w,z));else if("multipoint"===J.type)J=J.clone(),J.points=J.points.map(function(a){return y(a,w,z)}),H.push(J);else if("extent"===J.type){var Z=J.clone(),J=Z._normalize(!1,
!1,k);H.push(J.rings?new l(J):J)}else if(J.extent){var Z=J.extent,W=2*t(Z.xmin,z)*w,J=0===W?J.clone():B(J.clone(),W);Z.offset(W,0);Z.intersects(C)&&Z.xmax!==w?(E=Z.xmax>E?Z.xmax:E,J=m(J,x),O.push(J),H.push("cut")):Z.intersects(A)&&Z.xmin!==z?(E=2*Z.xmax*w>E?2*Z.xmax*w:E,J=m(J,x,360),O.push(J),H.push("cut")):H.push(J)}else H.push(J.clone());else H.push(J);else H.push(J)}f=t(E,w);k=-90;C=f;for(E=new c;0<f;)X=-180+360*f,E.addPath([[X,k],[X,-1*k]]),k*=-1,f--;if(0<O.length&&0<C)return b.cut(O,E,g).then(function(a){return e(O,
a)}).then(function(c){for(var e=[],f=[],m=0;m<H.length;m++){var h=H[m];if("cut"!==h)f.push(h);else{var h=c.shift(),k=a[m];"polygon"===k.type&&k.rings&&1<k.rings.length&&h.rings.length>=k.rings.length?(e.push(h),f.push("simplify")):f.push(x?d.geographicToWebMercator(h):h)}}return e.length?b.simplify(e,g).then(function(a){for(var b=[],c=0;c<f.length;c++){var e=f[c];"simplify"!==e?b.push(e):b.push(x?d.geographicToWebMercator(a.shift()):a.shift())}return b}):f});f=[];for(k=0;k<H.length;k++)C=H[k],"cut"!==
C?f.push(C):(C=O.shift(),f.push(!0===x?d.geographicToWebMercator(C):C));return n.resolve(f)}Object.defineProperty(a,"__esModule",{value:!0});var x=k.getLogger("esri.geometry.support.normalizeUtils"),F={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new c({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:g.WebMercator}),minus180Line:new c({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,
2.0037508342788905E7]]],spatialReference:g.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new c({paths:[[[180,-180],[180,180]]],spatialReference:g.WebMercator}),minus180Line:new c({paths:[[[-180,-180],[-180,180]]],spatialReference:g.WebMercator})}};a.straightLineDensify=w;var G;a.normalizeCentralMeridian=p;a.getDenormalizedExtent=function(a){var b;if(!a)return null;var c=a.extent;if(!c)return null;var d=a.spatialReference&&h.getInfo(a.spatialReference);if(!d)return c;var d=d.valid,e=d[0],d=d[1],
g=c.width,f=c.xmin;b=c.xmax;b=[b,f];f=b[0];b=b[1];if("extent"===a.type||0===g||g<=d||g>2*d||f<e||b>d)return c;var m;switch(a.type){case "polygon":if(1<a.rings.length)m=A(a.rings);else return c;break;case "polyline":if(1<a.paths.length)m=A(a.paths);else return c;break;case "multipoint":m=a.points}a=c.clone();for(e=0;e<m.length;e++){var k=m[e][0];0>k?(k+=d,b=Math.max(k,b)):(k-=d,f=Math.min(k,f))}a.xmin=f;a.xmax=b;return a.width<g?(a.xmin-=d,a.xmax-=d,a):c}})},"esri/tasks/GeometryService":function(){define("../core/lang ../core/kebabDictionary ../core/accessorSupport/ensureType ../geometry/Extent ../geometry/Multipoint ../geometry/Polyline ../geometry/Polygon ../geometry/support/jsonUtils ../request ./Task ./support/ProjectParameters".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d){var v=a({MGRS:"mgrs",USNG:"usng",UTM:"utm",GeoRef:"geo-ref",GARS:"gars",DMS:"dms",DDM:"ddm",DD:"dd"}),z=r.ensureType(d);a=h.createSubclass({declaredClass:"esri.tasks.GeometryService",areasAndLengths:function(a,c){a={query:b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON())};if(this.requestOptions||c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/areasAndLengths",a).then(function(a){return a.data})},autoComplete:function(a,c,d){var f=a[0].spatialReference;
a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(f.toJSON()),polygons:JSON.stringify(this._encodeGeometries(a).geometries),polylines:JSON.stringify(this._encodeGeometries(c).geometries)})};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/autoComplete",a).then(function(a){return(a.data.geometries||[]).map(function(a){return new l({spatialReference:f,rings:a.rings})})})},buffer:function(a,c){var d=b.mixin({},this.parsedUrl.query,{f:"json"},
a.toJSON()),f=a.outSpatialReference||a.geometries[0].spatialReference;a={query:d};if(this.requestOptions||c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/buffer",a).then(function(a){return(a.data.geometries||[]).map(function(a){return new l({spatialReference:f,rings:a.rings})})})},cut:function(a,d,f){var h=a[0].spatialReference,m=a.map(function(a){return a.toJSON()});a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),target:JSON.stringify({geometryType:c.getJsonType(a[0]),
geometries:m}),cutter:JSON.stringify(d.toJSON())})};if(this.requestOptions||f)a=b.mixin({},this.requestOptions,f,a);return g(this.parsedUrl.path+"/cut",a).then(function(a){a=a.data;return{cutIndexes:a.cutIndexes,geometries:(a.geometries||[]).map(function(a){return c.fromJSON(a).set("spatialReference",h)})}})},convexHull:function(a,d){var f=a[0].spatialReference;a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(f.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a))})};
if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/convexHull",a).then(function(a){return c.fromJSON(a.data.geometry).set("spatialReference",f)})},densify:function(a,d){var f=b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),h=a.geometries[0].spatialReference;a={query:f};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/densify",a).then(function(a){return(a.data.geometries||[]).map(function(a){return c.fromJSON(a).set("spatialReference",
h)})})},difference:function(a,d,f){var h=a[0].spatialReference;a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a)),geometry:JSON.stringify({geometryType:c.getJsonType(d),geometry:d.toJSON()})})};if(this.requestOptions||f)a=b.mixin({},this.requestOptions,f,a);return g(this.parsedUrl.path+"/difference",a).then(function(a){return(a.data.geometries||[]).map(function(a){return c.fromJSON(a).set("spatialReference",h)})})},
distance:function(a,c){a={query:b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON())};if(this.requestOptions||c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/distance",a).then(this._handleDistanceResponse)},fromGeoCoordinateString:function(a,c){var d={};d.sr=null!=a.sr&&"object"===typeof a.sr?a.sr.wkid||JSON.stringify(a.sr):a.sr;d.strings=JSON.stringify(a.strings);d.conversionType=v.toJSON(a.conversionType||"mgrs");d.conversionMode=a.conversionMode;a={query:b.mixin({},this.parsedUrl.query,
{f:"json"},d)};if(this.requestOptions||c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/fromGeoCoordinateString",a).then(this._handleFromGeoCoordinateResponse)},generalize:function(a,d){var f=b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),h=a.geometries[0].spatialReference;a={query:f};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/generalize",a).then(function(a){return(a.data.geometries||[]).map(function(a){return c.fromJSON(a).set("spatialReference",
h)})})},intersect:function(a,d,f){var h=a[0].spatialReference;a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a)),geometry:JSON.stringify({geometryType:c.getJsonType(d),geometry:d.toJSON()})})};if(this.requestOptions||f)a=b.mixin({},this.requestOptions,f,a);return g(this.parsedUrl.path+"/intersect",a).then(function(a){return(a.data.geometries||[]).map(function(a){return c.fromJSON(a).set("spatialReference",h)})})},lengths:function(a,
c){a={query:b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON())};if(this.requestOptions||c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/lengths",a).then(function(a){return a.data})},labelPoints:function(a,d){var f=a.map(function(a){return a.toJSON()}),h=a[0].spatialReference;a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:h.wkid?h.wkid:JSON.stringify(h.toJSON()),polygons:JSON.stringify(f)})};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+
"/labelPoints",a).then(function(a){return(a.data.labelPoints||[]).map(function(a){return c.fromJSON(a).set("spatialReference",h)})})},offset:function(a,d){var f=b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),h=a.geometries[0].spatialReference;a={query:f};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/offset",a).then(function(a){return(a.data.geometries||[]).map(function(a){return c.fromJSON(a).set("spatialReference",h)})})},project:function(a,
d){a=z(a);var f=b.mixin({},a.toJSON(),this.parsedUrl.query,{f:"json"}),h=a.outSpatialReference,m=c.getJsonType(a.geometries[0]),k=this._decodeGeometries;a={query:f};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/project",a).then(function(a){return k(a.data,m,h)})},relation:function(a,c){a={query:b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON())};if(this.requestOptions||c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/relation",
a).then(this._handleRelationResponse)},reshape:function(a,d,f){var h=a.spatialReference;a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(h.toJSON()),target:JSON.stringify({geometryType:c.getJsonType(a),geometry:a.toJSON()}),reshaper:JSON.stringify(d.toJSON())})};if(this.requestOptions||f)a=b.mixin({},this.requestOptions,f,a);return g(this.parsedUrl.path+"/reshape",a).then(function(a){return c.fromJSON(a.data.geometry).set("spatialReference",h)})},simplify:function(a,d){var f=a[0].spatialReference,
h=b.mixin({},this.parsedUrl.query,{f:"json",sr:f.wkid?f.wkid:JSON.stringify(f.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a))}),m=c.getJsonType(a[0]),k=this._decodeGeometries;a={query:h};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/simplify",a).then(function(a){return k(a.data,m,f)})},toGeoCoordinateString:function(a,c){var d={};d.sr=null!=a.sr&&"object"===typeof a.sr?a.sr.wkid||JSON.stringify(a.sr):a.sr;d.coordinates=JSON.stringify(a.coordinates);
d.conversionType=v.toJSON(a.conversionType||"mgrs");d.conversionMode=a.conversionMode;d.numOfDigits=a.numOfDigits;d.rounding=a.rounding;d.addSpaces=a.addSpaces;a={query:b.mixin({},this.parsedUrl.query,{f:"json"},d)};if(this.requestOptions||c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/toGeoCoordinateString",a).then(this._handleToGeoCoordinateResponse)},trimExtend:function(a,c){var d=b.mixin({},this.parsedUrl.query,{f:"json"},a.toJSON()),f=a.sr;a={query:d};if(this.requestOptions||
c)a=b.mixin({},this.requestOptions,c,a);return g(this.parsedUrl.path+"/trimExtend",a).then(function(a){return(a.data.geometries||[]).map(function(a){return new n({spatialReference:f,paths:a.paths})})})},union:function(a,d){var f=a[0].spatialReference;a={query:b.mixin({},this.parsedUrl.query,{f:"json",sr:JSON.stringify(f.toJSON()),geometries:JSON.stringify(this._encodeGeometries(a))})};if(this.requestOptions||d)a=b.mixin({},this.requestOptions,d,a);return g(this.parsedUrl.path+"/union",a).then(function(a){return c.fromJSON(a.data.geometry).set("spatialReference",
f)})},_handleRelationResponse:function(a){return a.data.relations},_handleDistanceResponse:function(a){return(a=a.data)&&a.distance},_handleToGeoCoordinateResponse:function(a){return a.data.strings},_handleFromGeoCoordinateResponse:function(a){return a.data.coordinates},_encodeGeometries:function(a){var b=[],d,g=a.length;for(d=0;d<g;d++)b.push(a[d].toJSON());return{geometryType:c.getJsonType(a[0]),geometries:b}},_decodeGeometries:function(a,d,g){var f=c.getGeometryType(d);a=a.geometries;var m=[],
h={spatialReference:g.toJSON()},e=b.mixin;a.forEach(function(a,b){m[b]=new f(e(a,h))});return m},_toProjectGeometry:function(a){var b=a.spatialReference.toJSON();return a instanceof f?new l({rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]],spatialReference:b}):new n({paths:[[].concat(a.points)],spatialReference:b})},_fromProjectedGeometry:function(a,b,c){return"extent"===b?(a=a.rings[0],new f(a[0][0],a[0][1],a[2][0],a[2][1],c)):new k({points:a.paths[0],spatialReference:c.toJSON()})}});
b.mixin(a,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,
UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,
UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,
UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});return a})},"esri/tasks/Task":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/tsSupport/assignHelper ../core/Accessor ../core/urlUtils ../core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n,l,c,g){return function(a){function b(b){b=a.call(this)||this;b.requestOptions=null;b.url=null;return b}r(b,a);b.prototype.normalizeCtorArgs=function(a,b){return"string"!==typeof a?a:n({url:a},b)};Object.defineProperty(b.prototype,"parsedUrl",{get:function(){return this._parseUrl(this.url)},enumerable:!0,configurable:!0});b.prototype._parseUrl=function(a){return a?c.urlToObject(a):null};b.prototype._encode=function(a,b,c){var d={},g;for(g in a)if("declaredClass"!==g){var f=a[g];
if(null!=f&&"function"!==typeof f)if(Array.isArray(f)){d[g]=[];for(var m=0;m<f.length;m++)d[g][m]=this._encode(f[m])}else"object"===typeof f?f.toJSON&&(f=f.toJSON(c&&c[g]),d[g]=b?f:JSON.stringify(f)):d[g]=f}return d};f([g.property({readOnly:!0,dependsOn:["url"]})],b.prototype,"parsedUrl",null);f([g.property()],b.prototype,"requestOptions",void 0);f([g.property({type:String})],b.prototype,"url",void 0);return b=f([g.subclass("esri.tasks.Task")],b)}(g.declared(l))})},"esri/tasks/support/ProjectParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/Logger ../../core/accessorSupport/decorators ../../geometry/support/jsonUtils".split(" "),
function(b,a,r,f,k,n,l,c){var g=n.getLogger("esri.tasks.support.ProjectParameters");return function(a){function b(b){b=a.call(this)||this;b.geometries=null;b.outSpatialReference=null;b.transformation=null;b.transformForward=null;return b}r(b,a);Object.defineProperty(b.prototype,"outSR",{get:function(){g.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead.");return this.outSpatialReference},set:function(a){g.warn("ProjectParameters.outSR is deprecated. Use outSpatialReference instead.");
this.outSpatialReference=a},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){var a=this.geometries.map(function(a){return a.toJSON()}),b=this.geometries[0],d={};d.outSR=this.outSpatialReference.wkid||JSON.stringify(this.outSpatialReference.toJSON());d.inSR=b.spatialReference.wkid||JSON.stringify(b.spatialReference.toJSON());d.geometries=JSON.stringify({geometryType:c.getJsonType(b),geometries:a});this.transformation&&(d.transformation=this.transformation.wkid||JSON.stringify(this.transformation));
null!=this.transformForward&&(d.transformForward=this.transformForward);return d};f([l.property()],b.prototype,"geometries",void 0);f([l.property({json:{read:{source:"outSR"}}})],b.prototype,"outSpatialReference",void 0);f([l.property({json:{read:!1}})],b.prototype,"outSR",null);f([l.property()],b.prototype,"transformation",void 0);f([l.property()],b.prototype,"transformForward",void 0);return b=f([l.subclass("esri.tasks.support.ProjectParameters")],b)}(l.declared(k))})},"esri/geometry/support/scaleUtils":function(){define("require exports ../../config ../../core/kebabDictionary ../../core/wgs84Constants ./WKIDUnitConversion".split(" "),
function(b,a,r,f,k,n){function l(a){return t.fromJSON(a.toLowerCase())||null}function c(b){return g(b)||a.decDegToMeters}function g(a){var b,c,d;a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=z.values[z[b]]:c&&-1!==c.search(/^PROJCS/i)&&(a=v.exec(c))&&a[1]&&(d=parseFloat(a[1].split(",")[1]));return d}function h(a){var b,c,d;a&&("object"===typeof a?(b=a.wkid,c=a.wkt):"number"===typeof a?b=a:"string"===typeof a&&(c=a));b?d=z.units[z[b]]:c&&-1!==c.search(/^PROJCS/i)&&
(a=v.exec(c))&&a[1]&&(d=(a=/[\\"\\']{1}([^\\"\\']+)/.exec(a[1]))&&a[1]);return d?l(d):null}function d(b,d){d=c(d);return b/(d*a.inchesPerMeter*r.screenDPI)}Object.defineProperty(a,"__esModule",{value:!0});a.inchesPerMeter=39.37;a.decDegToMeters=k.wgs84Radius*Math.PI/180;var v=/UNIT\[([^\]]+)\]\]$/i,z=n,t=f.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",
chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});a.unitFromRESTJSON=l;a.unitToRESTJSON=function(a){return t.toJSON(a)||null};a.getMetersPerVerticalUnitForSR=function(a){a=c(a);return 1E5<a?1:a};a.getVerticalUnitStringForSR=function(a){return 1E5<c(a)?"meters":h(a)};a.getMetersPerUnitForSR=
c;a.getMetersPerUnit=g;a.getUnitString=h;a.getDefaultUnitSystem=function(a){if(!a)return null;switch(h(a)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};a.getScale=function(b,
c){c=c||b.extent;b=b.width;var d=g(c&&c.spatialReference);return c&&b?c.width/b*(d||a.decDegToMeters)*a.inchesPerMeter*r.screenDPI:0};a.getResolutionForScale=d;a.getExtentForScale=function(a,b){var c=a.extent;a=a.width;b=d(b,c.spatialReference);return c.clone().expand(b*a/c.width)}})},"esri/layers/graphics/data/attributeSupport":function(){define("require exports @dojo/framework/shim/Set ../../../core/Error ../../../core/LRUCache ../../../core/LRUMap ../../../core/sql/WhereClause".split(" "),function(b,
a,r,f,k,n,l){function c(b){if(!b)return null;if(a.invalidClauseCache.has(b))return a.invalidClauseCache.use(b);if(a.whereClausesCache.has(b))return a.whereClausesCache.get(b);var c;c=l.create(b);a.whereClausesCache.set(b,c);return c}function g(a,b,d,k){void 0===k&&(k=!0);for(var l=[],n=0;n<b.length;n++){var m=b[n];if("*"!==m&&!a.has(m))if(k){var y=h(m);try{var e=c(y);if(!e.isStandardized())throw new f("feature-store:unsupported-query","expression is not standard",{clause:e});g(a,e.getFields(),"expression contains missing fields")}catch(p){if((y=
p&&p.details)&&y.clause)throw p;y&&y.missingFields?Array.prototype.push.apply(l,y.missingFields):l.push(m)}}else l.push(m)}if(l.length)throw new f("feature-store:unsupported-query",d,{missingFields:l});}function h(a){return a.split(" as ")[0]}Object.defineProperty(a,"__esModule",{value:!0});a.invalidClauseCache=new k(500);a.whereClausesCache=new n(50);var d=new r.default("esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeDate".split(" "));
a.validateWhere=function(b,c){if(!c)return!0;var d;try{d=l.create(c),a.whereClausesCache.set(c,d)}catch(B){throw a.invalidClauseCache.insert(c,null),new f("feature-store:unsupported-query","invalid SQL expression",{where:c});}if(!d.isStandardized())throw new f("feature-store:unsupported-query","where clause is not standard",{where:c});c=d.getFields();g(b,c,"where clause contains missing fields");return!0};a.validateHaving=function(b,c,d){if(!c)return!0;var h;try{h=l.create(c),a.whereClausesCache.set(c,
h)}catch(w){throw a.invalidClauseCache.insert(c,null),new f("feature-store:unsupported-query","invalid SQL expression",{having:c});}if(!h.isAggregate())throw new f("feature-store:unsupported-query","having does not contain a valid aggregate function",{having:c});var k=h.getFields();g(b,k,"having contains missing fields");if(!h.getExpressions().every(function(a){var c=a.aggregateType;a=a.field;var g=b.has(a)&&b.get(a).name;return d.some(function(a){var d=a.statisticType;a=a.onStatisticField.toLowerCase().trim();
return(b.has(a)&&b.get(a).name)===g&&d.toLowerCase().trim()===c})}))throw new f("feature-store:unsupported-query","expressions in having should also exist in outStatistics",{having:c});return!0};a.getWhereClause=c;a.validateFields=g;a.getExpressionFromFieldName=h;a.getAliasFromFieldName=function(a){return a.split(" as ")[1]};a.hasInvalidFieldType=function(a,b){var g=!1;-1!==c(a).getFields().indexOf(a)&&(a=b.get(a),g=!d.has(a.type));return g}})},"esri/core/LRUCache":function(){define(["require","exports"],
function(b,a){return function(){function a(a){this._cache={};this._lruQueue=[];if(0>=a)throw Error("LRU cache size must be bigger than zero!");this._maxSize=a}a.prototype.has=function(a){return void 0!==this._cache[a]};a.prototype.insert=function(a,b){null!==this.use(a)?this._cache[a]=b:(this._collect(),this._cache[a]=b,this._lruQueue.unshift(a))};a.prototype.use=function(a){var b=this._cache[a];if(!b)return null;this._lruQueue.splice(this._lruQueue.indexOf(a),1);this._lruQueue.unshift(a);return b};
a.prototype.print=function(){for(var a=0,b=this._lruQueue;a<b.length;a++){var n=b[a];console.log("key: "+n+", value: "+this._cache[n])}};a.prototype._collect=function(){if(!(this._lruQueue.length<this._maxSize)){var a=this._lruQueue.pop(),b=this._cache[a];b&&b.release&&b.release();delete this._cache[a]}};return a}()})},"esri/core/LRUMap":function(){define(["require","exports"],function(b,a){return function(){function a(a,b){void 0===a&&(a=0);this.sizeOfFunction=function(){return 1};this._sizeOf=0;
this._cache=new Map;this._queue=[];if(0>=a)throw Error("LRU cache size must be bigger than zero!");this._maxSize=a;b&&(b.disposeFunction&&(this.disposeFunction=b.disposeFunction),b.sizeOfFunction&&(this.sizeOfFunction=b.sizeOfFunction))}Object.defineProperty(a.prototype,"length",{get:function(){return this._cache.size},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"size",{get:function(){return this._sizeOf},enumerable:!0,configurable:!0});a.prototype.clear=function(){var a=this;
this._queue.length=0;this.disposeFunction&&this._cache.forEach(function(b,f){a.disposeFunction(f,b)});this._cache.clear();this._sizeOf=0};a.prototype.delete=function(a){var b=this._cache.get(a);return this._cache.delete(a)?(this._sizeOf-=this.sizeOfFunction(b),this._queue.splice(this._queue.indexOf(a),1),this.disposeFunction&&this.disposeFunction(a,b),!0):!1};a.prototype.forEach=function(a,b){this._cache.forEach(a,b)};a.prototype.get=function(a){var b=this._cache.get(a);if(void 0!==b)return this._queue.splice(this._queue.indexOf(a),
1),this._queue.unshift(a),b};a.prototype.has=function(a){return this._cache.has(a)};a.prototype.set=function(a,b){var f=this.get(a);void 0!==f?this._sizeOf-=this.sizeOfFunction(f):this._queue.unshift(a);this._sizeOf+=this.sizeOfFunction(b);this._cache.set(a,b);this._collect();return this};a.prototype._collect=function(){for(;this._queue.length&&this._sizeOf>this._maxSize;){var a=this._queue.pop(),b=this._cache.get(a);this._cache.delete(a)&&(this._sizeOf-=this.sizeOfFunction(b),this.disposeFunction&&
this.disposeFunction(a,b))}};return a}()})},"esri/core/sql/WhereClause":function(){define("require exports @dojo/framework/shim/array @dojo/framework/shim/Map ../../moment ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),function(b,a,r,f,k,n,l,c){function g(a){return Array.isArray(a)?a:[a]}function h(a){return null!==a?!0!==a:null}function d(a,b){if(null==a)return null;for(var c=!1,d=0;d<b.length;d++){var e=b[d];if(null==e)c=null;else if(a===e){c=!0;break}}return c}function v(a,
b,c){if(null==a)return null;for(var d="",e=0,g=0;g<b.length;g++){var f=b.charAt(g);switch(e){case 0:f===c?e=1:d=0<="-[]/{}()*+?.\\^$|".indexOf(f)?d+("\\"+f):"%"===f?d+".*":"_"===f?d+".":d+f;break;case 1:d=0<="-[]/{}()*+?.\\^$|".indexOf(f)?d+("\\"+f):d+f,e=0}}return(new RegExp("^"+d+"$")).test(a)}function z(a){return a instanceof Date?a.valueOf():a}function t(a,b,c){if(null==b||null==c)return null;b=z(b);c=z(c);switch(a){case "\x3c\x3e":return b!==c;case "\x3d":return b===c;case "\x3e":return b>c;
case "\x3c":return b<c;case "\x3e\x3d":return b>=c;case "\x3c\x3d":return b<=c}}function B(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d],g=e.toLowerCase();void 0===c[g]&&(b.push(e),c[g]=1)}return b}return function(){function a(){this._hasAggregateFunctions=this._hasStandardizedFunctions=this.parameters=this.parseTree=null}a.create=function(b){var d=new a;d.parseTree=c.WhereGrammar.parse(b);var g=!0,e=!0;d.visitAll(d.parseTree,function(a){if("function"===a.type){var b=a.name;a=a.args.value.length;
g&&(g=l.isStandardized(b,a));e&&(e=n.isAggregate(b,a))}});d._hasStandardizedFunctions=g;d._hasAggregateFunctions=e;return d};a.prototype.isStandardized=function(){return this._hasStandardizedFunctions};a.prototype.isAggregate=function(){return this._hasAggregateFunctions};a.prototype.setVariablesDictionary=function(a){this.parameters=a};a.prototype.testFeature=function(a){return!!this.evaluateNode(this.parseTree,a)};a.prototype.testSet=function(a){var b=this,c=new f.default;this.visitAll(this.parseTree,
function(a){"column_ref"!==a.type||c.has(a.column)||c.set(a.column,a)});for(var d={},g=function(a){c.forEach(function(c,e){c=b.featureValue(a,e,c);d[e]?d[e].push(c):d[e]=[c]})},h=0;h<a.length;h++)g(a[h]);return!!this.evaluateNode(this.parseTree,{attributes:d})};a.prototype.calculateValue=function(a){return this.evaluateNode(this.parseTree,a)};a.prototype.getFunctions=function(){var a=[];this.visitAll(this.parseTree,function(b){"function"===b.type&&a.push(b.name.toLowerCase())});return B(a)};a.prototype.getExpressions=
function(){var a=new f.default;this.visitAll(this.parseTree,function(b){if("function"===b.type){var c=b.name.toLowerCase();b=b.args.value[0];if("column_ref"===b.type){b=b.column;var d=c+"-"+b;a.has(d)||a.set(d,{aggregateType:c,field:b})}}});return r.from(a.values())};a.prototype.getFields=function(){var a=[];this.visitAll(this.parseTree,function(b){"column_ref"===b.type&&a.push(b.column)});return B(a)};a.prototype.getVariables=function(){var a=[];this.visitAll(this.parseTree,function(b){"param"===
b.type&&a.push(b.value.toLowerCase())});return B(a)};a.prototype.featureValue=function(a,b,c){a=a&&"object"===typeof a.attributes?a.attributes:a;var d=a[b];if(void 0!==d)return d;for(var g in a)if(b.toLowerCase()===g.toLowerCase())return c.column=g,a[g];return null};a.prototype.visitAll=function(a,b){if(null!=a)switch(b(a),a.type){case "when_clause":this.visitAll(a.operand,b);this.visitAll(a.value,b);break;case "case_expression":for(var c=0,d=a.clauses;c<d.length;c++){var g=d[c];this.visitAll(g,b)}"simple"===
a.format&&this.visitAll(a.operand,b);null!==a.else&&this.visitAll(a.else,b);break;case "expr_list":c=0;for(a=a.value;c<a.length;c++)g=a[c],this.visitAll(g,b);break;case "unary_expr":this.visitAll(a.expr,b);break;case "binary_expr":this.visitAll(a.left,b);this.visitAll(a.right,b);break;case "function":this.visitAll(a.args,b)}};a.prototype.evaluateNode=function(a,b){switch(a.type){case "case_expression":if("simple"===a.format)for(var c=z(this.evaluateNode(a.operand,b)),e=0;e<a.clauses.length;e++){if(c===
z(this.evaluateNode(a.clauses[e].operand,b)))return this.evaluateNode(a.clauses[e].value,b)}else for(e=0;e<a.clauses.length;e++)if(!0===this.evaluateNode(a.clauses[e].operand,b))return this.evaluateNode(a.clauses[e].value,b);return null!==a.else?this.evaluateNode(a.else,b):null;case "param":return this.parameters[a.value.toLowerCase()];case "expr_list":c=[];e=0;for(a=a.value;e<a.length;e++){var f=a[e];c.push(this.evaluateNode(f,b))}return c;case "unary_expr":return h(this.evaluateNode(a.expr,b));
case "binary_expr":switch(a.operator){case "AND":return c=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null!=c&&null!=b?!0===c&&!0===b:!1===c||!1===b?!1:null;case "OR":return c=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null!=c&&null!=b?!0===c||!0===b:!0===c||!0===b?!0:null;case "IS":if("null"!==a.right.type)throw Error("Unsupported RHS for IS");return null===this.evaluateNode(a.left,b);case "ISNOT":if("null"!==a.right.type)throw Error("Unsupported RHS for IS");return null!==
this.evaluateNode(a.left,b);case "IN":return c=g(this.evaluateNode(a.right,b)),d(this.evaluateNode(a.left,b),c);case "NOT IN":return c=g(this.evaluateNode(a.right,b)),h(d(this.evaluateNode(a.left,b),c));case "BETWEEN":return c=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null==c||null==b[0]||null==b[1]?null:c>=b[0]&&c<=b[1];case "NOTBETWEEN":return c=this.evaluateNode(a.left,b),b=this.evaluateNode(a.right,b),null==c||null==b[0]||null==b[1]?null:c<b[0]||c>b[1];case "LIKE":return v(this.evaluateNode(a.left,
b),this.evaluateNode(a.right,b),a.escape);case "NOT LIKE":return h(v(this.evaluateNode(a.left,b),this.evaluateNode(a.right,b),a.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return t(a.operator,this.evaluateNode(a.left,b),this.evaluateNode(a.right,b));case "*":return this.evaluateNode(a.left,b)*this.evaluateNode(a.right,b);case "-":return this.evaluateNode(a.left,b)-this.evaluateNode(a.right,b);case "+":return this.evaluateNode(a.left,b)+this.evaluateNode(a.right,
b);case "/":return this.evaluateNode(a.left,b)/this.evaluateNode(a.right,b)}throw Error("Not Supported Operator "+a.operator);case "null":case "bool":case "string":case "number":return a.value;case "date":return k(a.value,["YYYY-M-D"]).toDate();case "timestamp":return k(a.value,["YYYY-M-D H:m:s","YYYY-M-D H:mZ","YYYY-M-D H:m:sZ","YYYY-M-D H:m","YYYY-m-d"]).toDate();case "column_ref":return"CURRENT_DATE"===a.column.toUpperCase()?(f=new Date,f.setHours(0,0,0,0),f):"CURRENT_TIMESTAMP"===a.column.toUpperCase()?
new Date:this.featureValue(b,a.column,a);case "function":return b=this.evaluateNode(a.args,b),this.isAggregate()?n.aggregateFunction(a.name,b):l.evaluateFunction(a.name,b)}throw Error("Unsupported sql syntax "+a.type);};return a}()})},"esri/moment":function(){define(["require","exports","./plugins/moment!"],function(b,a,r){return r})},"esri/plugins/moment":function(){define(["require","exports","dojo/_base/kernel","moment/moment"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});
var k={ar:1,"ar-dz":1,"ar-kw":1,"ar-ly":1,"ar-ma":1,"ar-sa":1,"ar-tn":1,bs:1,ca:1,cs:1,da:1,de:1,"de-at":1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,"en-ie":1,"en-il":1,"en-nz":1,es:1,"es-do":1,"es-us":1,et:1,fi:1,fr:1,"fr-ca":1,"fr-ch":1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,ko:1,lt:1,lv:1,nb:1,nl:1,"nl-be":1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,sl:1,sr:1,"sr-cyrl":1,sv:1,th:1,tr:1,vi:1,"zh-cn":1,"zh-hk":1,"zh-tw":1};a.load=function(a,b,c){a=r.locale;var g=a in k;if(!g){var h=a.split("-");1<h.length&&h[0]in
k&&(a=h[0],g=!0)}g?b(["moment/locale/"+a],function(){c(f)}):c(f)}})},"moment/moment":function(){(function(b,a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define(a):b.moment=a()})(this,function(){function b(){return gd.apply(null,arguments)}function a(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function r(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function f(a){if(Object.getOwnPropertyNames)return 0===
Object.getOwnPropertyNames(a).length;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function k(a){return void 0===a}function n(a){return"number"===typeof a||"[object Number]"===Object.prototype.toString.call(a)}function l(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function c(a,b){var c=[],d;for(d=0;d<a.length;++d)c.push(b(a[d],d));return c}function g(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function h(a,b){for(var c in b)g(b,c)&&(a[c]=b[c]);
g(b,"toString")&&(a.toString=b.toString);g(b,"valueOf")&&(a.valueOf=b.valueOf);return a}function d(a,b,c,d){return bb(a,b,c,d,!0).utc()}function v(a){null==a._pf&&(a._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1});return a._pf}function z(a){if(null==a._isValid){var b=v(a),c=hd.call(b.parsedDateParts,function(a){return null!=a}),c=!isNaN(a._d.getTime())&&
0>b.overflow&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.weekdayMismatch&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);a._strict&&(c=c&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour);if(null!=Object.isFrozen&&Object.isFrozen(a))return c;a._isValid=c}return a._isValid}function t(a){var b=d(NaN);null!=a?h(v(b),a):v(b).userInvalidated=!0;return b}function B(a,b){var c,d,e;k(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject);k(b._i)||
(a._i=b._i);k(b._f)||(a._f=b._f);k(b._l)||(a._l=b._l);k(b._strict)||(a._strict=b._strict);k(b._tzm)||(a._tzm=b._tzm);k(b._isUTC)||(a._isUTC=b._isUTC);k(b._offset)||(a._offset=b._offset);k(b._pf)||(a._pf=v(b));k(b._locale)||(a._locale=b._locale);if(0<Vc.length)for(c=0;c<Vc.length;c++)d=Vc[c],e=b[d],k(e)||(a[d]=e);return a}function A(a){B(this,a);this._d=new Date(null!=a._d?a._d.getTime():NaN);this.isValid()||(this._d=new Date(NaN));!1===Wc&&(Wc=!0,b.updateOffset(this),Wc=!1)}function w(a){return a instanceof
A||null!=a&&null!=a._isAMomentObject}function m(a){return 0>a?Math.ceil(a)||0:Math.floor(a)}function y(a){a=+a;var b=0;0!==a&&isFinite(a)&&(b=m(a));return b}function e(a,b,c){var d=Math.min(a.length,b.length),e=Math.abs(a.length-b.length),g=0,f;for(f=0;f<d;f++)(c&&a[f]!==b[f]||!c&&y(a[f])!==y(b[f]))&&g++;return g+e}function p(a){!1===b.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function x(a,c){var d=!0;return h(function(){null!=
b.deprecationHandler&&b.deprecationHandler(null,a);if(d){for(var e=[],g,f=0;f<arguments.length;f++){g="";if("object"===typeof arguments[f]){g+="\n["+f+"] ";for(var h in arguments[0])g+=h+": "+arguments[0][h]+", ";g=g.slice(0,-2)}else g=arguments[f];e.push(g)}p(a+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+Error().stack);d=!1}return c.apply(this,arguments)},c)}function F(a,c){null!=b.deprecationHandler&&b.deprecationHandler(a,c);id[a]||(p(c),id[a]=!0)}function G(a){return a instanceof
Function||"[object Function]"===Object.prototype.toString.call(a)}function C(a,b){var c=h({},a),d;for(d in b)g(b,d)&&(r(a[d])&&r(b[d])?(c[d]={},h(c[d],a[d]),h(c[d],b[d])):null!=b[d]?c[d]=b[d]:delete c[d]);for(d in a)g(a,d)&&!g(b,d)&&r(a[d])&&(c[d]=h({},c[d]));return c}function O(a){null!=a&&this.set(a)}function E(a,b){var c=a.toLowerCase();Gb[c]=Gb[c+"s"]=Gb[b]=a}function P(a){return"string"===typeof a?Gb[a]||Gb[a.toLowerCase()]:void 0}function da(a){var b={},c,d;for(d in a)g(a,d)&&(c=P(d))&&(b[c]=
a[d]);return b}function ga(a){var b=[],c;for(c in a)b.push({unit:c,priority:Da[c]});b.sort(function(a,b){return a.priority-b.priority});return b}function T(a,b,c){var d=""+Math.abs(a);return(0<=a?c?"+":"":"-")+Math.pow(10,Math.max(0,b-d.length)).toString().substr(1)+d}function M(a,b,c,d){var e=d;"string"===typeof d&&(e=function(){return this[d]()});a&&($a[a]=e);b&&($a[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])});c&&($a[c]=function(){return this.localeData().ordinal(e.apply(this,
arguments),a)})}function la(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function Y(a){var b=a.match($b),c,d;c=0;for(d=b.length;c<d;c++)b[c]=$a[b[c]]?$a[b[c]]:la(b[c]);return function(c){var e="",g;for(g=0;g<d;g++)e+=G(b[g])?b[g].call(c,a):b[g];return e}}function ma(a,b){if(!a.isValid())return a.localeData().invalidDate();b=U(b,a.localeData());ac[b]=ac[b]||Y(b);return ac[b](a)}function U(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Lb.lastIndex=0;0<=d&&
Lb.test(a);)a=a.replace(Lb,c),Lb.lastIndex=0,--d;return a}function H(a,b,c){Xc[a]=G(b)?b:function(a,d){return a&&c?c:b}}function X(a,b){return g(Xc,a)?Xc[a](b._strict,b._locale):new RegExp(J(a))}function J(a){return Z(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function Z(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$\x26")}function W(a,b){var c,d=b;"string"===typeof a&&(a=[a]);n(b)&&(d=function(a,c){c[b]=y(a)});for(c=0;c<a.length;c++)bc[a[c]]=
d}function ba(a,b){W(a,function(a,c,d,e){d._w=d._w||{};b(a,d._w,d,e)})}function Q(a){return 0===a%4&&0!==a%100||0===a%400}function V(a,c){return function(d){return null!=d?(pa(this,a,d),b.updateOffset(this,c),this):na(this,a)}}function na(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function pa(a,b,c){if(a.isValid()&&!isNaN(c))if("FullYear"===b&&Q(a.year())&&1===a.month()&&29===a.date())a._d["set"+(a._isUTC?"UTC":"")+b](c,a.month(),ha(c,a.month()));else a._d["set"+(a._isUTC?"UTC":
"")+b](c)}function ha(a,b){if(isNaN(a)||isNaN(b))return NaN;var c=(b%12+12)%12;return 1===c?Q(a+(b-c)/12)?29:28:31-c%7%2}function Aa(a,b){var c;if(!a.isValid())return a;if("string"===typeof b)if(/^\d+$/.test(b))b=y(b);else if(b=a.localeData().monthsParse(b),!n(b))return a;c=Math.min(a.date(),ha(a.year(),b));a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c);return a}function ia(a){return null!=a?(Aa(this,a),b.updateOffset(this,!0),this):na(this,"Month")}function xa(){function a(a,b){return b.length-a.length}
var b=[],c=[],e=[],g,f;for(g=0;12>g;g++)f=d([2E3,g]),b.push(this.monthsShort(f,"")),c.push(this.months(f,"")),e.push(this.months(f,"")),e.push(this.monthsShort(f,""));b.sort(a);c.sort(a);e.sort(a);for(g=0;12>g;g++)b[g]=Z(b[g]),c[g]=Z(c[g]);for(g=0;24>g;g++)e[g]=Z(e[g]);this._monthsShortRegex=this._monthsRegex=new RegExp("^("+e.join("|")+")","i");this._monthsStrictRegex=new RegExp("^("+c.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+b.join("|")+")","i")}function Oa(a,b,c,d,e,g,f){b=
new Date(a,b,c,d,e,g,f);100>a&&0<=a&&isFinite(b.getFullYear())&&b.setFullYear(a);return b}function Ga(a){var b=new Date(Date.UTC.apply(null,arguments));100>a&&0<=a&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a);return b}function Ka(a,b,c){c=7+b-c;return-((7+Ga(a,0,c).getUTCDay()-b)%7)+c-1}function N(a,b,c,d,e){c=(7+c-d)%7;d=Ka(a,d,e);d=1+7*(b-1)+c+d;0>=d?(b=a-1,a=(Q(b)?366:365)+d):d>(Q(a)?366:365)?(b=a+1,a=d-(Q(a)?366:365)):(b=a,a=d);return{year:b,dayOfYear:a}}function fb(a,b,c){var d=Ka(a.year(),
b,c),d=Math.floor((a.dayOfYear()-d-1)/7)+1;1>d?(a=a.year()-1,b=d+qa(a,b,c)):d>qa(a.year(),b,c)?(b=d-qa(a.year(),b,c),a=a.year()+1):(a=a.year(),b=d);return{week:b,year:a}}function qa(a,b,c){var d=Ka(a,b,c);b=Ka(a+1,b,c);return((Q(a)?366:365)-d+b)/7}function Wa(a,b,c){var e,g;a=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],e=0;7>e;++e)g=d([2E3,1]).day(e),this._minWeekdaysParse[e]=this.weekdaysMin(g,"").toLocaleLowerCase(),
this._shortWeekdaysParse[e]=this.weekdaysShort(g,"").toLocaleLowerCase(),this._weekdaysParse[e]=this.weekdays(g,"").toLocaleLowerCase();if(c)b="dddd"===b?Ea.call(this._weekdaysParse,a):"ddd"===b?Ea.call(this._shortWeekdaysParse,a):Ea.call(this._minWeekdaysParse,a);else if("dddd"===b){b=Ea.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._shortWeekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._minWeekdaysParse,a)}else if("ddd"===b){b=Ea.call(this._shortWeekdaysParse,a);if(-1!==b)return b;
b=Ea.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._minWeekdaysParse,a)}else{b=Ea.call(this._minWeekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._weekdaysParse,a);if(-1!==b)return b;b=Ea.call(this._shortWeekdaysParse,a)}return-1!==b?b:null}function q(){function a(a,b){return b.length-a.length}var b=[],c=[],e=[],g=[],f,h,m,k;for(f=0;7>f;f++)h=d([2E3,1]).day(f),m=this.weekdaysMin(h,""),k=this.weekdaysShort(h,""),h=this.weekdays(h,""),b.push(m),c.push(k),e.push(h),g.push(m),g.push(k),
g.push(h);b.sort(a);c.sort(a);e.sort(a);g.sort(a);for(f=0;7>f;f++)c[f]=Z(c[f]),e[f]=Z(e[f]),g[f]=Z(g[f]);this._weekdaysMinRegex=this._weekdaysShortRegex=this._weekdaysRegex=new RegExp("^("+g.join("|")+")","i");this._weekdaysStrictRegex=new RegExp("^("+e.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+c.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+b.join("|")+")","i")}function Ha(){return this.hours()%12||12}function Za(a,b){M(a,0,0,function(){return this.localeData().meridiem(this.hours(),
this.minutes(),b)})}function rb(a,b){return b._meridiemParse}function Cb(a){return a?a.toLowerCase().replace("_","-"):a}function Pa(a){var b=null;if(!La[a]&&"undefined"!==typeof module&&module&&module.exports)try{b=jc._abbr,require("./locale/"+a),Ra(b)}catch(Rd){}return La[a]}function Ra(a,b){a&&((b=k(b)?Ia(a):jb(a,b))?jc=b:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+a+" not found. Did you forget to load it?"));return jc._abbr}function jb(a,b){if(null!==b){var c;c=jd;b.abbr=
a;if(null!=La[a])F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=La[a]._config;else if(null!=b.parentLocale)if(null!=La[b.parentLocale])c=La[b.parentLocale]._config;else if(c=Pa(b.parentLocale),null!=c)c=c._config;else return kc[b.parentLocale]||(kc[b.parentLocale]=[]),kc[b.parentLocale].push({name:a,
config:b}),null;La[a]=new O(C(c,b));kc[a]&&kc[a].forEach(function(a){jb(a.name,a.config)});Ra(a);return La[a]}delete La[a];return null}function Ia(b){var c;b&&b._locale&&b._locale._abbr&&(b=b._locale._abbr);if(!b)return jc;if(!a(b)){if(c=Pa(b))return c;b=[b]}a:{c=0;for(var d,g,f,h;c<b.length;){h=Cb(b[c]).split("-");d=h.length;for(g=(g=Cb(b[c+1]))?g.split("-"):null;0<d;){if(f=Pa(h.slice(0,d).join("-"))){b=f;break a}if(g&&g.length>=d&&e(h,g,!0)>=d-1)break;d--}c++}b=jc}return b}function kb(a){var b;
(b=a._a)&&-2===v(a).overflow&&(b=0>b[Db]||11<b[Db]?Db:1>b[sb]||b[sb]>ha(b[Sa],b[Db])?sb:0>b[Ma]||24<b[Ma]||24===b[Ma]&&(0!==b[lb]||0!==b[Eb]||0!==b[Mb])?Ma:0>b[lb]||59<b[lb]?lb:0>b[Eb]||59<b[Eb]?Eb:0>b[Mb]||999<b[Mb]?Mb:-1,v(a)._overflowDayOfYear&&(b<Sa||b>sb)&&(b=sb),v(a)._overflowWeeks&&-1===b&&(b=lc),v(a)._overflowWeekday&&-1===b&&(b=yc),v(a).overflow=b);return a}function Ba(a,b,c){return null!=a?a:null!=b?b:c}function Qa(a){var c,d=[],e;if(!a._d){e=new Date(b.now());e=a._useUTC?[e.getUTCFullYear(),
e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()];if(a._w&&null==a._a[sb]&&null==a._a[Db]){var g,f,h,m,k,p;g=a._w;if(null!=g.GG||null!=g.W||null!=g.E){if(k=1,p=4,f=Ba(g.GG,a._a[Sa],fb(K(),1,4).year),h=Ba(g.W,1),m=Ba(g.E,1),1>m||7<m)c=!0}else if(k=a._locale._week.dow,p=a._locale._week.doy,h=fb(K(),k,p),f=Ba(g.gg,a._a[Sa],h.year),h=Ba(g.w,h.week),null!=g.d){if(m=g.d,0>m||6<m)c=!0}else if(null!=g.e){if(m=g.e+k,0>g.e||6<g.e)c=!0}else m=k;1>h||h>qa(f,k,p)?v(a)._overflowWeeks=!0:
null!=c?v(a)._overflowWeekday=!0:(c=N(f,h,m,k,p),a._a[Sa]=c.year,a._dayOfYear=c.dayOfYear)}if(null!=a._dayOfYear){c=Ba(a._a[Sa],e[Sa]);if(a._dayOfYear>(Q(c)?366:365)||0===a._dayOfYear)v(a)._overflowDayOfYear=!0;c=Ga(c,0,a._dayOfYear);a._a[Db]=c.getUTCMonth();a._a[sb]=c.getUTCDate()}for(c=0;3>c&&null==a._a[c];++c)a._a[c]=d[c]=e[c];for(;7>c;c++)a._a[c]=d[c]=null==a._a[c]?2===c?1:0:a._a[c];24===a._a[Ma]&&0===a._a[lb]&&0===a._a[Eb]&&0===a._a[Mb]&&(a._nextDay=!0,a._a[Ma]=0);a._d=(a._useUTC?Ga:Oa).apply(null,
d);d=a._useUTC?a._d.getUTCDay():a._d.getDay();null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[Ma]=24);a._w&&"undefined"!==typeof a._w.d&&a._w.d!==d&&(v(a).weekdayMismatch=!0)}}function R(a){var b,c;b=a._i;var d=wd.exec(b)||xd.exec(b),e,g,f,h;if(d){v(a).iso=!0;b=0;for(c=zc.length;b<c;b++)if(zc[b][1].exec(d[1])){g=zc[b][0];e=!1!==zc[b][2];break}if(null==g)a._isValid=!1;else{if(d[3]){b=0;for(c=Yc.length;b<c;b++)if(Yc[b][1].exec(d[3])){f=(d[2]||" ")+Yc[b][0];break}if(null==
f){a._isValid=!1;return}}if(e||null==f){if(d[4])if(yd.exec(d[4]))h="Z";else{a._isValid=!1;return}a._f=g+(f||"")+(h||"");fa(a)}else a._isValid=!1}}else a._isValid=!1}function Na(a){var b=Ac.exec(a._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(b){var c=b[3],d=b[2],e=b[5],g=b[6],f=b[7],h=parseInt(b[4],10),c=[49>=h?2E3+h:999>=h?1900+h:h,Nb.indexOf(c),parseInt(d,10),parseInt(e,10),parseInt(g,10)];f&&c.push(parseInt(f,10));a:{if(f=b[1])if(f=kd.indexOf(f),d=(new Date(c[0],c[1],c[2])).getDay(),
f!==d){v(a).weekdayMismatch=!0;f=a._isValid=!1;break a}f=!0}f&&(a._a=c,(f=b[8])?b=Bc[f]:b[9]?b=0:(b=parseInt(b[10],10),f=b%100,b=(b-f)/100*60+f),a._tzm=b,a._d=Ga.apply(null,a._a),a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),v(a).rfc2822=!0)}else a._isValid=!1}function za(a){var c=zd.exec(a._i);null!==c?a._d=new Date(+c[1]):(R(a),!1===a._isValid&&(delete a._isValid,Na(a),!1===a._isValid&&(delete a._isValid,b.createFromInputFallback(a))))}function fa(a){if(a._f===b.ISO_8601)R(a);else if(a._f===b.RFC_2822)Na(a);
else{a._a=[];v(a).empty=!0;var c=""+a._i,d,e,f,h,m,k=c.length,p=0;f=U(a._f,a._locale).match($b)||[];for(d=0;d<f.length;d++){h=f[d];if(e=(c.match(X(h,a))||[])[0])m=c.substr(0,c.indexOf(e)),0<m.length&&v(a).unusedInput.push(m),c=c.slice(c.indexOf(e)+e.length),p+=e.length;if($a[h]){if(e?v(a).empty=!1:v(a).unusedTokens.push(h),m=a,null!=e&&g(bc,h))bc[h](e,m._a,m,h)}else a._strict&&!e&&v(a).unusedTokens.push(h)}v(a).charsLeftOver=k-p;0<c.length&&v(a).unusedInput.push(c);12>=a._a[Ma]&&!0===v(a).bigHour&&
0<a._a[Ma]&&(v(a).bigHour=void 0);v(a).parsedDateParts=a._a.slice(0);v(a).meridiem=a._meridiem;c=a._a;d=Ma;k=a._locale;f=a._a[Ma];p=a._meridiem;null!=p&&(null!=k.meridiemHour?f=k.meridiemHour(f,p):null!=k.isPM&&((k=k.isPM(p))&&12>f&&(f+=12),k||12!==f||(f=0)));c[d]=f;Qa(a);kb(a)}}function mb(a){if(!a._d){var b=da(a._i);a._a=c([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)});Qa(a)}}function Ja(b){var c=b._i,d=b._f;b._locale=b._locale||Ia(b._l);
if(null===c||void 0===d&&""===c)return t({nullInput:!0});"string"===typeof c&&(b._i=c=b._locale.preparse(c));if(w(c))return new A(kb(c));if(l(c))b._d=c;else if(a(d)){var e,g,f;if(0===b._f.length)v(b).invalidFormat=!0,b._d=new Date(NaN);else{for(c=0;c<b._f.length;c++)if(d=0,e=B({},b),null!=b._useUTC&&(e._useUTC=b._useUTC),e._f=b._f[c],fa(e),z(e)&&(d+=v(e).charsLeftOver,d+=10*v(e).unusedTokens.length,v(e).score=d,null==f||d<f))f=d,g=e;h(b,g||e)}}else d?fa(b):oa(b);z(b)||(b._d=null);return b}function oa(d){var e=
d._i;k(e)?d._d=new Date(b.now()):l(e)?d._d=new Date(e.valueOf()):"string"===typeof e?za(d):a(e)?(d._a=c(e.slice(0),function(a){return parseInt(a,10)}),Qa(d)):r(e)?mb(d):n(e)?d._d=new Date(e):b.createFromInputFallback(d)}function bb(b,c,d,e,g){var h={};if(!0===d||!1===d)e=d,d=void 0;if(r(b)&&f(b)||a(b)&&0===b.length)b=void 0;h._isAMomentObject=!0;h._useUTC=h._isUTC=g;h._l=d;h._i=b;h._f=c;h._strict=e;b=new A(kb(Ja(h)));b._nextDay&&(b.add(1,"d"),b._nextDay=void 0);return b}function K(a,b,c,d){return bb(a,
b,c,d,!1)}function ta(b,c){var d,e;1===c.length&&a(c[0])&&(c=c[0]);if(!c.length)return K();d=c[0];for(e=1;e<c.length;++e)if(!c[e].isValid()||c[e][b](d))d=c[e];return d}function D(a){for(var b in a)if(-1===Ea.call(cb,b)||null!=a[b]&&isNaN(a[b]))return!1;b=!1;for(var c=0;c<cb.length;++c)if(a[cb[c]]){if(b)return!1;parseFloat(a[cb[c]])!==y(a[cb[c]])&&(b=!0)}return!0}function ea(a){a=da(a);var b=a.year||0,c=a.quarter||0,d=a.month||0,e=a.week||0,g=a.day||0,f=a.hour||0,h=a.minute||0,m=a.second||0,k=a.millisecond||
0;this._isValid=D(a);this._milliseconds=+k+1E3*m+6E4*h+36E5*f;this._days=+g+7*e;this._months=+d+3*c+12*b;this._data={};this._locale=Ia();this._bubble()}function ka(a){return a instanceof ea}function sa(a){return 0>a?-1*Math.round(-1*a):Math.round(a)}function aa(a,b){M(a,0,0,function(){var a=this.utcOffset(),c="+";0>a&&(a=-a,c="-");return c+T(~~(a/60),2)+b+T(~~a%60,2)})}function ca(a,b){a=(b||"").match(a);if(null===a)return null;a=((a[a.length-1]||[])+"").match(mc)||["-",0,0];b=+(60*a[1])+y(a[2]);
return 0===b?0:"+"===a[0]?b:-b}function L(a,c){return c._isUTC?(c=c.clone(),a=(w(a)||l(a)?a.valueOf():K(a).valueOf())-c.valueOf(),c._d.setTime(c._d.valueOf()+a),b.updateOffset(c,!1),c):K(a).local()}function tb(){return this.isValid()?this._isUTC&&0===this._offset:!1}function ab(a,b){var c=a,d=null;ka(a)?c={ms:a._milliseconds,d:a._days,M:a._months}:n(a)?(c={},b?c[b]=a:c.milliseconds=a):(d=Cc.exec(a))?(c="-"===d[1]?-1:1,c={y:0,d:y(d[sb])*c,h:y(d[Ma])*c,m:y(d[lb])*c,s:y(d[Eb])*c,ms:y(sa(1E3*d[Mb]))*
c}):(d=Dc.exec(a))?(c="-"===d[1]?-1:1,c={y:Xa(d[2],c),M:Xa(d[3],c),w:Xa(d[4],c),d:Xa(d[5],c),h:Xa(d[6],c),m:Xa(d[7],c),s:Xa(d[8],c)}):null==c?c={}:"object"===typeof c&&("from"in c||"to"in c)&&(d=K(c.from),c=K(c.to),d.isValid()&&c.isValid()?(c=L(c,d),d.isBefore(c)?c=ub(d,c):(c=ub(c,d),c.milliseconds=-c.milliseconds,c.months=-c.months),d=c):d={milliseconds:0,months:0},c={},c.ms=d.milliseconds,c.M=d.months);c=new ea(c);ka(a)&&g(a,"_locale")&&(c._locale=a._locale);return c}function Xa(a,b){a=a&&parseFloat(a.replace(",",
"."));return(isNaN(a)?0:a)*b}function ub(a,b){var c={milliseconds:0,months:0};c.months=b.month()-a.month()+12*(b.year()-a.year());a.clone().add(c.months,"M").isAfter(b)&&--c.months;c.milliseconds=+b-+a.clone().add(c.months,"M");return c}function nb(a,b){return function(c,d){var e;null===d||isNaN(+d)||(F(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),e=c,c=d,d=e);c=ab("string"===
typeof c?+c:c,d);gb(this,c,a);return this}}function gb(a,c,d,e){var g=c._milliseconds,f=sa(c._days);c=sa(c._months);a.isValid()&&(e=null==e?!0:e,c&&Aa(a,na(a,"Month")+c*d),f&&pa(a,"Date",na(a,"Date")+f*d),g&&a._d.setTime(a._d.valueOf()+g*d),e&&b.updateOffset(a,f||c))}function hb(a,b){var c=12*(b.year()-a.year())+(b.month()-a.month()),d=a.clone().add(c,"months");0>b-d?(a=a.clone().add(c-1,"months"),b=(b-d)/(d-a)):(a=a.clone().add(c+1,"months"),b=(b-d)/(a-d));return-(c+b)||0}function cc(a){if(void 0===
a)return this._locale._abbr;a=Ia(a);null!=a&&(this._locale=a);return this}function ob(){return this._locale}function pb(a,b){M(0,[a,a.length],0,b)}function vb(a,b,c,d,e){var g;if(null==a)return fb(this,d,e).year;g=qa(a,d,e);b>g&&(b=g);a=N(a,b,c,d,e);a=Ga(a.year,0,a.dayOfYear);this.year(a.getUTCFullYear());this.month(a.getUTCMonth());this.date(a.getUTCDate());return this}function nc(a,b){b[Mb]=y(1E3*("0."+a))}function dc(a){return a}function qb(a,b,c,e){var g=Ia();b=d().set(e,b);return g[c](b,a)}function Ob(a,
b,c){n(a)&&(b=a,a=void 0);a=a||"";if(null!=b)return qb(a,b,c,"month");var d=[];for(b=0;12>b;b++)d[b]=qb(a,b,c,"month");return d}function Hb(a,b,c,d){"boolean"!==typeof a&&(c=b=a,a=!1);n(b)&&(c=b,b=void 0);b=b||"";var e=Ia();a=a?e._week.dow:0;if(null!=c)return qb(b,(c+a)%7,d,"day");e=[];for(c=0;7>c;c++)e[c]=qb(b,(c+a)%7,d,"day");return e}function oc(a,b,c,d){b=ab(b,c);a._milliseconds+=d*b._milliseconds;a._days+=d*b._days;a._months+=d*b._months;return a._bubble()}function Pb(a){return 0>a?Math.floor(a):
Math.ceil(a)}function Ta(a){return function(){return this.as(a)}}function wb(a){return function(){return this.isValid()?this._data[a]:NaN}}function Ec(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function ib(a){return(0<a)-(0>a)||+a}function Fc(){if(!this.isValid())return this.localeData().invalidDate();var a=Ad(this._milliseconds)/1E3,b=Ad(this._days),c=Ad(this._months),d,e;d=m(a/60);e=m(d/60);a%=60;d%=60;var g=m(c/12),c=c%12,a=a?a.toFixed(3).replace(/\.?0+$/,""):"",f=this.asSeconds();if(!f)return"P0D";
var h=0>f?"-":"",k=ib(this._months)!==ib(f)?"-":"",p=ib(this._days)!==ib(f)?"-":"",f=ib(this._milliseconds)!==ib(f)?"-":"";return h+"P"+(g?k+g+"Y":"")+(c?k+c+"M":"")+(b?p+b+"D":"")+(e||d||a?"T":"")+(e?f+e+"H":"")+(d?f+d+"M":"")+(a?f+a+"S":"")}var gd,hd;hd=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var Vc=b.momentProperties=[],Wc=!1,id={};b.suppressDeprecationWarnings=!1;b.deprecationHandler=
null;var Qb;Qb=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)g(a,b)&&c.push(b);return c};var Gb={},Da={},$b=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Lb=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ac={},$a={},Rb=/\d/,Ua=/\d\d/,Sb=/\d{3}/,ec=/\d{4}/,Ib=/[+-]?\d{6}/,va=/\d\d?/,Tb=/\d\d\d\d?/,Ub=/\d\d\d\d\d\d?/,Vb=/\d{1,3}/,Wb=/\d{1,4}/,Xb=/[+-]?\d{1,6}/,
Bd=/\d+/,Gc=/[+-]?\d+/,Cd=/Z|[+-]\d\d:?\d\d/gi,Hc=/Z|[+-]\d\d(?::?\d\d)?/gi,pc=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Xc={},bc={},Sa=0,Db=1,sb=2,Ma=3,lb=4,Eb=5,Mb=6,lc=7,yc=8;M("Y",0,0,function(){var a=this.year();return 9999>=a?""+a:"+"+a});M(0,["YY",2],0,function(){return this.year()%100});M(0,["YYYY",4],0,"year");M(0,["YYYYY",5],0,"year");M(0,["YYYYYY",6,!0],0,"year");E("year","y");
Da.year=1;H("Y",Gc);H("YY",va,Ua);H("YYYY",Wb,ec);H("YYYYY",Xb,Ib);H("YYYYYY",Xb,Ib);W(["YYYYY","YYYYYY"],Sa);W("YYYY",function(a,c){c[Sa]=2===a.length?b.parseTwoDigitYear(a):y(a)});W("YY",function(a,c){c[Sa]=b.parseTwoDigitYear(a)});W("Y",function(a,b){b[Sa]=parseInt(a,10)});b.parseTwoDigitYear=function(a){return y(a)+(68<y(a)?1900:2E3)};var qc=V("FullYear",!0),Ea;Ea=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};M("M",
["MM",2],"Mo",function(){return this.month()+1});M("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)});M("MMMM",0,0,function(a){return this.localeData().months(this,a)});E("month","M");Da.month=8;H("M",va);H("MM",va,Ua);H("MMM",function(a,b){return b.monthsShortRegex(a)});H("MMMM",function(a,b){return b.monthsRegex(a)});W(["M","MM"],function(a,b){b[Db]=y(a)-1});W(["MMM","MMMM"],function(a,b,c,d){d=c._locale.monthsParse(a,d,c._strict);null!=d?b[Db]=d:v(c).invalidMonth=a});var fc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
Nb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");M("w",["ww",2],"wo","week");M("W",["WW",2],"Wo","isoWeek");E("week","w");E("isoWeek","W");Da.week=5;Da.isoWeek=5;H("w",va);H("ww",va,Ua);H("W",va);H("WW",va,Ua);ba(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=y(a)});M("d",0,"do","day");M("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)});M("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)});M("dddd",0,0,function(a){return this.localeData().weekdays(this,
a)});M("e",0,0,"weekday");M("E",0,0,"isoWeekday");E("day","d");E("weekday","e");E("isoWeekday","E");Da.day=11;Da.weekday=11;Da.isoWeekday=11;H("d",va);H("e",va);H("E",va);H("dd",function(a,b){return b.weekdaysMinRegex(a)});H("ddd",function(a,b){return b.weekdaysShortRegex(a)});H("dddd",function(a,b){return b.weekdaysRegex(a)});ba(["dd","ddd","dddd"],function(a,b,c,d){d=c._locale.weekdaysParse(a,d,c._strict);null!=d?b.d=d:v(c).invalidWeekday=a});ba(["d","e","E"],function(a,b,c,d){b[d]=y(a)});var kd=
"Sun Mon Tue Wed Thu Fri Sat".split(" ");M("H",["HH",2],0,"hour");M("h",["hh",2],0,Ha);M("k",["kk",2],0,function(){return this.hours()||24});M("hmm",0,0,function(){return""+Ha.apply(this)+T(this.minutes(),2)});M("hmmss",0,0,function(){return""+Ha.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)});M("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)});M("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)});Za("a",!0);Za("A",!1);E("hour","h");Da.hour=
13;H("a",rb);H("A",rb);H("H",va);H("h",va);H("k",va);H("HH",va,Ua);H("hh",va,Ua);H("kk",va,Ua);H("hmm",Tb);H("hmmss",Ub);H("Hmm",Tb);H("Hmmss",Ub);W(["H","HH"],Ma);W(["k","kk"],function(a,b,c){a=y(a);b[Ma]=24===a?0:a});W(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a);c._meridiem=a});W(["h","hh"],function(a,b,c){b[Ma]=y(a);v(c).bigHour=!0});W("hmm",function(a,b,c){var d=a.length-2;b[Ma]=y(a.substr(0,d));b[lb]=y(a.substr(d));v(c).bigHour=!0});W("hmmss",function(a,b,c){var d=a.length-4,e=a.length-
2;b[Ma]=y(a.substr(0,d));b[lb]=y(a.substr(d,2));b[Eb]=y(a.substr(e));v(c).bigHour=!0});W("Hmm",function(a,b,c){c=a.length-2;b[Ma]=y(a.substr(0,c));b[lb]=y(a.substr(c))});W("Hmmss",function(a,b,c){c=a.length-4;var d=a.length-2;b[Ma]=y(a.substr(0,c));b[lb]=y(a.substr(c,2));b[Eb]=y(a.substr(d))});var Dd=V("Hours",!0),jd={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",
LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January February March April May June July August September October November December".split(" "),monthsShort:Nb,
week:{dow:0,doy:6},weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysShort:kd,meridiemParse:/[ap]\.?m?\.?/i},La={},kc={},jc,wd=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xd=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
yd=/Z|[+-]\d\d(?::?\d\d)?/,zc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Yc=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",
/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],zd=/^\/?Date\((\-?\d+)/i,Ac=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Bc={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};b.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});b.ISO_8601=function(){};b.RFC_2822=function(){};var rc=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=K.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:t()}),Ic=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=K.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:
a:t()}),cb="year quarter month week day hour minute second millisecond".split(" ");aa("Z",":");aa("ZZ","");H("Z",Hc);H("ZZ",Hc);W(["Z","ZZ"],function(a,b,c){c._useUTC=!0;c._tzm=ca(Hc,a)});var mc=/([\+\-]|\d\d)/gi;b.updateOffset=function(){};var Cc=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Dc=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;ab.fn=ea.prototype;ab.invalid=
function(){return ab(NaN)};var Jc=nb(1,"add"),Kc=nb(-1,"subtract");b.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";b.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sc=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});M(0,["gg",2],0,function(){return this.weekYear()%100});M(0,["GG",2],0,function(){return this.isoWeekYear()%100});pb("gggg","weekYear");
pb("ggggg","weekYear");pb("GGGG","isoWeekYear");pb("GGGGG","isoWeekYear");E("weekYear","gg");E("isoWeekYear","GG");Da.weekYear=1;Da.isoWeekYear=1;H("G",Gc);H("g",Gc);H("GG",va,Ua);H("gg",va,Ua);H("GGGG",Wb,ec);H("gggg",Wb,ec);H("GGGGG",Xb,Ib);H("ggggg",Xb,Ib);ba(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=y(a)});ba(["gg","GG"],function(a,c,d,e){c[e]=b.parseTwoDigitYear(a)});M("Q",0,"Qo","quarter");E("quarter","Q");Da.quarter=7;H("Q",Rb);W("Q",function(a,b){b[Db]=3*(y(a)-1)});
M("D",["DD",2],"Do","date");E("date","D");Da.date=9;H("D",va);H("DD",va,Ua);H("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient});W(["D","DD"],sb);W("Do",function(a,b){b[sb]=y(a.match(va)[0])});var tc=V("Date",!0);M("DDD",["DDDD",3],"DDDo","dayOfYear");E("dayOfYear","DDD");Da.dayOfYear=4;H("DDD",Vb);H("DDDD",Sb);W(["DDD","DDDD"],function(a,b,c){c._dayOfYear=y(a)});M("m",["mm",2],0,"minute");E("minute","m");Da.minute=14;H("m",va);H("mm",va,Ua);
W(["m","mm"],lb);var Lc=V("Minutes",!1);M("s",["ss",2],0,"second");E("second","s");Da.second=15;H("s",va);H("ss",va,Ua);W(["s","ss"],Eb);var Mc=V("Seconds",!1);M("S",0,0,function(){return~~(this.millisecond()/100)});M(0,["SS",2],0,function(){return~~(this.millisecond()/10)});M(0,["SSS",3],0,"millisecond");M(0,["SSSS",4],0,function(){return 10*this.millisecond()});M(0,["SSSSS",5],0,function(){return 100*this.millisecond()});M(0,["SSSSSS",6],0,function(){return 1E3*this.millisecond()});M(0,["SSSSSSS",
7],0,function(){return 1E4*this.millisecond()});M(0,["SSSSSSSS",8],0,function(){return 1E5*this.millisecond()});M(0,["SSSSSSSSS",9],0,function(){return 1E6*this.millisecond()});E("millisecond","ms");Da.millisecond=16;H("S",Vb,Rb);H("SS",Vb,Ua);H("SSS",Vb,Sb);var db;for(db="SSSS";9>=db.length;db+="S")H(db,Bd);for(db="S";9>=db.length;db+="S")W(db,nc);var Nc=V("Milliseconds",!1);M("z",0,0,"zoneAbbr");M("zz",0,0,"zoneName");var S=A.prototype;S.add=Jc;S.calendar=function(a,c){a=a||K();var d=L(a,this).startOf("day"),
d=b.calendarFormat(this,d)||"sameElse";c=c&&(G(c[d])?c[d].call(this,a):c[d]);return this.format(c||this.localeData().calendar(d,this,K(a)))};S.clone=function(){return new A(this)};S.diff=function(a,b,c){var d;if(!this.isValid())return NaN;a=L(a,this);if(!a.isValid())return NaN;d=6E4*(a.utcOffset()-this.utcOffset());b=P(b);switch(b){case "year":b=hb(this,a)/12;break;case "month":b=hb(this,a);break;case "quarter":b=hb(this,a)/3;break;case "second":b=(this-a)/1E3;break;case "minute":b=(this-a)/6E4;break;
case "hour":b=(this-a)/36E5;break;case "day":b=(this-a-d)/864E5;break;case "week":b=(this-a-d)/6048E5;break;default:b=this-a}return c?b:m(b)};S.endOf=function(a){a=P(a);if(void 0===a||"millisecond"===a)return this;"date"===a&&(a="day");return this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")};S.format=function(a){a||(a=this.isUtc()?b.defaultFormatUtc:b.defaultFormat);a=ma(this,a);return this.localeData().postformat(a)};S.from=function(a,b){return this.isValid()&&(w(a)&&a.isValid()||K(a).isValid())?
ab({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};S.fromNow=function(a){return this.from(K(),a)};S.to=function(a,b){return this.isValid()&&(w(a)&&a.isValid()||K(a).isValid())?ab({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()};S.toNow=function(a){return this.to(K(),a)};S.get=function(a){a=P(a);return G(this[a])?this[a]():this};S.invalidAt=function(){return v(this).overflow};S.isAfter=function(a,b){a=w(a)?a:K(a);if(!this.isValid()||
!a.isValid())return!1;b=P(k(b)?"millisecond":b);return"millisecond"===b?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(b).valueOf()};S.isBefore=function(a,b){a=w(a)?a:K(a);if(!this.isValid()||!a.isValid())return!1;b=P(k(b)?"millisecond":b);return"millisecond"===b?this.valueOf()<a.valueOf():this.clone().endOf(b).valueOf()<a.valueOf()};S.isBetween=function(a,b,c,d){d=d||"()";return("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))};S.isSame=
function(a,b){a=w(a)?a:K(a);if(!this.isValid()||!a.isValid())return!1;b=P(b||"millisecond");if("millisecond"===b)return this.valueOf()===a.valueOf();a=a.valueOf();return this.clone().startOf(b).valueOf()<=a&&a<=this.clone().endOf(b).valueOf()};S.isSameOrAfter=function(a,b){return this.isSame(a,b)||this.isAfter(a,b)};S.isSameOrBefore=function(a,b){return this.isSame(a,b)||this.isBefore(a,b)};S.isValid=function(){return z(this)};S.lang=sc;S.locale=cc;S.localeData=ob;S.max=Ic;S.min=rc;S.parsingFlags=
function(){return h({},v(this))};S.set=function(a,b){if("object"===typeof a){a=da(a);b=ga(a);for(var c=0;c<b.length;c++)this[b[c].unit](a[b[c].unit])}else if(a=P(a),G(this[a]))return this[a](b);return this};S.startOf=function(a){a=P(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":case "date":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a&&this.weekday(0);"isoWeek"===
a&&this.isoWeekday(1);"quarter"===a&&this.month(3*Math.floor(this.month()/3));return this};S.subtract=Kc;S.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]};S.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}};S.toDate=function(){return new Date(this.valueOf())};S.toISOString=function(a){if(!this.isValid())return null;
var b=(a=!0!==a)?this.clone().utc():this;return 0>b.year()||9999<b.year()?ma(b,a?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):G(Date.prototype.toISOString)?a?this.toDate().toISOString():(new Date(this.valueOf()+6E4*this.utcOffset())).toISOString().replace("Z",ma(b,"Z")):ma(b,a?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")};S.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?
"moment.utc":"moment.parseZone",b="Z");var a="["+a+'("]',c=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY";return this.format(a+c+"-MM-DD[T]HH:mm:ss.SSS"+(b+'[")]'))};S.toJSON=function(){return this.isValid()?this.toISOString():null};S.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")};S.unix=function(){return Math.floor(this.valueOf()/1E3)};S.valueOf=function(){return this._d.valueOf()-6E4*(this._offset||0)};S.creationData=function(){return{input:this._i,
format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}};S.year=qc;S.isLeapYear=function(){return Q(this.year())};S.weekYear=function(a){return vb.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)};S.isoWeekYear=function(a){return vb.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)};S.quarter=S.quarters=function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)};S.month=ia;S.daysInMonth=function(){return ha(this.year(),
this.month())};S.week=S.weeks=function(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")};S.isoWeek=S.isoWeeks=function(a){var b=fb(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")};S.weeksInYear=function(){var a=this.localeData()._week;return qa(this.year(),a.dow,a.doy)};S.isoWeeksInYear=function(){return qa(this.year(),1,4)};S.date=tc;S.day=S.days=function(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=
a){var c=this.localeData();"string"===typeof a&&(isNaN(a)?(a=c.weekdaysParse(a),a="number"===typeof a?a:null):a=parseInt(a,10));return this.add(a-b,"d")}return b};S.weekday=function(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")};S.isoWeekday=function(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=this.localeData();a="string"===typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a;return this.day(this.day()%
7?a:a-7)}return this.day()||7};S.dayOfYear=function(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864E5)+1;return null==a?b:this.add(a-b,"d")};S.hour=S.hours=Dd;S.minute=S.minutes=Lc;S.second=S.seconds=Mc;S.millisecond=S.milliseconds=Nc;S.utcOffset=function(a,c,d){var e=this._offset||0,g;if(!this.isValid())return null!=a?this:NaN;if(null!=a){if("string"===typeof a){if(a=ca(Hc,a),null===a)return this}else 16>Math.abs(a)&&!d&&(a*=60);!this._isUTC&&c&&(g=15*-Math.round(this._d.getTimezoneOffset()/
15));this._offset=a;this._isUTC=!0;null!=g&&this.add(g,"m");e!==a&&(!c||this._changeInProgress?gb(this,ab(a-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,b.updateOffset(this,!0),this._changeInProgress=null));return this}return this._isUTC?e:15*-Math.round(this._d.getTimezoneOffset()/15)};S.utc=function(a){return this.utcOffset(0,a)};S.local=function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(15*-Math.round(this._d.getTimezoneOffset()/15),"m"));return this};
S.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var a=ca(Cd,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this};S.hasAlignedHourOffset=function(a){if(!this.isValid())return!1;a=a?K(a).utcOffset():0;return 0===(this.utcOffset()-a)%60};S.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()};S.isLocal=function(){return this.isValid()?!this._isUTC:!1};
S.isUtcOffset=function(){return this.isValid()?this._isUTC:!1};S.isUtc=tb;S.isUTC=tb;S.zoneAbbr=function(){return this._isUTC?"UTC":""};S.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""};S.dates=x("dates accessor is deprecated. Use date instead.",tc);S.months=x("months accessor is deprecated. Use month instead",ia);S.years=x("years accessor is deprecated. Use year instead",qc);S.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",
function(a,b){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()});S.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!k(this._isDSTShifted))return this._isDSTShifted;var a={};B(a,this);a=Ja(a);if(a._a){var b=a._isUTC?d(a._a):K(a._a);this._isDSTShifted=this.isValid()&&0<e(a._a,b.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var wa=O.prototype;wa.calendar=function(a,
b,c){a=this._calendar[a]||this._calendar.sameElse;return G(a)?a.call(b,c):a};wa.longDateFormat=function(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];if(b||!c)return b;this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)});return this._longDateFormat[a]};wa.invalidDate=function(){return this._invalidDate};wa.ordinal=function(a){return this._ordinal.replace("%d",a)};wa.preparse=dc;wa.postformat=dc;wa.relativeTime=function(a,b,c,d){var e=this._relativeTime[c];
return G(e)?e(a,b,c,d):e.replace(/%d/i,a)};wa.pastFuture=function(a,b){a=this._relativeTime[0<a?"future":"past"];return G(a)?a(b):a.replace(/%s/i,b)};wa.set=function(a){var b,c;for(c in a)b=a[c],G(b)?this[c]=b:this["_"+c]=b;this._config=a;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)};wa.months=function(b,c){return b?a(this._months)?this._months[b.month()]:this._months[(this._months.isFormat||fc).test(c)?"format":
"standalone"][b.month()]:a(this._months)?this._months:this._months.standalone};wa.monthsShort=function(b,c){return b?a(this._monthsShort)?this._monthsShort[b.month()]:this._monthsShort[fc.test(c)?"format":"standalone"][b.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone};wa.monthsParse=function(a,b,c){var e,g;if(this._monthsParseExact){a:{a=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],e=0;12>e;++e)g=
d([2E3,e]),this._shortMonthsParse[e]=this.monthsShort(g,"").toLocaleLowerCase(),this._longMonthsParse[e]=this.months(g,"").toLocaleLowerCase();if(c)b="MMM"===b?Ea.call(this._shortMonthsParse,a):Ea.call(this._longMonthsParse,a);else if("MMM"===b){b=Ea.call(this._shortMonthsParse,a);if(-1!==b)break a;b=Ea.call(this._longMonthsParse,a)}else{b=Ea.call(this._longMonthsParse,a);if(-1!==b)break a;b=Ea.call(this._shortMonthsParse,a)}b=-1!==b?b:null}return b}this._monthsParse||(this._monthsParse=[],this._longMonthsParse=
[],this._shortMonthsParse=[]);for(e=0;12>e;e++)if(g=d([2E3,e]),c&&!this._longMonthsParse[e]&&(this._longMonthsParse[e]=new RegExp("^"+this.months(g,"").replace(".","")+"$","i"),this._shortMonthsParse[e]=new RegExp("^"+this.monthsShort(g,"").replace(".","")+"$","i")),c||this._monthsParse[e]||(g="^"+this.months(g,"")+"|^"+this.monthsShort(g,""),this._monthsParse[e]=new RegExp(g.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[e].test(a)||c&&"MMM"===b&&this._shortMonthsParse[e].test(a)||!c&&
this._monthsParse[e].test(a))return e};wa.monthsRegex=function(a){if(this._monthsParseExact)return g(this,"_monthsRegex")||xa.call(this),a?this._monthsStrictRegex:this._monthsRegex;g(this,"_monthsRegex")||(this._monthsRegex=pc);return this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex};wa.monthsShortRegex=function(a){if(this._monthsParseExact)return g(this,"_monthsRegex")||xa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex;g(this,"_monthsShortRegex")||(this._monthsShortRegex=
pc);return this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex};wa.week=function(a){return fb(a,this._week.dow,this._week.doy).week};wa.firstDayOfYear=function(){return this._week.doy};wa.firstDayOfWeek=function(){return this._week.dow};wa.weekdays=function(b,c){return b?a(this._weekdays)?this._weekdays[b.day()]:this._weekdays[this._weekdays.isFormat.test(c)?"format":"standalone"][b.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone};wa.weekdaysMin=function(a){return a?
this._weekdaysMin[a.day()]:this._weekdaysMin};wa.weekdaysShort=function(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort};wa.weekdaysParse=function(a,b,c){var e,g;if(this._weekdaysParseExact)return Wa.call(this,a,b,c);this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]);for(e=0;7>e;e++)if(g=d([2E3,1]).day(e),c&&!this._fullWeekdaysParse[e]&&(this._fullWeekdaysParse[e]=new RegExp("^"+this.weekdays(g,"").replace(".",
".?")+"$","i"),this._shortWeekdaysParse[e]=new RegExp("^"+this.weekdaysShort(g,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[e]=new RegExp("^"+this.weekdaysMin(g,"").replace(".",".?")+"$","i")),this._weekdaysParse[e]||(g="^"+this.weekdays(g,"")+"|^"+this.weekdaysShort(g,"")+"|^"+this.weekdaysMin(g,""),this._weekdaysParse[e]=new RegExp(g.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[e].test(a)||c&&"ddd"===b&&this._shortWeekdaysParse[e].test(a)||c&&"dd"===b&&this._minWeekdaysParse[e].test(a)||
!c&&this._weekdaysParse[e].test(a))return e};wa.weekdaysRegex=function(a){if(this._weekdaysParseExact)return g(this,"_weekdaysRegex")||q.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex;g(this,"_weekdaysRegex")||(this._weekdaysRegex=pc);return this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex};wa.weekdaysShortRegex=function(a){if(this._weekdaysParseExact)return g(this,"_weekdaysRegex")||q.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex;g(this,
"_weekdaysShortRegex")||(this._weekdaysShortRegex=pc);return this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex};wa.weekdaysMinRegex=function(a){if(this._weekdaysParseExact)return g(this,"_weekdaysRegex")||q.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex;g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=pc);return this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex};wa.isPM=function(a){return"p"===(a+"").toLowerCase().charAt(0)};
wa.meridiem=function(a,b,c){return 11<a?c?"pm":"PM":c?"am":"AM"};Ra("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,b=1===y(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+b}});b.lang=x("moment.lang is deprecated. Use moment.locale instead.",Ra);b.langData=x("moment.langData is deprecated. Use moment.localeData instead.",Ia);var xb=Math.abs,ld=Ta("ms"),md=Ta("s"),nd=Ta("m"),u=Ta("h"),Yb=Ta("d"),Va=Ta("w"),Zb=Ta("M"),I=Ta("y"),Fb=wb("milliseconds"),
Ld=wb("seconds"),Md=wb("minutes"),Nd=wb("hours"),Od=wb("days"),Pd=wb("months"),Qd=wb("years"),gc=Math.round,Jb={ss:44,s:45,m:45,h:22,d:26,M:11},Ad=Math.abs,ua=ea.prototype;ua.isValid=function(){return this._isValid};ua.abs=function(){var a=this._data;this._milliseconds=xb(this._milliseconds);this._days=xb(this._days);this._months=xb(this._months);a.milliseconds=xb(a.milliseconds);a.seconds=xb(a.seconds);a.minutes=xb(a.minutes);a.hours=xb(a.hours);a.months=xb(a.months);a.years=xb(a.years);return this};
ua.add=function(a,b){return oc(this,a,b,1)};ua.subtract=function(a,b){return oc(this,a,b,-1)};ua.as=function(a){if(!this.isValid())return NaN;var b,c=this._milliseconds;a=P(a);if("month"===a||"year"===a)return b=this._days+c/864E5,b=this._months+4800*b/146097,"month"===a?b:b/12;b=this._days+Math.round(146097*this._months/4800);switch(a){case "week":return b/7+c/6048E5;case "day":return b+c/864E5;case "hour":return 24*b+c/36E5;case "minute":return 1440*b+c/6E4;case "second":return 86400*b+c/1E3;case "millisecond":return Math.floor(864E5*
b)+c;default:throw Error("Unknown unit "+a);}};ua.asMilliseconds=ld;ua.asSeconds=md;ua.asMinutes=nd;ua.asHours=u;ua.asDays=Yb;ua.asWeeks=Va;ua.asMonths=Zb;ua.asYears=I;ua.valueOf=function(){return this.isValid()?this._milliseconds+864E5*this._days+this._months%12*2592E6+31536E6*y(this._months/12):NaN};ua._bubble=function(){var a=this._milliseconds,b=this._days,c=this._months,d=this._data;0<=a&&0<=b&&0<=c||0>=a&&0>=b&&0>=c||(a+=864E5*Pb(146097*c/4800+b),c=b=0);d.milliseconds=a%1E3;a=m(a/1E3);d.seconds=
a%60;a=m(a/60);d.minutes=a%60;a=m(a/60);d.hours=a%24;b+=m(a/24);a=m(4800*b/146097);c+=a;b-=Pb(146097*a/4800);a=m(c/12);d.days=b;d.months=c%12;d.years=a;return this};ua.clone=function(){return ab(this)};ua.get=function(a){a=P(a);return this.isValid()?this[a+"s"]():NaN};ua.milliseconds=Fb;ua.seconds=Ld;ua.minutes=Md;ua.hours=Nd;ua.days=Od;ua.weeks=function(){return m(this.days()/7)};ua.months=Pd;ua.years=Qd;ua.humanize=function(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),
c;c=!a;var d=ab(this).abs(),e=gc(d.as("s")),g=gc(d.as("m")),f=gc(d.as("h")),h=gc(d.as("d")),m=gc(d.as("M")),d=gc(d.as("y")),e=e<=Jb.ss&&["s",e]||e<Jb.s&&["ss",e]||1>=g&&["m"]||g<Jb.m&&["mm",g]||1>=f&&["h"]||f<Jb.h&&["hh",f]||1>=h&&["d"]||h<Jb.d&&["dd",h]||1>=m&&["M"]||m<Jb.M&&["MM",m]||1>=d&&["y"]||["yy",d];e[2]=c;e[3]=0<+this;e[4]=b;c=Ec.apply(null,e);a&&(c=b.pastFuture(+this,c));return b.postformat(c)};ua.toISOString=Fc;ua.toString=Fc;ua.toJSON=Fc;ua.locale=cc;ua.localeData=ob;ua.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
Fc);ua.lang=sc;M("X",0,0,"unix");M("x",0,0,"valueOf");H("x",Gc);H("X",/[+-]?\d+(\.\d{1,3})?/);W("X",function(a,b,c){c._d=new Date(1E3*parseFloat(a,10))});W("x",function(a,b,c){c._d=new Date(y(a))});b.version="2.22.1";gd=K;b.fn=S;b.min=function(){var a=[].slice.call(arguments,0);return ta("isBefore",a)};b.max=function(){var a=[].slice.call(arguments,0);return ta("isAfter",a)};b.now=function(){return Date.now?Date.now():+new Date};b.utc=d;b.unix=function(a){return K(1E3*a)};b.months=function(a,b){return Ob(a,
b,"months")};b.isDate=l;b.locale=Ra;b.invalid=t;b.duration=ab;b.isMoment=w;b.weekdays=function(a,b,c){return Hb(a,b,c,"weekdays")};b.parseZone=function(){return K.apply(null,arguments).parseZone()};b.localeData=Ia;b.isDuration=ka;b.monthsShort=function(a,b){return Ob(a,b,"monthsShort")};b.weekdaysMin=function(a,b,c){return Hb(a,b,c,"weekdaysMin")};b.defineLocale=jb;b.updateLocale=function(a,b){if(null!=b){var c,d=jd;c=Pa(a);null!=c&&(d=c._config);b=C(d,b);b=new O(b);b.parentLocale=La[a];La[a]=b;Ra(a)}else null!=
La[a]&&(null!=La[a].parentLocale?La[a]=La[a].parentLocale:null!=La[a]&&delete La[a]);return La[a]};b.locales=function(){return Qb(La)};b.weekdaysShort=function(a,b,c){return Hb(a,b,c,"weekdaysShort")};b.normalizeUnits=P;b.relativeTimeRounding=function(a){return void 0===a?gc:"function"===typeof a?(gc=a,!0):!1};b.relativeTimeThreshold=function(a,b){if(void 0===Jb[a])return!1;if(void 0===b)return Jb[a];Jb[a]=b;"s"===a&&(Jb.ss=b-1);return!0};b.calendarFormat=function(a,b){a=a.diff(b,"days",!0);return-6>
a?"sameElse":-1>a?"lastWeek":0>a?"lastDay":1>a?"sameDay":2>a?"nextDay":7>a?"nextWeek":"sameElse"};b.prototype=S;b.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"};return b})},"esri/core/sql/AggregateFunctions":function(){define(["require","exports"],function(b,a){function r(a){for(var b=0,c=0;c<a.length;c++)b+=
a[c];return b/a.length}function f(a){for(var b=r(a),c=a.length,g=0,f=0;f<a.length;f++)g+=Math.pow(a[f]-b,2);return 1<c?g/(c-1):0}Object.defineProperty(a,"__esModule",{value:!0});a.aggregateFunction=function(a,b){var c=k[a.toLowerCase()];if(null==c)throw Error("Function Not Recognised");if(b.length<c.minParams||b.length>c.maxParams)throw Error("Invalid Parameter count for call to "+a.toUpperCase());return c.evaluate(b)};a.isAggregate=function(a,b){a=k[a.toLowerCase()];return null!=a&&b>=a.minParams&&
b<=a.maxParams};var k={min:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.min.apply(Math,a[0])}},max:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.max.apply(Math,a[0])}},avg:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:r(a[0])}},sum:{minParams:1,maxParams:1,evaluate:function(a){if(null==a[0])a=null;else{a=a[0];for(var b=0,c=0;c<a.length;c++)b+=a[c];a=b}return a}},stddev:{minParams:1,maxParams:1,evaluate:function(a){return null==
a[0]?null:Math.sqrt(f(a[0]))}},count:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:a[0].length}},var:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:f(a[0])}}}})},"esri/core/sql/StandardizedFunctions":function(){define(["require","exports","dojo/regexp"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});a.evaluateFunction=function(a,b){var k=f[a.toLowerCase()];if(null==k)throw Error("Function Not Recognised");if(b.length<k.minParams||b.length>
k.maxParams)throw Error("Invalid Parameter count for call to "+a.toUpperCase());return k.evaluate(b)};a.isStandardized=function(a,b){a=f[a.toLowerCase()];return null!=a&&b>=a.minParams&&b<=a.maxParams};var f={extract:{minParams:2,maxParams:2,evaluate:function(a){var b=a[0];a=a[1];if(null==a)return null;if(a instanceof Date)switch(b.toUpperCase()){case "SECOND":return a.getSeconds();case "MINUTE":return a.getMinutes();case "HOUR":return a.getHours();case "DAY":return a.getDate();case "MONTH":return a.getMonth()+
1;case "YEAR":return a.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:function(a){if(2===a.length){var b=a[0],f=a[1];return null==b||null==f?null:b.toString().substring(f-1)}if(3===a.length)return b=a[0],f=a[1],a=a[2],null==b||null==f||null==a?null:0>=a?"":b.toString().substring(f-1,f+a-1)}},position:{minParams:2,maxParams:2,evaluate:function(a){var b=a[0];a=a[1];return null==b||null==a?null:a.indexOf(b)+1}},trim:{minParams:2,maxParams:3,
evaluate:function(a){var b=3===a.length,f=b?a[1]:" ",b=b?a[2]:a[1];if(null==f||null==b)return null;f="("+r.escapeString(f)+")";switch(a[0]){case "BOTH":return b.replace(new RegExp("^"+f+"*|"+f+"*$","g"),"");case "LEADING":return b.replace(new RegExp("^"+f+"*","g"),"");case "TRAILING":return b.replace(new RegExp(f+"*$","g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.abs(a[0])}},ceiling:{minParams:1,maxParams:1,
evaluate:function(a){return null==a[0]?null:Math.ceil(a[0])}},floor:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.floor(a[0])}},log:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.log(a[0])}},log10:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.log(a[0])*Math.LOG10E}},sin:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.sin(a[0])}},cos:{minParams:1,maxParams:1,evaluate:function(a){return null==
a[0]?null:Math.cos(a[0])}},tan:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.tan(a[0])}},asin:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.asin(a[0])}},acos:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.acos(a[0])}},atan:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:Math.atan(a[0])}},sign:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:0<a[0]?1:0>a[1]?-1:0}},power:{minParams:2,
maxParams:2,evaluate:function(a){return null==a[0]||null==a[1]?null:Math.pow(a[0],a[1])}},mod:{minParams:2,maxParams:2,evaluate:function(a){return null==a[0]||null==a[1]?null:a[0]%a[1]}},round:{minParams:1,maxParams:2,evaluate:function(a){var b=a[0];a=2===a.length?Math.pow(10,a[1]):1;return null==b?null:Math.round(b*a)/a}},truncate:{minParams:1,maxParams:2,evaluate:function(a){return null==a[0]?null:1===a.length?parseInt(a[0].toFixed(0),10):parseFloat(a[0].toFixed(a[1]))}},char_length:{minParams:1,
maxParams:1,evaluate:function(a){return"string"===typeof a[0]||a[0]instanceof String?a[0].length:0}},concat:{minParams:1,maxParams:Infinity,evaluate:function(a){for(var b="",f=0;f<a.length;f++){if(null==a[f])return null;b+=a[f].toString()}return b}},lower:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:a[0].toString().toLowerCase()}},upper:{minParams:1,maxParams:1,evaluate:function(a){return null==a[0]?null:a[0].toString().toUpperCase()}}}})},"esri/core/sql/WhereGrammar":function(){define(["require",
"exports","./sql92grammar"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(){}a.parse=function(a){return r.parse(a)};return a}();a.WhereGrammar=b})},"esri/core/sql/sql92grammar":function(){define([],function(){function b(a,r,f,k){this.message=a;this.expected=r;this.found=f;this.location=k;this.name="SyntaxError";"function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,b)}(function(a,b){function f(){this.constructor=a}f.prototype=b.prototype;
a.prototype=new f})(b,Error);b.buildMessage=function(a,b){function f(a){return a.charCodeAt(0).toString(16).toUpperCase()}function k(a){return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+f(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+f(a)})}function n(a){return a.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,
"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+f(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+f(a)})}var l={literal:function(a){return'"'+k(a.text)+'"'},"class":function(a){var b="",c;for(c=0;c<a.parts.length;c++)b+=a.parts[c]instanceof Array?n(a.parts[c][0])+"-"+n(a.parts[c][1]):n(a.parts[c]);return"["+(a.inverted?"^":"")+b+"]"},any:function(a){return"any character"},end:function(a){return"end of input"},other:function(a){return a.description}};
return"Expected "+function(a){var b=Array(a.length),c;for(c=0;c<a.length;c++){var d=c,f;f=a[c];f=l[f.type](f);b[d]=f}b.sort();if(0<b.length){for(a=c=1;c<b.length;c++)b[c-1]!==b[c]&&(b[a]=b[c],a++);b.length=a}switch(b.length){case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return b.slice(0,-1).join(", ")+", or "+b[b.length-1]}}(a)+" but "+(b?'"'+k(b)+'"':"end of input")+" found."};return{SyntaxError:b,parse:function(a,r){function f(a,b){return{type:"literal",text:a,ignoreCase:b}}function k(a,
b,c){return{type:"class",parts:a,inverted:b,ignoreCase:c}}function n(b){var c=Yb[b],d;if(!c){for(d=b-1;!Yb[d];)d--;c=Yb[d];for(c={line:c.line,column:c.column};d<b;)10===a.charCodeAt(d)?(c.line++,c.column=1):c.column++,d++;Yb[b]=c}return c}function l(a,b){var c=n(a),d=n(b);return{start:{offset:a,line:c.line,column:c.column},end:{offset:b,line:d.line,column:d.column}}}function c(a){u<Va||(u>Va&&(Va=u,Zb=[]),Zb.push(a))}function g(){var a,b,c;a=u;b=N();b!==q?(b=d(),b!==q?(c=N(),c!==q?a=b:(u=a,a=q)):
(u=a,a=q)):(u=a,a=q);return a}function h(){var a,b,c,e,g,f,h,m;a=u;b=d();if(b!==q){c=[];e=u;g=N();g!==q?(f=Oa(),f!==q?(h=N(),h!==q?(m=d(),m!==q?e=g=[g,f,h,m]:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q);for(;e!==q;)c.push(e),e=u,g=N(),g!==q?(f=Oa(),f!==q?(h=N(),h!==q?(m=d(),m!==q?e=g=[g,f,h,m]:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q);if(c!==q){a={type:"expr_list"};b=[b];for(e=0;e<c.length;e++)b.push(c[e][3]);a.value=b}else u=a,a=q}else u=a,a=q;return a}function d(){var a,b,c,d,e,g,f,h;a=u;b=v();if(b!==
q){c=[];d=u;e=N();e!==q?(g=Q(),g!==q?(f=N(),f!==q?(h=v(),h!==q?d=e=[e,g,f,h]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);for(;d!==q;)c.push(d),d=u,e=N(),e!==q?(g=Q(),g!==q?(f=N(),f!==q?(h=v(),h!==q?d=e=[e,g,f,h]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);c!==q?a=b=Wa(b,c):(u=a,a=q)}else u=a,a=q;return a}function v(){var a,b,c,d,e,g,f,h;a=u;b=z();if(b!==q){c=[];d=u;e=N();e!==q?(g=ba(),g!==q?(f=N(),f!==q?(h=z(),h!==q?d=e=[e,g,f,h]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);for(;d!==q;)c.push(d),d=u,
e=N(),e!==q?(g=ba(),g!==q?(f=N(),f!==q?(h=z(),h!==q?d=e=[e,g,f,h]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);c!==q?a=b=Wa(b,c):(u=a,a=q)}else u=a,a=q;return a}function z(){var b,d,e,g,f;b=u;d=W();d===q&&(d=u,33===a.charCodeAt(u)?(e=rb,u++):(e=q,0===I&&c(Cb)),e!==q?(g=u,I++,61===a.charCodeAt(u)?(f=Pa,u++):(f=q,0===I&&c(Ra)),I--,f===q?g=void 0:(u=g,g=q),g!==q?d=e=[e,g]:(u=d,d=q)):(u=d,d=q));d!==q?(e=N(),e!==q?(g=z(),g!==q?b=d={type:"unary_expr",operator:"NOT",expr:g}:(u=b,b=q)):(u=b,b=q)):(u=b,b=q);
if(b===q)if(b=u,d=w(),d!==q)if(e=N(),e!==q){var m,k,p;e=[];g=u;f=N();f!==q?(m=t(),m!==q?(k=N(),k!==q?(p=w(),p!==q?g=f=[f,m,k,p]:(u=g,g=q)):(u=g,g=q)):(u=g,g=q)):(u=g,g=q);if(g!==q)for(;g!==q;)e.push(g),g=u,f=N(),f!==q?(m=t(),m!==q?(k=N(),k!==q?(p=w(),p!==q?g=f=[f,m,k,p]:(u=g,g=q)):(u=g,g=q)):(u=g,g=q)):(u=g,g=q);else e=q;e!==q&&(e={type:"arithmetic",tail:e});e===q&&(e=u,g=A(),g!==q?(f=N(),f!==q?(f=Ga(),f!==q?(f=N(),f!==q?(f=h(),f!==q?(m=N(),m!==q?(m=Ka(),m!==q?e=g={op:g,right:f}:(u=e,e=q)):(u=e,e=
q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q),e===q&&(e=u,g=A(),g!==q?(f=N(),f!==q?(f=Ga(),f!==q?(f=N(),f!==q?(f=Ka(),f!==q?e=g={op:g,right:{type:"expr_list",value:[]}}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q),e===q&&(e=u,g=A(),g!==q?(f=N(),f!==q?(f=O(),f!==q?e=g={op:g,right:f}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q))),e===q&&(e=u,f=W(),f!==q?(g=N(),g!==q?(g=V(),g!==q?(m=N(),m!==q?(m=w(),m!==q?(k=N(),k!==q?(k=ba(),k!==q?(f=N(),f!==q?(f=w(),f!==q?e=f={op:"NOT"+g,right:{type:"expr_list",
value:[m,f]}}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q),e===q&&(e=u,f=V(),f!==q?(g=N(),g!==q?(g=w(),g!==q?(m=N(),m!==q?(m=ba(),m!==q?(k=N(),k!==q?(k=w(),k!==q?e=f={op:f,right:{type:"expr_list",value:[g,k]}}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)),e===q&&(e=u,g=J(),g!==q?(f=N(),f!==q?(f=W(),f!==q?(f=N(),f!==q?(f=w(),f!==q?e=g={op:g+"NOT",right:f}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q),e===q&&
(e=u,g=J(),g!==q?(f=N(),f!==q?(f=w(),f!==q?e=g={op:g,right:f}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)),e===q&&(e=u,g=B(),g!==q?(f=N(),f!==q?(f=P(),f!==q?(m=N(),m!==q?(m=u,a.substr(u,6).toLowerCase()===$a?(k=a.substr(u,6),u+=6):(k=q,0===I&&c(Rb)),k!==q?(k=u,I++,p=G(),I--,p===q?k=void 0:(u=k,k=q),k!==q?m="ESCAPE":(u=m,m=q)):(u=m,m=q),m!==q?(m=N(),m!==q?(m=da(),m!==q?e=g={op:g,right:f,escape:m.value}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q)):(u=e,e=q),e===q&&(e=u,g=B(),g!==q?(f=N(),f!==
q?(f=P(),f!==q?e=g={op:g,right:f,escape:""}:(u=e,e=q)):(u=e,e=q)):(u=e,e=q))))));e===q&&(e=null);e!==q?(b=d,d=e,""==d||void 0==d||null==d?d=b:(e=null,d=e="arithmetic"==d.type?Wa(b,d.tail):qa(d.op,b,d.right,d.escape)),b=d):(u=b,b=q)}else u=b,b=q;else u=b,b=q;return b}function t(){var b;a.substr(u,2)===jb?(b=jb,u+=2):(b=q,0===I&&c(Ia));b===q&&(62===a.charCodeAt(u)?(b=kb,u++):(b=q,0===I&&c(Ba)),b===q&&(a.substr(u,2)===Qa?(b=Qa,u+=2):(b=q,0===I&&c(R)),b===q&&(a.substr(u,2)===Na?(b=Na,u+=2):(b=q,0===I&&
c(za)),b===q&&(60===a.charCodeAt(u)?(b=fa,u++):(b=q,0===I&&c(mb)),b===q&&(61===a.charCodeAt(u)?(b=Pa,u++):(b=q,0===I&&c(Ra)),b===q&&(a.substr(u,2)===Ja?(b=Ja,u+=2):(b=q,0===I&&c(oa))))))));return b}function B(){var a,b,c,d;a=a=u;b=W();b!==q?(c=N(),c!==q?(d=Z(),d!==q?a=b=[b,c,d]:(u=a,a=q)):(u=a,a=q)):(u=a,a=q);a!==q&&(a=a[0]+" "+a[2]);a===q&&(a=Z());return a}function A(){var a,b,c,d;a=a=u;b=W();b!==q?(c=N(),c!==q?(d=X(),d!==q?a=b=[b,c,d]:(u=a,a=q)):(u=a,a=q)):(u=a,a=q);a!==q&&(a=a[0]+" "+a[2]);a===
q&&(a=X());return a}function w(){var a,b,c,d,e,g,f,h;a=u;b=y();if(b!==q){c=[];d=u;e=N();e!==q?(g=m(),g!==q?(f=N(),f!==q?(h=y(),h!==q?d=e=[e,g,f,h]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);for(;d!==q;)c.push(d),d=u,e=N(),e!==q?(g=m(),g!==q?(f=N(),f!==q?(h=y(),h!==q?d=e=[e,g,f,h]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);c!==q?a=b=Wa(b,c):(u=a,a=q)}else u=a,a=q;return a}function m(){var b;43===a.charCodeAt(u)?(b=bb,u++):(b=q,0===I&&c(K));b===q&&(45===a.charCodeAt(u)?(b=ta,u++):(b=q,0===I&&c(D)));
return b}function y(){var a,b,c,d,g,f,h,m;a=u;b=p();if(b!==q){c=[];d=u;g=N();g!==q?(f=e(),f!==q?(h=N(),h!==q?(m=p(),m!==q?d=g=[g,f,h,m]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);for(;d!==q;)c.push(d),d=u,g=N(),g!==q?(f=e(),f!==q?(h=N(),h!==q?(m=p(),m!==q?d=g=[g,f,h,m]:(u=d,d=q)):(u=d,d=q)):(u=d,d=q)):(u=d,d=q);c!==q?a=b=Wa(b,c):(u=a,a=q)}else u=a,a=q;return a}function e(){var b;42===a.charCodeAt(u)?(b=ea,u++):(b=q,0===I&&c(ka));b===q&&(47===a.charCodeAt(u)?(b=sa,u++):(b=q,0===I&&c(aa)));return b}
function p(){var b,e,g,f,m,k,p;p=da();if(p===q){var l,n,v,y;l=u;var t,z,r,A;t=u;z=la();z!==q?(r=Y(),r!==q?(A=ma(),A!==q?t=z=parseFloat(z+r+A):(u=t,t=q)):(u=t,t=q)):(u=t,t=q);t===q&&(t=u,z=la(),z!==q?(r=Y(),r!==q?t=z=parseFloat(z+r):(u=t,t=q)):(u=t,t=q),t===q&&(t=u,z=la(),z!==q?(r=ma(),r!==q?t=z=parseFloat(z+r):(u=t,t=q)):(u=t,t=q),t===q&&(t=u,z=la(),z!==q&&(z=parseFloat(z)),t=z)));n=t;n!==q?(v=u,I++,y=F(),I--,y===q?v=void 0:(u=v,v=q),v!==q?l=n={type:"number",value:n}:(u=l,l=q)):(u=l,l=q);p=l;if(p===
q){var w,B;w=u;var tb,V,H,ab;tb=u;a.substr(u,4).toLowerCase()===hd?(V=a.substr(u,4),u+=4):(V=q,0===I&&c(Vc));V!==q?(H=u,I++,ab=G(),I--,ab===q?H=void 0:(u=H,H=q),H!==q?tb=V=[V,H]:(u=tb,tb=q)):(u=tb,tb=q);B=tb;B!==q&&(B={type:"bool",value:!0});w=B;if(w===q){w=u;var Xa,ia,J,D;Xa=u;a.substr(u,5).toLowerCase()===Wc?(ia=a.substr(u,5),u+=5):(ia=q,0===I&&c(id));ia!==q?(J=u,I++,D=G(),I--,D===q?J=void 0:(u=J,J=q),J!==q?Xa=ia=[ia,J]:(u=Xa,Xa=q)):(u=Xa,Xa=q);B=Xa;B!==q&&(B={type:"bool",value:!1});w=B}p=w;if(p===
q){var Oa,ub,xa,U,Z;ub=u;a.substr(u,4).toLowerCase()===Fc?(xa=a.substr(u,4),u+=4):(xa=q,0===I&&c(gd));xa!==q?(U=u,I++,Z=G(),I--,Z===q?U=void 0:(u=U,U=q),U!==q?ub=xa=[xa,U]:(u=ub,ub=q)):(u=ub,ub=q);Oa=ub;Oa!==q&&(Oa={type:"null",value:null});p=Oa;if(p===q){var W,nb,K,L;W=u;var Q,Pa,R,S;Q=u;a.substr(u,4).toLowerCase()===Eb?(Pa=a.substr(u,4),u+=4):(Pa=q,0===I&&c(Mb));Pa!==q?(R=u,I++,S=G(),I--,S===q?R=void 0:(u=R,R=q),R!==q?Q=Pa="DATE":(u=Q,Q=q)):(u=Q,Q=q);nb=Q;nb!==q?(K=N(),K!==q?(L=P(),L!==q?W=nb={type:"date",
value:L.value}:(u=W,W=q)):(u=W,W=q)):(u=W,W=q);p=W;if(p===q){var gb,ba,aa,ca;gb=u;var hb,fa,ea,ka;hb=u;a.substr(u,9).toLowerCase()===Ma?(fa=a.substr(u,9),u+=9):(fa=q,0===I&&c(lb));fa!==q?(ea=u,I++,ka=G(),I--,ka===q?ea=void 0:(u=ea,ea=q),ea!==q?hb=fa="TIMESTAMP":(u=hb,hb=q)):(u=hb,hb=q);ba=hb;ba!==q?(aa=N(),aa!==q?(ca=P(),ca!==q?gb=ba={type:"timestamp",value:ca.value}:(u=gb,gb=q)):(u=gb,gb=q)):(u=gb,gb=q);p=gb}}}}}b=p;if(b===q){var qa,Ra,jb,oa,fb,Cb,cc,sa,ta,wa,Ha,Za;qa=u;var Ia,va,rb,Ea;Ia=u;a.substr(u,
7).toLowerCase()===pc?(va=a.substr(u,7),u+=7):(va=q,0===I&&c(Xc));va!==q?(rb=u,I++,Ea=G(),I--,Ea===q?rb=void 0:(u=rb,rb=q),rb!==q?Ia=va="EXTRACT":(u=Ia,Ia=q)):(u=Ia,Ia=q);Ra=Ia;if(Ra!==q)if(jb=N(),jb!==q)if(oa=Ga(),oa!==q)if(fb=N(),fb!==q){var Ba,za,Wa,Da,Na;za=u;a.substr(u,4).toLowerCase()===kd?(Wa=a.substr(u,4),u+=4):(Wa=q,0===I&&c(Dd));Wa!==q?(Da=u,I++,Na=G(),I--,Na===q?Da=void 0:(u=Da,Da=q),Da!==q?za=Wa="YEAR":(u=za,za=q)):(u=za,za=q);Ba=za;if(Ba===q){var ob,kb,Qa,Ua;ob=u;a.substr(u,5).toLowerCase()===
jd?(kb=a.substr(u,5),u+=5):(kb=q,0===I&&c(La));kb!==q?(Qa=u,I++,Ua=G(),I--,Ua===q?Qa=void 0:(u=Qa,Qa=q),Qa!==q?ob=kb="MONTH":(u=ob,ob=q)):(u=ob,ob=q);Ba=ob;if(Ba===q){var Ja,Sa,Va,mb;Ja=u;a.substr(u,3).toLowerCase()===kc?(Sa=a.substr(u,3),u+=3):(Sa=q,0===I&&c(jc));Sa!==q?(Va=u,I++,mb=G(),I--,mb===q?Va=void 0:(u=Va,Va=q),Va!==q?Ja=Sa="DAY":(u=Ja,Ja=q)):(u=Ja,Ja=q);Ba=Ja;if(Ba===q){var Ta,db,bb,wb;Ta=u;a.substr(u,4).toLowerCase()===wd?(db=a.substr(u,4),u+=4):(db=q,0===I&&c(xd));db!==q?(bb=u,I++,wb=
G(),I--,wb===q?bb=void 0:(u=bb,bb=q),bb!==q?Ta=db="HOUR":(u=Ta,Ta=q)):(u=Ta,Ta=q);Ba=Ta;if(Ba===q){var $a,pb,ib,Gb;$a=u;a.substr(u,6).toLowerCase()===yd?(pb=a.substr(u,6),u+=6):(pb=q,0===I&&c(zc));pb!==q?(ib=u,I++,Gb=G(),I--,Gb===q?ib=void 0:(u=ib,ib=q),ib!==q?$a=pb="MINUTE":(u=$a,$a=q)):(u=$a,$a=q);Ba=$a;if(Ba===q){var cb,vb,qb,Lb;cb=u;a.substr(u,6).toLowerCase()===Yc?(vb=a.substr(u,6),u+=6):(vb=q,0===I&&c(zd));vb!==q?(qb=u,I++,Lb=G(),I--,Lb===q?qb=void 0:(u=qb,qb=q),qb!==q?cb=vb="SECOND":(u=cb,
cb=q)):(u=cb,cb=q);Ba=cb}}}}}Cb=Ba;Cb!==q?(cc=N(),cc!==q?(sa=na(),sa!==q?(ta=N(),ta!==q?(wa=d(),wa!==q?(Ha=N(),Ha!==q?(Za=Ka(),Za!==q?qa=Ra={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:Cb},wa]}}:(u=qa,qa=q)):(u=qa,qa=q)):(u=qa,qa=q)):(u=qa,qa=q)):(u=qa,qa=q)):(u=qa,qa=q)):(u=qa,qa=q)}else u=qa,qa=q;else u=qa,qa=q;else u=qa,qa=q;else u=qa,qa=q;b=qa;if(b===q){var Ca,Ib,Vb,Xb,Yb,Fb,ac,bc,dc,Hb,ec,eb,Oc,Wb,Zb,$b;Ca=u;var uc,Nb,Zc,nc;uc=u;a.substr(u,9).toLowerCase()===
Cd?(Nb=a.substr(u,9),u+=9):(Nb=q,0===I&&c(Hc));Nb!==q?(Zc=u,I++,nc=G(),I--,nc===q?Zc=void 0:(u=Zc,Zc=q),Zc!==q?uc=Nb="SUBSTRING":(u=uc,uc=q)):(u=uc,uc=q);Ib=uc;if(Ib!==q)if(Vb=N(),Vb!==q)if(Xb=Ga(),Xb!==q)if(Yb=N(),Yb!==q)if(Fb=d(),Fb!==q)if(ac=N(),ac!==q)if(bc=na(),bc!==q)if(dc=N(),dc!==q)if(Hb=d(),Hb!==q)if(ec=N(),ec!==q){eb=u;var vc,Ob,$c,oc;vc=u;a.substr(u,3).toLowerCase()===Bd?(Ob=a.substr(u,3),u+=3):(Ob=q,0===I&&c(Gc));Ob!==q?($c=u,I++,oc=G(),I--,oc===q?$c=void 0:(u=$c,$c=q),$c!==q?vc=Ob="FOR":
(u=vc,vc=q)):(u=vc,vc=q);Oc=vc;Oc!==q?(Wb=N(),Wb!==q?(Zb=d(),Zb!==q?($b=N(),$b!==q?eb=Oc=[Oc,Wb,Zb,$b]:(u=eb,eb=q)):(u=eb,eb=q)):(u=eb,eb=q)):(u=eb,eb=q);eb===q&&(eb=null);eb!==q?(Oc=Ka(),Oc!==q?Ca=Ib={type:"function",name:"substring",args:{type:"expr_list",value:eb?[Fb,Hb,eb[2]]:[Fb,Hb]}}:(u=Ca,Ca=q)):(u=Ca,Ca=q)}else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;else u=Ca,Ca=q;b=Ca;if(b===q){var ja,Pc,Pb,Qb,Rb,yb,
Sb,Qc,Tb,Ub,qc,fc,sc,tc;ja=u;Pc=pa();Pc!==q?(Pb=N(),Pb!==q?(Qb=Ga(),Qb!==q?(Rb=N(),Rb!==q?(yb=E(),yb===q&&(yb=null),yb!==q?(Sb=N(),Sb!==q?(Qc=d(),Qc!==q?(Tb=N(),Tb!==q?(Ub=na(),Ub!==q?(qc=N(),qc!==q?(fc=d(),fc!==q?(sc=N(),sc!==q?(tc=Ka(),tc!==q?ja=Pc={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==yb?"BOTH":yb},Qc,fc]}}:(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):
(u=ja,ja=q)):(u=ja,ja=q);ja===q&&(ja=u,Pc=pa(),Pc!==q?(Pb=N(),Pb!==q?(Qb=Ga(),Qb!==q?(Rb=N(),Rb!==q?(yb=E(),yb===q&&(yb=null),yb!==q?(Sb=N(),Sb!==q?(Qc=d(),Qc!==q?(Tb=N(),Tb!==q?(Ub=Ka(),Ub!==q?ja=Pc={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==yb?"BOTH":yb},Qc]}}:(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q)):(u=ja,ja=q));b=ja;if(b===q){var Fa,lc,yc,Ac,Bc,mc,Cc,Dc,Ec,rc,Ic,Jc;Fa=u;var wc,od,ad,Kc;wc=
u;a.substr(u,8).toLowerCase()===Db?(od=a.substr(u,8),u+=8):(od=q,0===I&&c(sb));od!==q?(ad=u,I++,Kc=G(),I--,Kc===q?ad=void 0:(u=ad,ad=q),ad!==q?wc=od="POSITION":(u=wc,wc=q)):(u=wc,wc=q);lc=wc;lc!==q?(yc=N(),yc!==q?(Ac=Ga(),Ac!==q?(Bc=N(),Bc!==q?(mc=d(),mc!==q?(Cc=N(),Cc!==q?(Dc=X(),Dc!==q?(Ec=N(),Ec!==q?(rc=d(),rc!==q?(Ic=N(),Ic!==q?(Jc=Ka(),Jc!==q?Fa=lc={type:"function",name:"position",args:{type:"expr_list",value:[mc,rc]}}:(u=Fa,Fa=q)):(u=Fa,Fa=q)):(u=Fa,Fa=q)):(u=Fa,Fa=q)):(u=Fa,Fa=q)):(u=Fa,Fa=
q)):(u=Fa,Fa=q)):(u=Fa,Fa=q)):(u=Fa,Fa=q)):(u=Fa,Fa=q)):(u=Fa,Fa=q);b=Fa;if(b===q){var Ya,pd,Lc,Mc,Nc,Rc,Fd,Gd;Ya=u;var zb,bd,cd,Kb;zb=u;zb=bd=x();if(zb===q)if(zb=u,96===a.charCodeAt(u)?(bd=xb,u++):(bd=q,0===I&&c(ld)),bd!==q){cd=[];md.test(a.charAt(u))?(Kb=a.charAt(u),u++):(Kb=q,0===I&&c(nd));if(Kb!==q)for(;Kb!==q;)cd.push(Kb),md.test(a.charAt(u))?(Kb=a.charAt(u),u++):(Kb=q,0===I&&c(nd));else cd=q;cd!==q?(96===a.charCodeAt(u)?(Kb=xb,u++):(Kb=q,0===I&&c(ld)),Kb!==q?zb=bd=cd.join(""):(u=zb,zb=q)):(u=
zb,zb=q)}else u=zb,zb=q;pd=zb;pd!==q?(Lc=N(),Lc!==q?(Mc=Ga(),Mc!==q?(Nc=N(),Nc!==q?(Rc=h(),Rc===q&&(Rc=null),Rc!==q?(Fd=N(),Fd!==q?(Gd=Ka(),Gd!==q?Ya=pd={type:"function",name:pd,args:Rc?Rc:{type:"expr_list",value:[]}}:(u=Ya,Ya=q)):(u=Ya,Ya=q)):(u=Ya,Ya=q)):(u=Ya,Ya=q)):(u=Ya,Ya=q)):(u=Ya,Ya=q)):(u=Ya,Ya=q);b=Ya;if(b===q){var qd,ra,Sc,rd,Tc,sd,hc,Ab,dd,Hd,Id;ra=u;Sc=ha();if(Sc!==q)if(rd=N(),rd!==q)if(Tc=d(),Tc!==q)if(sd=N(),sd!==q){hc=[];for(Ab=T();Ab!==q;)hc.push(Ab),Ab=T();hc!==q?(Ab=N(),Ab!==q?
(dd=Aa(),dd!==q?ra=Sc={type:"case_expression",format:"simple",operand:Tc,clauses:hc,else:null}:(u=ra,ra=q)):(u=ra,ra=q)):(u=ra,ra=q)}else u=ra,ra=q;else u=ra,ra=q;else u=ra,ra=q;else u=ra,ra=q;if(ra===q)if(ra=u,Sc=ha(),Sc!==q)if(rd=N(),rd!==q)if(Tc=d(),Tc!==q)if(sd=N(),sd!==q){hc=[];for(Ab=T();Ab!==q;)hc.push(Ab),Ab=T();hc!==q?(Ab=N(),Ab!==q?(dd=M(),dd!==q?(Hd=N(),Hd!==q?(Id=Aa(),Id!==q?ra=Sc={type:"case_expression",format:"simple",operand:Tc,clauses:hc,else:dd.value}:(u=ra,ra=q)):(u=ra,ra=q)):(u=
ra,ra=q)):(u=ra,ra=q)):(u=ra,ra=q)}else u=ra,ra=q;else u=ra,ra=q;else u=ra,ra=q;else u=ra,ra=q;qd=ra;if(qd===q){var ya,Uc,td,ic,Bb,ed,Jd,Kd;ya=u;Uc=ha();if(Uc!==q)if(td=N(),td!==q){ic=[];for(Bb=ga();Bb!==q;)ic.push(Bb),Bb=ga();ic!==q?(Bb=N(),Bb!==q?(ed=Aa(),ed!==q?ya=Uc={type:"case_expression",format:"searched",clauses:ic,else:null}:(u=ya,ya=q)):(u=ya,ya=q)):(u=ya,ya=q)}else u=ya,ya=q;else u=ya,ya=q;if(ya===q)if(ya=u,Uc=ha(),Uc!==q)if(td=N(),td!==q){ic=[];for(Bb=ga();Bb!==q;)ic.push(Bb),Bb=ga();ic!==
q?(Bb=N(),Bb!==q?(ed=M(),ed!==q?(Jd=N(),Jd!==q?(Kd=Aa(),Kd!==q?ya=Uc={type:"case_expression",format:"searched",clauses:ic,else:ed.value}:(u=ya,ya=q)):(u=ya,ya=q)):(u=ya,ya=q)):(u=ya,ya=q)):(u=ya,ya=q)}else u=ya,ya=q;else u=ya,ya=q;qd=ya}b=qd;if(b===q){var fd,xc,Ed,ud,vd;xc=u;Ed=F();if(Ed!==q){ud=[];for(vd=C();vd!==q;)ud.push(vd),vd=C();ud!==q?xc=Ed+=ud.join(""):(u=xc,xc=q)}else u=xc,xc=q;fd=xc;fd!==q&&(fd={type:"column_ref",table:"",column:fd});b=fd;b===q&&(b=O(),b===q&&(b=u,e=Ga(),e!==q?(g=N(),g!==
q?(f=d(),f!==q?(m=N(),m!==q?(k=Ka(),k!==q?(f.paren=!0,b=e=f):(u=b,b=q)):(u=b,b=q)):(u=b,b=q)):(u=b,b=q)):(u=b,b=q)))}}}}}}}return b}function x(){var a,b,c,d;a=u;b=F();if(b!==q){c=[];for(d=G();d!==q;)c.push(d),d=G();c!==q?a=b+=c.join(""):(u=a,a=q)}else u=a,a=q;return a}function F(){var b;ca.test(a.charAt(u))?(b=a.charAt(u),u++):(b=q,0===I&&c(L));return b}function G(){var b;tb.test(a.charAt(u))?(b=a.charAt(u),u++):(b=q,0===I&&c(ab));return b}function C(){var b;Xa.test(a.charAt(u))?(b=a.charAt(u),u++):
(b=q,0===I&&c(ub));return b}function O(){var b,d,e;b=u;64===a.charCodeAt(u)?(d=nb,u++):(d=q,0===I&&c(gb));d!==q?(e=x(),e!==q?b=d=[d,e]:(u=b,b=q)):(u=b,b=q);b!==q&&(b={type:"param",value:b[1]});return b}function E(){var b,d,e;b=u;a.substr(u,7).toLowerCase()===lc?(d=a.substr(u,7),u+=7):(d=q,0===I&&c(yc));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="LEADING":(u=b,b=q)):(u=b,b=q);b===q&&(b=u,a.substr(u,8).toLowerCase()===qc?(d=a.substr(u,8),u+=8):(d=q,0===I&&c(Ea)),d!==q?(d=u,I++,e=G(),
I--,e===q?d=void 0:(u=d,d=q),d!==q?b="TRAILING":(u=b,b=q)):(u=b,b=q),b===q&&(b=u,a.substr(u,4).toLowerCase()===fc?(d=a.substr(u,4),u+=4):(d=q,0===I&&c(Nb)),d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="BOTH":(u=b,b=q)):(u=b,b=q)));return b}function P(){var a;a=da();a===q&&(a=O());return a}function da(){var b,d,e;b=u;39===a.charCodeAt(u)?(d=hb,u++):(d=q,0===I&&c(cc));d===q&&(a.substr(u,2)===ob?(d=ob,u+=2):(d=q,0===I&&c(pb)));if(d!==q){d=[];e=u;a.substr(u,2)===vb?(e=vb,u+=2):(e=q,0===I&&
c(nc));e!==q&&(e="'");e===q&&(dc.test(a.charAt(u))?(e=a.charAt(u),u++):(e=q,0===I&&c(qb)));for(;e!==q;)d.push(e),e=u,a.substr(u,2)===vb?(e=vb,u+=2):(e=q,0===I&&c(nc)),e!==q&&(e="'"),e===q&&(dc.test(a.charAt(u))?(e=a.charAt(u),u++):(e=q,0===I&&c(qb)));d!==q?(39===a.charCodeAt(u)?(e=hb,u++):(e=q,0===I&&c(cc)),e!==q?b=d={type:"string",value:d.join("")}:(u=b,b=q)):(u=b,b=q)}else u=b,b=q;return b}function ga(){var a,b,c;a=u;b=ia();b!==q?(b=N(),b!==q?(b=d(),b!==q?(c=N(),c!==q?(c=xa(),c!==q?(c=N(),c!==q?
(c=d(),c!==q?a=b={type:"when_clause",operand:b,value:c}:(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q);return a}function T(){var a,b,c;a=u;b=ia();b!==q?(b=N(),b!==q?(b=d(),b!==q?(c=N(),c!==q?(c=xa(),c!==q?(c=N(),c!==q?(c=d(),c!==q?a=b={type:"when_clause",operand:b,value:c}:(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q)):(u=a,a=q);return a}function M(){var b,e;b=u;var g,f;e=u;a.substr(u,4).toLowerCase()===Jc?(g=a.substr(u,4),u+=4):(g=q,0===I&&c(Kc));g!==
q?(g=u,I++,f=G(),I--,f===q?g=void 0:(u=g,g=q),g!==q?e="ELSE":(u=e,e=q)):(u=e,e=q);e!==q?(e=N(),e!==q?(e=d(),e!==q?b={type:"else_clause",value:e}:(u=b,b=q)):(u=b,b=q)):(u=b,b=q);return b}function la(){var b,d,e;b=U();b===q&&(b=u,45===a.charCodeAt(u)?(d=ta,u++):(d=q,0===I&&c(D)),d===q&&(43===a.charCodeAt(u)?(d=bb,u++):(d=q,0===I&&c(K))),d!==q?(e=U(),e!==q?b=d=d[0]+e:(u=b,b=q)):(u=b,b=q));return b}function Y(){var b,d;b=u;46===a.charCodeAt(u)?(d=Ob,u++):(d=q,0===I&&c(Hb));d!==q?(d=U(),d===q&&(d=null),
d!==q?b="."+(null!=d?d:""):(u=b,b=q)):(u=b,b=q);return b}function ma(){var b,d,e;d=b=u;Ta.test(a.charAt(u))?(e=a.charAt(u),u++):(e=q,0===I&&c(wb));e!==q?(Ec.test(a.charAt(u))?(e=a.charAt(u),u++):(e=q,0===I&&c(ib)),e===q&&(e=null),e!==q?d="e"+(null===e?"":e):(u=d,d=q)):(u=d,d=q);d!==q?(e=U(),e!==q?b=d+e:(u=b,b=q)):(u=b,b=q);return b}function U(){var a,b;a=[];b=H();if(b!==q)for(;b!==q;)a.push(b),b=H();else a=q;a!==q&&(a=a.join(""));return a}function H(){var b;oc.test(a.charAt(u))?(b=a.charAt(u),u++):
(b=q,0===I&&c(Pb));return b}function X(){var b,d,e;b=u;a.substr(u,2).toLowerCase()===Qb?(d=a.substr(u,2),u+=2):(d=q,0===I&&c(Gb));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="IN":(u=b,b=q)):(u=b,b=q);return b}function J(){var b,d,e;b=u;a.substr(u,2).toLowerCase()===Da?(d=a.substr(u,2),u+=2):(d=q,0===I&&c($b));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="IS":(u=b,b=q)):(u=b,b=q);return b}function Z(){var b,d,e;b=u;a.substr(u,4).toLowerCase()===Lb?(d=a.substr(u,4),u+=4):
(d=q,0===I&&c(ac));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="LIKE":(u=b,b=q)):(u=b,b=q);return b}function W(){var b,d,e;b=u;a.substr(u,3).toLowerCase()===Ua?(d=a.substr(u,3),u+=3):(d=q,0===I&&c(Sb));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="NOT":(u=b,b=q)):(u=b,b=q);return b}function ba(){var b,d,e;b=u;a.substr(u,3).toLowerCase()===ec?(d=a.substr(u,3),u+=3):(d=q,0===I&&c(Ib));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="AND":(u=b,b=q)):(u=b,b=q);return b}
function Q(){var b,d,e;b=u;a.substr(u,2).toLowerCase()===va?(d=a.substr(u,2),u+=2):(d=q,0===I&&c(Tb));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="OR":(u=b,b=q)):(u=b,b=q);return b}function V(){var b,d,e;b=u;a.substr(u,7).toLowerCase()===Ub?(d=a.substr(u,7),u+=7):(d=q,0===I&&c(Vb));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="BETWEEN":(u=b,b=q)):(u=b,b=q);return b}function na(){var b,d,e;b=u;a.substr(u,4).toLowerCase()===Wb?(d=a.substr(u,4),u+=4):(d=q,0===I&&c(Xb));d!==
q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="FROM":(u=b,b=q)):(u=b,b=q);return b}function pa(){var b,d,e;b=u;a.substr(u,4).toLowerCase()===bc?(d=a.substr(u,4),u+=4):(d=q,0===I&&c(Sa));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="TRIM":(u=b,b=q)):(u=b,b=q);return b}function ha(){var b,d,e;b=u;a.substr(u,4).toLowerCase()===Ac?(d=a.substr(u,4),u+=4):(d=q,0===I&&c(Bc));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="CASE":(u=b,b=q)):(u=b,b=q);return b}function Aa(){var b,
d,e;b=u;a.substr(u,3).toLowerCase()===rc?(d=a.substr(u,3),u+=3):(d=q,0===I&&c(Ic));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="END":(u=b,b=q)):(u=b,b=q);return b}function ia(){var b,d,e;b=u;a.substr(u,4).toLowerCase()===cb?(d=a.substr(u,4),u+=4):(d=q,0===I&&c(mc));d!==q?(d=u,I++,e=G(),I--,e===q?d=void 0:(u=d,d=q),d!==q?b="WHEN":(u=b,b=q)):(u=b,b=q);return b}function xa(){var b,d,e;b=u;a.substr(u,4).toLowerCase()===Cc?(d=a.substr(u,4),u+=4):(d=q,0===I&&c(Dc));d!==q?(d=u,I++,e=G(),I--,
e===q?d=void 0:(u=d,d=q),d!==q?b="THEN":(u=b,b=q)):(u=b,b=q);return b}function Oa(){var b;44===a.charCodeAt(u)?(b=sc,u++):(b=q,0===I&&c(tc));return b}function Ga(){var b;40===a.charCodeAt(u)?(b=Lc,u++):(b=q,0===I&&c(Mc));return b}function Ka(){var b;41===a.charCodeAt(u)?(b=db,u++):(b=q,0===I&&c(Nc));return b}function N(){var a,b;a=[];for(b=fb();b!==q;)a.push(b),b=fb();return a}function fb(){var b;S.test(a.charAt(u))?(b=a.charAt(u),u++):(b=q,0===I&&c(wa));return b}function qa(a,b,c,d){a={type:"binary_expr",
operator:a,left:b,right:c};void 0!==d&&(a.escape=d);return a}function Wa(a,b){for(var c=0;c<b.length;c++)a=qa(b[c][1],a,b[c][3]);return a}r=void 0!==r?r:{};var q={},Ha={start:g},Za=g,rb="!",Cb=f("!",!1),Pa="\x3d",Ra=f("\x3d",!1),jb="\x3e\x3d",Ia=f("\x3e\x3d",!1),kb="\x3e",Ba=f("\x3e",!1),Qa="\x3c\x3d",R=f("\x3c\x3d",!1),Na="\x3c\x3e",za=f("\x3c\x3e",!1),fa="\x3c",mb=f("\x3c",!1),Ja="!\x3d",oa=f("!\x3d",!1),bb="+",K=f("+",!1),ta="-",D=f("-",!1),ea="*",ka=f("*",!1),sa="/",aa=f("/",!1),ca=/^[A-Za-z_\x80-\uFFFF]/,
L=k([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],!1,!1),tb=/^[A-Za-z0-9_]/,ab=k([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),Xa=/^[A-Za-z0-9_.\x80-\uFFFF]/,ub=k([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),nb="@",gb=f("@",!1),hb="'",cc=f("'",!1),ob="N'",pb=f("N'",!1),vb="''",nc=f("''",!1),dc=/^[^']/,qb=k(["'"],!0,!1),Ob=".",Hb=f(".",!1),oc=/^[0-9]/,Pb=k([["0","9"]],!1,!1),Ta=/^[eE]/,wb=k(["e","E"],!1,!1),Ec=/^[+\-]/,ib=k(["+","-"],!1,!1),Fc="null",gd=f("NULL",!0),hd="true",Vc=
f("TRUE",!0),Wc="false",id=f("FALSE",!0),Qb="in",Gb=f("IN",!0),Da="is",$b=f("IS",!0),Lb="like",ac=f("LIKE",!0),$a="escape",Rb=f("ESCAPE",!0),Ua="not",Sb=f("NOT",!0),ec="and",Ib=f("AND",!0),va="or",Tb=f("OR",!0),Ub="between",Vb=f("BETWEEN",!0),Wb="from",Xb=f("FROM",!0),Bd="for",Gc=f("FOR",!0),Cd="substring",Hc=f("SUBSTRING",!0),pc="extract",Xc=f("EXTRACT",!0),bc="trim",Sa=f("TRIM",!0),Db="position",sb=f("POSITION",!0),Ma="timestamp",lb=f("TIMESTAMP",!0),Eb="date",Mb=f("DATE",!0),lc="leading",yc=f("LEADING",
!0),qc="trailing",Ea=f("TRAILING",!0),fc="both",Nb=f("BOTH",!0),kd="year",Dd=f("YEAR",!0),jd="month",La=f("MONTH",!0),kc="day",jc=f("DAY",!0),wd="hour",xd=f("HOUR",!0),yd="minute",zc=f("MINUTE",!0),Yc="second",zd=f("SECOND",!0),Ac="case",Bc=f("CASE",!0),rc="end",Ic=f("END",!0),cb="when",mc=f("WHEN",!0),Cc="then",Dc=f("THEN",!0),Jc="else",Kc=f("ELSE",!0),sc=",",tc=f(",",!1),Lc="(",Mc=f("(",!1),db=")",Nc=f(")",!1),S=/^[ \t\n\r]/,wa=k([" ","\t","\n","\r"],!1,!1),xb="`",ld=f("`",!1),md=/^[^`]/,nd=k(["`"],
!0,!1),u=0,Yb=[{line:1,column:1}],Va=0,Zb=[],I=0,Fb;if("startRule"in r){if(!(r.startRule in Ha))throw Error("Can't start parsing from rule \""+r.startRule+'".');Za=Ha[r.startRule]}Fb=Za();if(Fb!==q&&u===a.length)return Fb;Fb!==q&&u<a.length&&c({type:"end"});throw function(a,c,d){return new b(b.buildMessage(a,c),a,c,d)}(Zb,Va<a.length?a.charAt(Va):null,Va<a.length?l(Va,Va+1):l(Va,Va));}}})},"esri/layers/graphics/data/projectionSupport":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../geometry/projection ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),
function(b,a,r,f,k,n,l){function c(a,b){var c;if(!b)return null;if("x"in b){var d={x:0,y:0};a=a(b.x,b.y,v,0);d.x=a[0];d.y=a[1];null!=b.z&&(d.z=b.z);null!=b.m&&(d.m=b.m);return d}if("xmin"in b)return d={xmin:0,ymin:0,xmax:0,ymax:0},c=a(b.xmin,b.ymin,v,0),d.xmin=c[0],d.ymin=c[1],a=a(b.xmax,b.ymax,v,0),d.xmax=a[0],d.ymax=a[1],b.hasZ&&(d.zmin=b.zmin,d.zmax=b.zmax,d.hasZ=!0),b.hasM&&(d.mmin=b.mmin,d.mmax=b.mmax,d.hasM=!0),d;if("rings"in b)return{rings:g(b.rings,a),hasM:b.hasM,hasZ:b.hasZ};if("paths"in
b)return{paths:g(b.paths,a),hasM:b.hasM,hasZ:b.hasZ};if("points"in b)return{points:h(b.points,a),hasM:b.hasM,hasZ:b.hasZ}}function g(a,b){for(var c=[],d=0;d<a.length;d++)c.push(h(a[d],b));return c}function h(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d],g=b(e[0],e[1],[0,0],0);c.push(g);2<e.length&&g.push(e[2]);3<e.length&&g.push(e[3])}return c}function d(a,b){return!a||!b||n.equals(a,b)||l.canProject(a,b)?!1:!0}Object.defineProperty(a,"__esModule",{value:!0});var v=[0,0];a.checkProjectionSupport=
function(a,b){if(Array.isArray(a)){for(var c=0;c<a.length;c++){var g=a[c];if(d(g.geometry&&g.geometry.spatialReference,b))return k.isSupported()?k.load():f.reject(new r("feature-store:unsupported-query","projection not supported",{inSpatialReference:a,outSpatialReference:b}))}return f.resolve()}return d(a,b)?k.isSupported()?k.load():f.reject(new r("feature-store:unsupported-query","projection not supported",{inSpatialReference:a,outSpatialReference:b})):f.resolve()};var z=c.bind(null,l.lngLatToXY),
t=c.bind(null,l.xyToLngLat);a.project=function(a,b,c){return b&&c&&!n.equals(b,c)?l.canProject(b,c)?n.isWebMercator(c)?z(a):t(a):k.projectMany([a],b,c,null,!0)[0]:a};var B=new (function(){function a(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a,b,c){var d=this;a&&a.length&&b&&c&&!n.equals(b,c)||f.resolve(a);var g={geometries:a,inSpatialReference:b,outSpatialReference:c,resolve:null};this._jobs.push(g);return f.create(function(a){g.resolve=a;null===
d._timer&&(d._timer=setTimeout(d._process,10))},function(){var a=d._jobs.indexOf(g);-1<a&&d._jobs.splice(a,1)})};a.prototype._process=function(){this._timer=null;var a=this._jobs.shift();if(a){var b=a.geometries,c=a.inSpatialReference,d=a.outSpatialReference,a=a.resolve;l.canProject(c,d)?n.isWebMercator(d)?a(b.map(z)):a(b.map(t)):a(k.projectMany(b,c,d,null,!0));0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}};return a}());a.projectMany=function(a,b,c){return B.push(a,b,c)}})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["require",
"exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.queryCapabilities={supportsAttachments:!1,supportsStatistics:!0,supportsCentroid:!0,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsStandardizedQueriesOnly:!0,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1}})},"esri/layers/graphics/data/QueryEngineResult":function(){define("require exports @dojo/framework/shim/Set ../../../core/promiseUtils ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ./AttributesBuilder ./attributeSupport ./projectionSupport ./utils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d){function v(a){return a?JSON.parse(JSON.stringify(a,["latestWkid","wkid","wkt"])):a}Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a,b){this.items=a;this.definitionExpression=b.definitionExpression;this.geometryType=b.geometryType;this.hasM=b.hasM;this.hasZ=b.hasZ;this.objectIdField=b.objectIdField;this.spatialReference=b.spatialReference;this.fieldsMap=b.fieldsMap}Object.defineProperty(a.prototype,"size",{get:function(){return this.items.length},
enumerable:!0,configurable:!0});a.prototype.createQueryResponse=function(a){return a.outStatistics?this._createStatisticsQueryResponse(a):this._createFeatureQueryResponse(a)};a.prototype.executeAttributesQuery=function(a){var b=g.getWhereClause(a.where);if(!b)return f.resolve(this);if(b.isStandardized()){for(var c=0,d=[],h=0,k=this.items;h<k.length;h++){var e=k[h];b.testFeature(e.attributes)&&(d[c++]=e)}b=this._createNew(d);b.definitionExpression=a.where;return f.resolve(b)}return f.reject(new TypeError("Where clause is not standardized"))};
a.prototype.executeObjectIdsQuery=function(a){if(!a.objectIds||!a.objectIds.length)return f.resolve(this);var b=new r.default(a.objectIds);return f.resolve(this._createNew(this.items.filter(function(a){return b.has(a.objectId)})))};a.prototype.project=function(b){var c=this;return!b||n.equals(this.spatialReference,b)?f.resolve(this):h.projectMany(this.items.map(function(a){return d.getGeometry(c,a)}),this.spatialReference,b).then(function(d){for(var g=[],f=0;f<c.items.length;f++)g[f]={attributes:c.items[f].attributes,
geometry:d[f]};d=[];l.convertFromFeatures(d,g,c.geometryType,c.hasZ,c.hasM,c.objectIdField);return new a(d,{definitionExpression:c.definitionExpression,geometryType:c.geometryType,hasM:c.hasM,hasZ:c.hasZ,objectIdField:c.objectIdField,spatialReference:b,fieldsMap:c.fieldsMap})})};a.prototype._createFeatureQueryResponse=function(a){var b=this,c=this.items,d=this.geometryType,g=this.hasM,f=this.hasZ,e=this.objectIdField,h=this.spatialReference,l=a.outFields,n=a.outSpatialReference,t=a.quantizationParameters,
z=!1;if(null!=a.num&&null!=a.start)var r=a.start+a.num,z=c.length>r,c=c.slice(a.start,Math.min(c.length,r));return{exceededTransferLimit:z,features:this._createFeatures(a,c),fields:l&&l.map(function(a){return b.fieldsMap.get(a)}),geometryType:d,hasM:g,hasZ:f,objectIdFieldName:e,spatialReference:v(n?n.toJSON():h),transform:t&&k.toTransform(t)}};a.prototype._createFeatures=function(a,b){var g=new c.default(a,this.fieldsMap),f=a.quantizationParameters,h=a.returnGeometry,l=a.returnCentroid,e=a.maxAllowableOffset,
p=a.orderByFields;a=[];var n=0;if(b.length&&p&&p.length){var p=p[0].split(" "),v=p[0],t="DESC"===p[1];b.sort(function(a,b){a=g.getFieldValue(a,v);b=g.getFieldValue(b,v);if("number"===typeof a&&"number"===typeof b)return t?b-a:a-b;if("string"===typeof a&&"string"===typeof b)return a=a.toUpperCase(),b=b.toUpperCase(),(t?a>b:a<b)?-1:(t?a<b:a>b)?1:0})}if(h||l)if(f=k.toTransform(f),h&&!l)for(l=0;l<b.length;l++)h=b[l],a[n++]={attributes:g.getAttributes(h),geometry:d.getGeometry(this,h,e,f)};else if(!h&&
l)for(e=0;e<b.length;e++)h=b[e],a[n++]={attributes:g.getAttributes(h),centroid:d.getCentroid(this,h,f)};else for(l=0;l<b.length;l++)h=b[l],a[n++]={attributes:g.getAttributes(h),centroid:d.getCentroid(this,h,f),geometry:d.getGeometry(this,h,e,f)};else for(e=0;e<b.length;e++)h=b[e],(h=g.getAttributes(h))&&(a[n++]={attributes:h});return a};a.prototype._createNew=function(b){return new a(b,this)};a.prototype._createStatisticsQueryResponse=function(a){var b=new c.default(a,this.fieldsMap),d=[],g=[],f=
a.groupByFieldsForStatistics,h=a.having,e=f&&f.length,f=e&&f[0],k={},l={},n={},v={attributes:{}},t=0;for(a=a.outStatistics;t<a.length;t++){var z=a[t],r=z.onStatisticField,P=z.outStatisticFieldName,da=z.statisticType,ga="1"===r;if(e&&(r===f||ga)&&"count"===da){k[r]||(k[r]=this._calculateUniqueValues(b,ga?f:r));var da=k[r],T;for(T in da){var M=da[T],la=M.count,z=M.data,Y=M.items,M=l[z]||{attributes:{}};if(!h||b.validateItems(Y,h))M.attributes[P]=la,M.attributes[ga?"EXPR_1":r]=z,l[z]=M}g.push({name:P,
alias:P,type:"esriFieldTypeString"})}else{if(e)for(T in ga=this._calculateUniqueValues(b,f),ga){if(M=ga[T],z=M.data,Y=M.items,!h||b.validateItems(Y,h))M=l[z]||{attributes:{}},Y=this._calculateStatistics(Y,b,r),la="var"===da?"variance":da,M.attributes[P]=Y[la],M.attributes[f]=z,l[z]=M}else n[r]||(n[r]=this._calculateStatistics(this.items,b,r)),Y=n[r],la="var"===da?"variance":da,v.attributes[P]=Y[la];g.push({name:P,alias:P,type:"esriFieldTypeDouble"})}}if(e)for(var ma in l)d.push(l[ma]);else d.push(v);
return{fields:g,features:d}};a.prototype._calculateStatistics=function(a,b,c){for(var d=a.length,g=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY,e=null,h=null,k=null,l=null,n=[],v=0;v<d;v++){var t=n[v]=b.getFieldValue(a[v],c);isNaN(t)||(e+=t,g=Math.min(g,t),f=Math.max(f,t))}if(d){h=e/d;for(b=a=0;b<n.length;b++)t=n[b],a+=Math.pow(t-h,2);l=1<d?a/(d-1):0;k=Math.sqrt(l)}else f=g=null;return{avg:h,count:d,max:f,min:g,stddev:k,sum:e,variance:l}};a.prototype._calculateUniqueValues=function(a,b){for(var c=
{},d=0,g=this.items;d<g.length;d++){var f=g[d],e=a.getFieldValue(f,b);if(null==e||"string"===typeof e&&""===e.trim())e=null;null==c[e]?c[e]={count:1,data:e,items:[f]}:(c[e].count++,c[e].items.push(f))}return c};return a}();a.default=b})},"esri/geometry/support/quantizationUtils":function(){define(["require","exports"],function(b,a){function r(a,b){return Math.round((b-a.translate[0])/a.scale[0])}function f(a,b){return Math.round((a.translate[1]-b)/a.scale[1])}function k(a,b,c){for(var d=[],e,g,h,
m,k=0;k<c.length;k++){var p=c[k];if(0<k){if(h=r(a,p[0]),m=f(a,p[1]),h!==e||m!==g)d.push(b(p,h-e,m-g)),e=h,g=m}else e=r(a,p[0]),g=f(a,p[1]),d.push(b(p,e,g))}return 0<d.length?d:null}function n(a,b,c,d){return k(a,c?d?e:y:d?y:m,b)}function l(a,b,c,d){var g=[];c=c?d?e:y:d?y:m;for(d=0;d<b.length;d++){var f=k(a,c,b[d]);f&&3<=f.length&&g.push(f)}return g.length?g:null}function c(a,b,c,d){var g=[];c=c?d?e:y:d?y:m;for(d=0;d<b.length;d++){var f=k(a,c,b[d]);f&&2<=f.length&&g.push(f)}return g.length?g:null}
function g(a,b){return b*a.scale[0]+a.translate[0]}function h(a,b){return a.translate[1]-b*a.scale[1]}function d(a,b,c){var d=Array(c.length);if(!c.length)return d;var e=a.scale,f=e[0],e=e[1],m=g(a,c[0][0]);a=h(a,c[0][1]);d[0]=b(c[0],m,a);for(var k=1;k<c.length;k++){var p=c[k],m=m+p[0]*f;a-=p[1]*e;d[k]=b(p,m,a)}return d}function v(a,b,c){for(var e=Array(c.length),g=0;g<c.length;g++)e[g]=d(a,b,c[g]);return e}function z(a,b,c,g){return d(a,c?g?e:y:g?y:m,b)}function t(a,b,c,d){return v(a,c?d?e:y:d?y:
m,b)}function B(a,b,c,d){return v(a,c?d?e:y:d?y:m,b)}function A(a,b,c){var d=c[0],e=d[0],d=d[1],g=Math.min(e,b[0]),f=Math.min(d,b[1]),h=Math.max(e,b[2]);b=Math.max(d,b[3]);for(var m=1;m<c.length;m++){var k=c[m],p=k[0],k=k[1],e=e+p,d=d+k;0>p&&(g=Math.min(g,e));0<p&&(h=Math.max(h,e));0>k?f=Math.min(f,d):0<k&&(b=Math.max(b,d))}a[0]=g;a[1]=f;a[2]=h;a[3]=b;return a}function w(a,b){if(!b.length)return null;a[0]=a[1]=Number.POSITIVE_INFINITY;a[2]=a[3]=Number.NEGATIVE_INFINITY;for(var c=0;c<b.length;c++)A(a,
a,b[c]);return a}Object.defineProperty(a,"__esModule",{value:!0});var m=function(a,b,c){return[b,c]},y=function(a,b,c){return[b,c,a[2]]},e=function(a,b,c){return[b,c,a[2],a[3]]};a.toTransform=function(a){return a?{originPosition:"upperLeft",scale:[a.tolerance,a.tolerance],translate:[a.extent.xmin,a.extent.ymax]}:null};a.equals=function(a,b){if(a===b||null==a&&null==b)return!0;if(null==a||null==b)return!1;var c,d,e,g;a&&"upperLeft"===a.originPosition?(c=a.translate[0],d=a.translate[1],a=a.scale[0]):
(c=a.extent.xmin,d=a.extent.ymax,a=a.tolerance);b&&"upperLeft"===b.originPosition?(e=b.translate[0],g=b.translate[1],b=b.scale[0]):(e=b.extent.xmin,g=b.extent.ymax,b=b.tolerance);return c===e&&d===g&&a===b};a.quantizeX=r;a.quantizeY=f;a.quantizeBounds=function(a,b,c){b[0]=r(a,c[0]);b[3]=f(a,c[1]);b[2]=r(a,c[2]);b[1]=f(a,c[3]);return b};a.quantizePoints=n;a.quantizeRings=l;a.quantizePaths=c;a.hydrateX=g;a.hydrateY=h;a.hydrateCoordsArray=d;a.hydrateCoordsArrayArray=v;a.hydrateBounds=function(a,b,c){return c?
(b[0]=g(a,c[0]),b[1]=h(a,c[3]),b[2]=g(a,c[2]),b[3]=h(a,c[1]),b):[g(a,b[0]),h(a,b[3]),g(a,b[2]),h(a,b[1])]};a.hydratePoints=z;a.hydratePaths=t;a.hydrateRings=B;a.getQuantizedBoundsCoordsArray=A;a.getQuantizedBoundsCoordsArrayArray=w;a.getQuantizedBoundsPoints=function(a){var b=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];return A(b,b,a)};a.getQuantizedBoundsPaths=function(a){return w([0,0,0,0],a)};a.getQuantizedBoundsRings=function(a){return w([0,
0,0,0],a)};a.quantizeExtent=function(a,b,c,d,e){b.xmin=r(a,c.xmin);b.ymin=f(a,c.ymin);b.xmax=r(a,c.xmax);b.ymax=f(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),e&&(b.mmin=c.mmin,b.mmax=c.mmax));return b};a.quantizeMultipoint=function(a,b,c,d,e){b.points=n(a,c.points,d,e);return b};a.quantizePoint=function(a,b,c,d,e){b.x=r(a,c.x);b.y=f(a,c.y);b!==c&&(d&&(b.z=c.z),e&&(b.m=c.m));return b};a.quantizePolygon=function(a,b,c,d,e){a=l(a,c.rings,d,e);if(!a)return null;b.rings=a;return b};a.quantizePolyline=
function(a,b,d,e,g){a=c(a,d.paths,e,g);if(!a)return null;b.paths=a;return b};a.hydrateExtent=function(a,b,c,d,e){b.xmin=g(a,c.xmin);b.ymin=h(a,c.ymin);b.xmax=g(a,c.xmax);b.ymax=h(a,c.ymax);b!==c&&(d&&(b.zmin=c.zmin,b.zmax=c.zmax),e&&(b.mmin=c.mmin,b.mmax=c.mmax));return b};a.hydrateMultipoint=function(a,b,c,d,e){b.points=z(a,c.points,d,e);return b};a.hydratePoint=function(a,b,c,d,e){b.x=g(a,c.x);b.y=h(a,c.y);b!==c&&(d&&(b.z=c.z),e&&(b.m=c.m));return b};a.hydratePolygon=function(a,b,c,d,e){b.rings=
B(a,c.rings,d,e);return b};a.hydratePolyline=function(a,b,c,d,e){b.paths=t(a,c.paths,d,e);return b}})},"esri/layers/graphics/data/AttributesBuilder":function(){define(["require","exports","@dojo/framework/shim/Map","./attributeSupport"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});b=function(){function a(a,b){this._fieldDataCache=new r.default;this._returnDistinctMap=new r.default;this.returnDistinctValues=a.returnDistinctValues;this.fieldsMap=b;if((a=a.outFields)&&-1===a.indexOf("*")){this.outFields=
a;for(var c=b=0;c<a.length;c++){var g=a[c],h=f.getExpressionFromFieldName(g),d=this.fieldsMap.has(h),h=d?null:f.getWhereClause(h),d=d?this.fieldsMap.get(g).name:f.getAliasFromFieldName(g)||"FIELD_EXP_"+b++;this._fieldDataCache.set(g,{alias:d,clause:h})}}}a.prototype.getAttributes=function(a){a=a.attributes;a=this._processAttributesForOutFields(a);return a=this._processAttributesForDistinctValues(a)};a.prototype.getFieldValue=function(a,b){a=a.attributes;var c=this.fieldsMap.has(b),g=c?this.fieldsMap.get(b).name:
b,h=null;this._fieldDataCache.has(g)?h=this._fieldDataCache.get(g).clause:c||(h=f.getWhereClause(b),this._fieldDataCache.set(g,{alias:g,clause:h}));return c?a[g]:h.calculateValue(a)};a.prototype.validateItem=function(a,b){this._fieldDataCache.has(b)||this._fieldDataCache.set(b,{alias:b,clause:f.getWhereClause(b)});return this._fieldDataCache.get(b).clause.testFeature(a.attributes)};a.prototype.validateItems=function(a,b){var c=this;this._fieldDataCache.has(b)||this._fieldDataCache.set(b,{alias:b,
clause:f.getWhereClause(b)});a=a.map(function(a){return c.getAttributes(a)});return this._fieldDataCache.get(b).clause.testSet(a)};a.prototype._processAttributesForOutFields=function(a){var b=this.outFields;if(!a||!b||!b.length)return a;for(var c={},g=0;g<b.length;g++){var f=this._fieldDataCache.get(b[g]),d=f.alias,f=f.clause;c[d]=f?f.calculateValue(a):a[d]}return c};a.prototype._processAttributesForDistinctValues=function(a){if(!a||!this.returnDistinctValues)return a;var b=this.outFields,c=[];if(b)for(var g=
0;g<b.length;g++){var f=this._fieldDataCache.get(b[g]).alias;c.push(a[f])}else for(f in a)c.push(a[f]);b=(b||["*"]).join(",")+"\x3d"+c.join(",");c=this._returnDistinctMap.get(b)||0;this._returnDistinctMap.set(b,++c);return 1<c?null:a};return a}();a.default=b})},"esri/layers/graphics/data/utils":function(){define(["require","exports","../featureConversionUtils","../OptimizedGeometry"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});var k=new f.default,n=new f.default,l={esriGeometryPoint:r.convertToPoint,
esriGeometryPolyline:r.convertToPolyline,esriGeometryPolygon:r.convertToPolygon,esriGeometryMultipoint:r.convertToMultipoint};a.getCentroid=function(a,b,h){if("esriGeometryPolygon"!==a.geometryType||!b.centroid&&!b.geometry)return null;b.centroid||(b.centroid=r.getCentroidOptimizedGeometry(new f.default,b.geometry,a.hasZ,a.hasM));return h?(b=r.quantizeOptimizedGeometry(n,b.centroid,a.hasZ,a.hasM,"esriGeometryPoint",h),r.convertToPoint(b,a.hasZ,a.hasM)):r.convertToPoint(b.centroid,a.hasZ,a.hasM)};
a.getGeometry=function(a,b,f,d){return b.geometry?f?(b=r.generalizeOptimizedGeometry(k,b.geometry,a.hasZ,a.hasM,a.geometryType,f),d&&(b=r.quantizeOptimizedGeometry(n,b,a.hasZ,a.hasM,a.geometryType,d)),l[a.geometryType](b,a.hasZ,a.hasM)):d?(b=r.quantizeOptimizedGeometry(n,b.geometry,a.hasZ,a.hasM,a.geometryType,d),l[a.geometryType](b,a.hasZ,a.hasM)):l[a.geometryType](b.geometry,a.hasZ,a.hasM):null}})},"esri/layers/graphics/data/SpatialQueryCache":function(){define(["require","exports","@dojo/framework/shim/iterator",
"../../../core/LRUMap"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});var k=function(){return function(a,b,g){this.cache=a;this.key=b;this.result=g}}(),n=new f(2E6,{disposeFunction:function(a,b){b.cache.has(b.key)&&b.cache.delete(b.key)},sizeOfFunction:function(a){return a.result.size}});b=function(){function a(){this._id=a.id_gen++ +"$$";this._keys=new Set}Object.defineProperty(a.prototype,"size",{get:function(){return this._keys.size},enumerable:!0,configurable:!0});a.prototype.clear=
function(){var a=this;0!==this._keys.size&&(r.forOf(this._keys,function(b){n.delete(a._getGlobalKey(b))}),this._keys.clear())};a.prototype.delete=function(a){this._keys.delete(a);return n.delete(this._getGlobalKey(a))};a.prototype.get=function(a){return(a=n.get(this._getGlobalKey(a)))&&a.result};a.prototype.has=function(a){return n.has(this._getGlobalKey(a))};a.prototype.set=function(a,b){this._keys.add(a);n.set(this._getGlobalKey(a),new k(this,a,b));return this};a.prototype._getGlobalKey=function(a){return this._id+
a};a.id_gen=0;return a}();a.default=b})},"esri/layers/graphics/data/spatialQuerySupport":function(){define("require exports ../../../core/Error ../../../core/promiseUtils ../../../geometry/support/contains ../../../geometry/support/intersects ../../../geometry/support/webMercatorUtils".split(" "),function(b,a,r,f,k,n,l){function c(){return f.create(function(a){return b(["../../../geometry/geometryEngine"],a)})}Object.defineProperty(a,"__esModule",{value:!0});var g={intersects:!0,contains:!0,within:!0,
crosses:!0,touches:!0,overlaps:!0,"envelope-intersects":!0},h={point:!0,multipoint:!0,polyline:!0,polygon:!0,extent:!0},d={esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0};a.importGeometryEngine=c;a.getGeodesicBufferOperator=function(){return c().then(function(a){return a.geodesicBuffer})};a.getSpatialQueryOperator=function(a,b,d){if("intersects"===a){if("polygon"===b.type&&"esriGeometryPoint"===d)return f.resolve(k.polygonContainsPoint.bind(null,b.toJSON()));
if("extent"===b.type)return f.resolve(n.getExtentIntersector(d).bind(null,b))}return c().then(function(c){return c[a].bind(null,b.toJSON())})};a.checkSpatialQuerySupport=function(a,b,c){var k=a.geometry;return k?!0!==g[a.spatialRelationship]?f.reject(new r("feature-store:unsupported-query","Unsupported query spatial relationship",{query:a})):!0!==h[k.type]?f.reject(new r("feature-store:unsupported-query","Unsupported query geometry type",{query:a})):!0!==d[b]?f.reject(new r("feature-store:unsupported-query",
"Unsupported layer geometry type",{query:a})):l.canProject(k.spatialReference,c)?f.resolve():f.reject(new r("feature-store:unsupported-query","Unsupported geometry spatialReference",{query:a})):null};a.canQueryWithRBush=function(a){switch(a.type){case "extent":return!0;case "polygon":return a.rings.every(function(a){return 5!==a.length?!1:a[0][0]===a[1][0]&&a[0][0]===a[4][0]&&a[2][0]===a[3][0]&&a[0][1]===a[3][1]&&a[0][1]===a[4][1]&&a[1][1]===a[2][1]});default:return!1}}})},"esri/tasks/support/Query":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../TimeExtent ../../core/JSONSupport ../../core/kebabDictionary ../../core/lang ../../core/accessorSupport/decorators ../../geometry/support/jsonUtils ../../geometry/support/typeUtils ../../symbols/support/jsonUtils ../../symbols/support/typeUtils ./QuantizationParameters ./StatisticDefinition".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A){var w=c({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),m=c({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",
esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return function(a){function b(b){b=a.call(this,b)||this;b.datumTransformation=null;b.distance=void 0;b.gdbVersion=null;b.geometry=null;b.geometryPrecision=void 0;b.groupByFieldsForStatistics=null;b.having=null;b.historicMoment=null;b.maxAllowableOffset=void 0;b.maxRecordCountFactor=1;b.multipatchOption=null;b.num=void 0;b.objectIds=null;b.orderByFields=null;b.outFields=null;b.outSpatialReference=null;b.outStatistics=
null;b.parameterValues=null;b.pixelSize=null;b.quantizationParameters=null;b.rangeValues=null;b.relationParameter=null;b.resultType=null;b.returnDistinctValues=!1;b.returnGeometry=!1;b.returnCentroid=!1;b.returnExceededLimitFeatures=!0;b.returnM=void 0;b.returnZ=void 0;b.source=null;b.spatialRelationship="intersects";b.start=void 0;b.sqlFormat=null;b.text=null;b.timeExtent=null;b.units="meters";b.where=null;return b}r(b,a);c=b;b.prototype.castDatumTransformation=function(a){return"number"===typeof a||
"object"===typeof a?a:null};b.prototype.writeHistoricMoment=function(a,b,c){b.historicMoment=a&&a.getTime()};b.prototype.writeParameterValues=function(a,b,c){if(a){c={};for(var d in a){var e=a[d];Array.isArray(e)?c[d]=e.map(function(a){return a instanceof Date?a.getTime():a}):c[d]=e instanceof Date?e.getTime():e}b.parameterValues=c}};b.prototype.writeStart=function(a,b,c){b.resultOffset=this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"};b.prototype.writeWhere=function(a,b,c){b.where=a||
"1\x3d1"};b.prototype.clone=function(){return new c(g.clone({datumTransformation:this.datumTransformation,distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,
num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,
returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnM:this.returnM,returnZ:this.returnZ,source:this.source,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.text,text:this.text,timeExtent:this.timeExtent,units:this.units,where:this.where}))};var c;f([h.property({json:{write:!0}})],b.prototype,"datumTransformation",void 0);f([h.cast("datumTransformation")],b.prototype,"castDatumTransformation",null);f([h.property({type:Number,json:{write:!0}})],b.prototype,
"distance",void 0);f([h.property({type:String,json:{write:!0}})],b.prototype,"gdbVersion",void 0);f([h.property({types:v.types,json:{read:d.fromJSON,write:!0}})],b.prototype,"geometry",void 0);f([h.property({type:Number,json:{write:!0}})],b.prototype,"geometryPrecision",void 0);f([h.property({type:[String],json:{write:!0}})],b.prototype,"groupByFieldsForStatistics",void 0);f([h.property({type:String,json:{write:!0}})],b.prototype,"having",void 0);f([h.property({type:Date})],b.prototype,"historicMoment",
void 0);f([h.writer("historicMoment")],b.prototype,"writeHistoricMoment",null);f([h.property({type:Number,json:{write:!0}})],b.prototype,"maxAllowableOffset",void 0);f([h.property({type:Number,cast:function(a){return 1>a?1:5<a?5:a},json:{write:{overridePolicy:function(a){return{enabled:1<a}}}}})],b.prototype,"maxRecordCountFactor",void 0);f([h.property({type:String,json:{write:!0}})],b.prototype,"multipatchOption",void 0);f([h.property({type:Number,json:{read:{source:"resultRecordCount"}}})],b.prototype,
"num",void 0);f([h.property({type:[Number],json:{write:!0}})],b.prototype,"objectIds",void 0);f([h.property({type:[String],json:{write:!0}})],b.prototype,"orderByFields",void 0);f([h.property({type:[String],json:{write:!0}})],b.prototype,"outFields",void 0);f([h.property({type:k.SpatialReference,json:{read:{source:"outSR"},write:{target:"outSR"}}})],b.prototype,"outSpatialReference",void 0);f([h.property({type:[A],json:{write:!0}})],b.prototype,"outStatistics",void 0);f([h.property({json:{write:!0}})],
b.prototype,"parameterValues",void 0);f([h.writer("parameterValues")],b.prototype,"writeParameterValues",null);f([h.property({types:t.types,json:{read:z.read,write:!0}})],b.prototype,"pixelSize",void 0);f([h.property({type:B.default,json:{write:!0}})],b.prototype,"quantizationParameters",void 0);f([h.property({type:[Object],json:{write:!0}})],b.prototype,"rangeValues",void 0);f([h.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy:function(a){return{enabled:"relation"===
this.spatialRelationship}}}}})],b.prototype,"relationParameter",void 0);f([h.property({type:String,json:{write:!0}})],b.prototype,"resultType",void 0);f([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnDistinctValues",void 0);f([h.property({type:Boolean,json:{write:!0}})],b.prototype,"returnGeometry",void 0);f([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnCentroid",void 0);f([h.property({type:Boolean,
json:{write:{overridePolicy:function(a){return{enabled:!a}}}}})],b.prototype,"returnExceededLimitFeatures",void 0);f([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnM",void 0);f([h.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"returnZ",void 0);f([h.property({json:{write:!0}})],b.prototype,"source",void 0);f([h.property({type:String,json:{read:{source:"spatialRel",reader:w.read},write:{target:"spatialRel",
writer:w.write}}})],b.prototype,"spatialRelationship",void 0);f([h.property({type:Number,json:{read:{source:"resultOffset"}}})],b.prototype,"start",void 0);f([h.writer("start"),h.writer("num")],b.prototype,"writeStart",null);f([h.property({type:String,json:{write:!0}})],b.prototype,"sqlFormat",void 0);f([h.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);f([h.property({type:n,json:{write:!0}})],b.prototype,"timeExtent",void 0);f([h.property({type:String,json:{read:m.read,write:{writer:m.write,
overridePolicy:function(a){return{enabled:0<this.distance}}}}})],b.prototype,"units",void 0);f([h.property({type:String,json:{write:{overridePolicy:function(a){return{enabled:null!=a||0<this.start}}}}})],b.prototype,"where",void 0);f([h.writer("where")],b.prototype,"writeWhere",null);return b=c=f([h.subclass("esri.tasks.support.Query")],b)}(h.declared(l))})},"esri/TimeExtent":function(){define("require exports ./core/tsSupport/declareExtendsHelper ./core/tsSupport/decorateHelper ./core/JSONSupport ./core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n){var l={milliseconds:{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},seconds:{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},minutes:{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},hours:{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},days:{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},weeks:{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},months:{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},years:{getter:"getUTCFullYear",
setter:"setUTCFullYear",multiplier:1},decades:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},centuries:{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}};return function(a){function b(b,c){b=a.call(this)||this;b.endTime=null;b.startTime=null;return b}r(b,a);c=b;b.prototype.normalizeCtorArgs=function(a,b){return!a||a instanceof Date?{startTime:a,endTime:b}:a};b.prototype.readEndTime=function(a,b){return null!=b.endTime?new Date(b.endTime):null};b.prototype.writeEndTime=
function(a,b,c){b.endTime=a?a.getTime():null};b.prototype.readStartTime=function(a,b){return null!=b.startTime?new Date(b.startTime):null};b.prototype.writeStartTime=function(a,b,c){b.startTime=a?a.getTime():null};b.prototype.clone=function(){return new c({endTime:this.endTime,startTime:this.startTime})};b.prototype.intersection=function(a){if(!a)return null;var b=this.startTime?this.startTime.getTime():-Infinity,d=this.endTime?this.endTime.getTime():Infinity,g=a.startTime?a.startTime.getTime():-Infinity;
a=a.endTime?a.endTime.getTime():Infinity;var f,h;g>=b&&g<=d?f=g:b>=g&&b<=a&&(f=b);d>=g&&d<=a?h=d:a>=b&&a<=d&&(h=a);if(isNaN(f)||isNaN(h))return null;b=new c;b.startTime=-Infinity===f?null:new Date(f);b.endTime=Infinity===h?null:new Date(h);return b};b.prototype.offset=function(a,b){var d=new c,g=this.startTime,f=this.endTime;g&&(d.startTime=this._offsetDate(g,a,b));f&&(d.endTime=this._offsetDate(f,a,b));return d};b.prototype._offsetDate=function(a,b,c){a=new Date(a.getTime());b&&c&&(c=l[c],a[c.setter](a[c.getter]()+
b*c.multiplier));return a};var c;f([n.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"endTime",void 0);f([n.reader("endTime")],b.prototype,"readEndTime",null);f([n.writer("endTime")],b.prototype,"writeEndTime",null);f([n.property({type:Date,json:{write:{allowNull:!0}}})],b.prototype,"startTime",void 0);f([n.reader("startTime")],b.prototype,"readStartTime",null);f([n.writer("startTime")],b.prototype,"writeStartTime",null);return b=c=f([n.subclass("esri.TimeExtent")],b)}(n.declared(k))})},
"esri/geometry/support/typeUtils":function(){define("require exports ../../core/accessorSupport/ensureType ../Extent ../Geometry ../Mesh ../Multipoint ../Point ../Polygon ../Polyline".split(" "),function(b,a,r,f,k,n,l,c,g,h){Object.defineProperty(a,"__esModule",{value:!0});a.types={base:k,key:"type",typeMap:{extent:f,multipoint:l,point:c,polyline:h,polygon:g,mesh:n}};a.ensureType=r.ensureOneOfType(a.types)})},"esri/symbols/support/jsonUtils":function(){define("require exports ../../core/Error ../../core/Warning ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol3D ../TextSymbol ../WebStyleSymbol ../callouts/LineCallout3D ./symbolConversion".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y){function e(a,b,c){b=a?x[a.type]||null:null;if(b)return b=new b,b.read(a,c),b;c&&c.messages&&a&&c.messages.push(new f("symbol:unsupported","Symbols of type '"+(a.type||"unknown")+"' are not supported",{definition:a,context:c}));return null}function p(a,b,c){if(!a)return null;if(!c||"web-scene"!==c.origin||a.isInstanceOf(B)||a.isInstanceOf(w))return a.write(b,c);var d=y.to3D(a);if(d.symbol)return d.symbol.write(b,c);c.messages&&c.messages.push(new r("symbol:unsupported",
"Symbols of type '"+a.declaredClass+"' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView",{symbol:a,context:c,error:d.error}));return null}Object.defineProperty(a,"__esModule",{value:!0});var x={esriSMS:t,esriPMS:g,esriTS:A,esriSLS:z,esriSFS:v,esriPFS:c,PointSymbol3D:h,LineSymbol3D:n,PolygonSymbol3D:d,MeshSymbol3D:l,LabelSymbol3D:k,styleSymbolReference:w};a.read=e;a.writeTarget=function(a,b,c,d){(a=p(a,{},d))&&(b[c]=a)};a.write=p;a.fromJSON=function(a,
b){return e(a,null,b)};a.readCallout3D=function(a,b){if(!a||!a.type)return null;var c=null;switch(a.type){case "line":c=new m}c&&c.read(a,b);return c}})},"esri/core/Warning":function(){define(["require","exports","./tsSupport/extendsHelper","./tsSupport/decorateHelper","./Message"],function(b,a,r,f,k){b=function(a){function b(c,g,f){var d=a.call(this,c,g,f)||this;return d instanceof b?d:new b(c,g,f)}r(b,a);return b}(k);b.prototype.type="warning";return b})},"esri/symbols/LabelSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d){var v=k.ofType({base:null,key:"type",typeMap:{text:g}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.styleOrigin=null;b.symbolLayers=new v;b.type="label-3d";return b}r(b,a);c=b;b.prototype.supportsCallout=function(){return!0};b.prototype.hasVisibleCallout=function(){return h.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return h.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new c({styleOrigin:n.clone(this.styleOrigin),
symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail),callout:n.clone(this.callout),verticalOffset:n.clone(this.verticalOffset)})};var c;f([l.property({type:d.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);f([l.property(h.calloutProperty)],b.prototype,"callout",void 0);f([l.property({json:{read:!1,write:!1}})],b.prototype,"styleOrigin",void 0);f([l.property({type:v})],b.prototype,"symbolLayers",void 0);f([l.enumeration.serializable()({LabelSymbol3D:"label-3d"})],
b.prototype,"type",void 0);return b=c=f([l.subclass("esri.symbols.LabelSymbol3D")],b)}(l.declared(c))})},"esri/core/Collection":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper dojo/aspect ./Accessor ./ArrayPool ./Evented ./lang ./ObjectPool ./scheduling ./accessorSupport/decorators ./accessorSupport/ensureType".split(" "),function(b,a,r,f,k,n,l,c,g,h,d,v,z){function t(a){return a?a.isInstanceOf&&a.isInstanceOf(C):!1}function B(a){return a?t(a)?a.toArray():
a.length?Array.prototype.slice.apply(a):[]:[]}function A(a){if(a&&a.length)return a[0]}function w(a,b,c,d){b&&b.forEach(function(b,e,g){a.push(b);w(a,c.call(d,b,e,g),c,d)})}b=function(){function a(){this.target=null;this.defaultPrevented=this.cancellable=!1}a.prototype.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};a.prototype.reset=function(a){this.defaultPrevented=!1;this.item=a};return a}();var m=function(){},y=new h(b,!0,function(a){a.item=null;a.target=null}),e=new Set,
p=new Set,x=new Set,F=new Map,G=0,C=function(a){function b(b){b=a.call(this,b)||this;b._boundDispatch=b._dispatchColChange.bind(b);b._chgListeners=[];b._notifications=null;b._timer=null;b.length=0;b._items=[];Object.defineProperty(b,"uid",{value:G++});return b}r(b,a);c=b;b.ofType=function(a){if(!a)return c;if(F.has(a))return F.get(a);var b;if("function"===typeof a)b=a.prototype.declaredClass;else if(a.base)b=a.base.prototype.declaredClass;else for(var d in a.typeMap){var e=a.typeMap[d].prototype.declaredClass;
b=b?b+(" | "+e):e}b=c.createSubclass({declaredClass:"esri.core.Collection\x3c"+b+"\x3e"});b.isCollection=t;d={Type:a,ensureType:"function"===typeof a?z.ensureType(a):z.ensureOneOfType(a)};Object.defineProperty(b.prototype,"itemType",{value:d});F.set(a,b);return b};b.prototype.normalizeCtorArgs=function(a){return a?Array.isArray(a)||t(a)?{items:a}:a:{}};Object.defineProperty(b.prototype,"items",{get:function(){return this._items},set:function(a){this._emitBeforeChanges()||(this._splice.apply(this,
[0,this.length].concat(B(a))),this._emitAfterChanges())},enumerable:!0,configurable:!0});b.prototype.on=function(a,b){var c;Array.isArray(a)?c=a:-1<a.indexOf(",")&&(c=a.split(/\s*,\s*/));if(c){var d=[];for(a=0;a<c.length;a++)d.push(this.on(c[a],b));d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d}if("change"===a){var e=this._chgListeners,g={removed:!1,callback:b};e.push(g);this._notifications&&this._notifications.push({listeners:e.slice(),items:this._items.slice(),changes:[]});
return{remove:function(){this.remove=m;g.removed=!0;e.splice(e.indexOf(g),1)}}}return k.after(this,"on"+a,b,!0)};b.prototype.hasEventListener=function(a){return"change"===a?0<this._chgListeners.length:this.inherited(arguments)};b.prototype.add=function(a,b){if(this._emitBeforeChanges())return this;b=this.getNextIndex(b);this._splice(b,0,a);this._emitAfterChanges();return this};b.prototype.addMany=function(a,b){void 0===b&&(b=this._items.length);if(!a||!a.length||this._emitBeforeChanges())return this;
b=this.getNextIndex(b);this._splice.apply(this,[b,0].concat(B(a)));this._emitAfterChanges();return this};b.prototype.removeAll=function(){if(!this.length||this._emitBeforeChanges())return[];var a=this._splice(0,this.length)||[];this._emitAfterChanges();return a};b.prototype.clone=function(){return this._createNewInstance({items:this._items.map(g.clone)})};b.prototype.concat=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c,a=a.map(B);return this._createNewInstance({items:(c=
this._items).concat.apply(c,a)})};b.prototype.drain=function(a,b){if(this.length&&!this._emitBeforeChanges()){for(var c=this._splice(0,this.length),d=c.length,e=0;e<d;e++)a.call(b,c[e],e,c);this._emitAfterChanges()}};b.prototype.every=function(a,b){return this._items.every(a,b)};b.prototype.filter=function(a,b){var c;c=2===arguments.length?this._items.filter(a,b):this._items.filter(a);return this._createNewInstance({items:c})};b.prototype.find=function(a,b){if("function"!==typeof a)throw new TypeError(a+
" is not a function");for(var c=this._items,d=c.length,e=0;e<d;e++){var g=c[e];if(a.call(b,g,e,c))return g}};b.prototype.findIndex=function(a,b){if("function"!==typeof a)throw new TypeError(a+" is not a function");for(var c=this._items,d=c.length,e=0;e<d;e++)if(a.call(b,c[e],e,c))return e;return-1};b.prototype.flatten=function(a,b){var d=[];w(d,this,a,b);return new c(d)};b.prototype.forEach=function(a,b){for(var c=this._items,d=c.length,e=0;e<d;e++)a.call(b,c[e],e,c)};b.prototype.getItemAt=function(a){return this._items[a]};
b.prototype.getNextIndex=function(a){var b=this.length;a=null==a?b:a;0>a?a=0:a>b&&(a=b);return a};b.prototype.includes=function(a,b){void 0===b&&(b=0);return arguments.length?-1!==this._items.indexOf(a,b):!1};b.prototype.indexOf=function(a,b){void 0===b&&(b=0);return this._items.indexOf(a,b)};b.prototype.join=function(a){void 0===a&&(a=",");return this._items.join(a)};b.prototype.lastIndexOf=function(a,b){void 0===b&&(b=this.length-1);return this._items.lastIndexOf(a,b)};b.prototype.map=function(a,
b){a=this._items.map(a,b);return new c({items:a})};b.prototype.reorder=function(a,b){void 0===b&&(b=this.length-1);var c=this.indexOf(a);if(-1!==c){0>b?b=0:b>=this.length&&(b=this.length-1);if(c!==b){if(this._emitBeforeChanges())return a;this._splice(c,1);this._splice(b,0,a);this._emitAfterChanges()}return a}};b.prototype.pop=function(){if(this.length&&!this._emitBeforeChanges()){var a=A(this._splice(this.length-1,1));this._emitAfterChanges();return a}};b.prototype.push=function(){for(var a=[],b=
0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[this.length,0].concat(a));this._emitAfterChanges();return this.length};b.prototype.reduce=function(a,b){var c=this._items;return 2===arguments.length?c.reduce(a,b):c.reduce(a)};b.prototype.reduceRight=function(a,b){var c=this._items;return 2===arguments.length?c.reduceRight(a,b):c.reduceRight(a)};b.prototype.remove=function(a){return this.removeAt(this.indexOf(a))};b.prototype.removeAt=
function(a){if(!(0>a||a>=this.length||this._emitBeforeChanges()))return a=A(this._splice(a,1)),this._emitAfterChanges(),a};b.prototype.removeMany=function(a){if(!a||!a.length||this._emitBeforeChanges())return[];a=t(a)?a.toArray():a;for(var b=this._items,c=[],d=a.length,e=0;e<d;e++){var g=b.indexOf(a[e]);if(-1<g){for(var f=e+1,h=g+1,m=Math.min(a.length-f,b.length-h),k=0;k<m&&a[f+k]===b[h+k];)k++;f=1+k;(g=this._splice(g,f))&&0<g.length&&c.push.apply(c,g);e+=f-1}}this._emitAfterChanges();return c};b.prototype.reverse=
function(){if(this._emitBeforeChanges())return this;var a=this._splice(0,this.length);a&&(a.reverse(),this._splice.apply(this,[0,0].concat(a)));this._emitAfterChanges();return this};b.prototype.shift=function(){if(this.length&&!this._emitBeforeChanges()){var a=A(this._splice(0,1));this._emitAfterChanges();return a}};b.prototype.slice=function(a,b){void 0===a&&(a=0);void 0===b&&(b=this.length);return this._createNewInstance({items:this._items.slice(a,b)})};b.prototype.some=function(a,b){return this._items.some(a,
b)};b.prototype.sort=function(a){if(!this.length||this._emitBeforeChanges())return this;var b=this._splice(0,this.length);arguments.length?b.sort(a):b.sort();this._splice.apply(this,[0,0].concat(b));return this};b.prototype.splice=function(a,b){for(var c=[],d=2;d<arguments.length;d++)c[d-2]=arguments[d];if(this._emitBeforeChanges())return[];c=this._splice.apply(this,[a,b].concat(c))||[];this._emitAfterChanges();return c};b.prototype.toArray=function(){return this._items.slice()};b.prototype.toJSON=
function(){return this.toArray()};b.prototype.toLocaleString=function(){return this._items.toLocaleString()};b.prototype.toString=function(){return this._items.toString()};b.prototype.unshift=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(this._emitBeforeChanges())return this.length;this._splice.apply(this,[0,0].concat(a));this._emitAfterChanges();return this.length};b.prototype._createNewInstance=function(a){return new this.constructor(a)};b.prototype._splice=function(a,
b){for(var c=[],e=2;e<arguments.length;e++)c[e-2]=arguments[e];var e=this._items,g=this.constructor.prototype.itemType,f,h;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=d.schedule(this._boundDispatch));if(b){h=e.splice(a,b);if(this.hasEventListener("before-remove")){var m=y.acquire();m.target=this;m.cancellable=!0;for(var k=0,p=h.length;k<p;k++)f=
h[k],m.reset(f),this.emit("before-remove",m),m.defaultPrevented&&(h.splice(k,1),e.splice(a,0,f),a+=1,--k,--p);y.release(m)}this.length=this._items.length;if(this.hasEventListener("after-remove")){f=y.acquire();f.target=this;f.cancellable=!1;p=h.length;for(k=0;k<p;k++)f.reset(h[k]),this.emit("after-remove",f);y.release(f)}}if(c&&c.length){if(g){k=[];for(p=0;p<c.length;p++)f=c[p],m=g.ensureType(f),null==m&&null!=f||k.push(m);c=k}g=this.hasEventListener("before-add");k=this.hasEventListener("after-add");
p=a===this.length;if(g||k){f=y.acquire();f.target=this;f.cancellable=!0;m=y.acquire();m.target=this;m.cancellable=!1;for(var l=0,n=c;l<n.length;l++){var v=n[l];g?(f.reset(v),this.emit("before-add",f),f.defaultPrevented||(p?e.push(v):e.splice(a++,0,v),this._set("length",e.length),k&&(m.reset(v),this.emit("after-add",m)))):(p?e.push(v):e.splice(a++,0,v),this._set("length",e.length),m.reset(v),this.emit("after-add",m))}y.release(f)}else p?e.push.apply(e,c):e.splice.apply(e,[a,0].concat(c)),this._set("length",
e.length)}(c&&c.length||h&&h.length)&&this._notifyChangeEvent(c,h);return h};b.prototype._emitBeforeChanges=function(){var a=!1;if(this.hasEventListener("before-changes")){var b=y.acquire();b.target=this;b.cancellable=!0;this.emit("before-changes",b);a=b.defaultPrevented;y.release(b)}return a};b.prototype._emitAfterChanges=function(){if(this.hasEventListener("after-changes")){var a=y.acquire();a.target=this;a.cancellable=!1;this.emit("after-changes",a);y.release(a)}};b.prototype._notifyChangeEvent=
function(a,b){this.hasEventListener("change")&&this._notifications[this._notifications.length-1].changes.push({added:a,removed:b})};b.prototype._dispatchColChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var a=this._notifications;this._notifications=null;for(var b=function(a){var b=a.changes;e.clear();p.clear();x.clear();for(var d=0;d<b.length;d++){var g=b[d],f=g.added,g=g.removed;if(f)if(0===x.size&&0===p.size)for(var h=0,m=f;h<m.length;h++)f=m[h],e.add(f);
else for(h=0,m=f;h<m.length;h++)f=m[h],p.has(f)?(x.add(f),p.delete(f)):x.has(f)||e.add(f);if(g)if(0===x.size&&0===e.size)for(h=0;h<g.length;h++)f=g[h],p.add(f);else for(h=0;h<g.length;h++)f=g[h],e.has(f)?e.delete(f):(x.delete(f),p.add(f))}var k=l.acquire();e.forEach(function(a){k.push(a)});var n=l.acquire();p.forEach(function(a){n.push(a)});var v=c._items,t=a.items,y=l.acquire();x.forEach(function(a){t.indexOf(a)!==v.indexOf(a)&&y.push(a)});if(a.listeners&&(k.length||n.length||y.length))for(b={target:c,
added:k,removed:n,moved:y},d=a.listeners.length,f=0;f<d;f++)g=a.listeners[f],g.removed||g.callback.call(c,b);l.release(k);l.release(n);l.release(y)},c=this,d=0;d<a.length;d++)b(a[d]);e.clear();p.clear();x.clear()}};var c;b.isCollection=t;f([v.property()],b.prototype,"length",void 0);f([v.property()],b.prototype,"items",null);return b=c=f([v.subclass("esri.core.Collection")],b)}(v.declared(n,c));return C})},"esri/core/Evented":function(){define(["require","exports","dojo/aspect","dojo/on"],function(b,
a,r,f){function k(a,b,c,g){var f;Array.isArray(b)?f=b:-1<b.indexOf(",")&&(f=b.split(/\s*,\s*/));if(f){var d=[];for(b=0;b<f.length;b++)d.push(k(a,f[b],c,g));d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d}return g(a,b)}return function(){function a(){}a.prototype.emit=function(a,b){if(this.hasEventListener(a))return b=b||{},b.target||(b.target=this),f.emit(this,a,b)};a.prototype.on=function(a,b){return k(this,a,b,function(a,c){return r.after(a,"on"+c,b,!0)})};a.prototype.hasEventListener=
function(a){a="on"+a;return!(!this[a]||!this[a].after)};return a}()})},"esri/symbols/Symbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/collectionUtils ../core/kebabDictionary ../core/Logger ../core/urlUtils ../core/Warning ../core/accessorSupport/decorators ../portal/Portal ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./PathSymbol3DLayer ./Symbol ./Symbol3DLayer ./TextSymbol3DLayer ./support/StyleOrigin ./support/Thumbnail".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y,e,p,x,F){var G={icon:B,object:w,line:A,path:m,fill:t,extrude:z,text:p},C=k.ofType({base:e,key:"type",typeMap:G}),O=l.strict()({PointSymbol3D:"point-3d",PolygonSymbol3D:"polygon-3d",LineSymbol3D:"line-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"}),E=c.getLogger("esri.symbols.Symbol3D");return function(a){function b(b){b=a.call(this)||this;b.styleOrigin=null;b.thumbnail=null;b.type=null;var c=b.__accessor__&&b.__accessor__.metadatas&&b.__accessor__.metadatas.symbolLayers;
b._set("symbolLayers",new (c&&c.type||k));return b}r(b,a);Object.defineProperty(b.prototype,"color",{get:function(){return null},set:function(a){E.error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"symbolLayers",{set:function(a){n.referenceSetter(a,this._get("symbolLayers"))},enumerable:!0,configurable:!0});b.prototype.readSymbolLayers=function(a,b,c){b=[];
for(var d=0;d<a.length;d++){var g=a[d],f=e.typeJSONDictionary.read(g.type),m=f&&G[f];m?(g=new m,g.read(a[d],c),b.push(g)):(E.warn("Unknown symbol layer type: "+f),c&&c.messages&&c.messages.push(new h("symbol-layer:unsupported","Symbol layers of type '"+(f||g.type||"unknown")+"' are not supported",{definition:g,context:c})))}return b};b.prototype.readStyleOrigin=function(a,b,c){if(a.styleUrl&&a.name)return b=g.read(a.styleUrl,c),new x({styleUrl:b,name:a.name});if(a.styleName&&a.name)return new x({portal:c&&
c.portal||v.getDefault(),styleName:a.styleName,name:a.name});c&&c.messages&&c.messages.push(new h("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:c,definition:a}))};b.prototype.writeStyleOrigin=function(a,b,c,d){a.styleUrl&&a.name?(c=g.write(a.styleUrl,d),g.isAbsolute(c)&&(c=g.normalize(c)),b.styleOrigin={styleUrl:c,name:a.name}):a.styleName&&a.name&&(a.portal&&d&&d.portal&&!g.hasSamePortal(a.portal.restUrl,d.portal.restUrl)?
d&&d.messages&&d.messages.push(new h("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):b.styleOrigin={styleName:a.styleName,name:a.name})};b.prototype.normalizeCtorArgs=function(a){return a instanceof e||a&&G[a.type]?{symbolLayers:[a]}:Array.isArray(a)?{symbolLayers:a}:a};f([d.property({json:{read:!1,write:!1}})],b.prototype,"color",null);f([d.property({type:C,nonNullable:!0,json:{write:!0}}),
d.cast(n.castForReferenceSetter)],b.prototype,"symbolLayers",null);f([d.reader("symbolLayers")],b.prototype,"readSymbolLayers",null);f([d.property({type:x})],b.prototype,"styleOrigin",void 0);f([d.reader("styleOrigin")],b.prototype,"readStyleOrigin",null);f([d.writer("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],b.prototype,"writeStyleOrigin",null);f([d.property({type:F.default,json:{read:!1}})],b.prototype,"thumbnail",
void 0);f([d.property({type:O.apiValues,readOnly:!0,json:{type:O.jsonValues,read:!1}})],b.prototype,"type",void 0);return b=f([d.subclass("esri.symbols.Symbol3D")],b)}(d.declared(y))})},"esri/core/collectionUtils":function(){define(["require","exports","./Collection"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});a.referenceSetter=function(a,b,n){void 0===n&&(n=r);b||(b=new n);b.removeAll();a&&(Array.isArray(a)||a.isInstanceOf&&a.isInstanceOf(r))?b.addMany(a):b.add(a);return b};
a.castForReferenceSetter=function(a){return a}})},"esri/portal/Portal":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper dojo/_base/kernel dojo/_base/url dojo/promise/all ../config ../kernel ../request ../core/Error ../core/has ../core/JSONSupport ../core/lang ../core/Loadable ../core/promiseUtils ../core/accessorSupport/decorators ../geometry/Extent ./PortalQueryParams ./PortalQueryResult ./PortalUser".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y,e,p,x,F){var G,C={Bookmark:function(){return m.create(function(a){return b(["./Bookmark"],a)})},Portal:function(){return m.create(function(a){return b(["./Portal"],a)})},PortalFolder:function(){return m.create(function(a){return b(["./PortalFolder"],a)})},PortalGroup:function(){return m.create(function(a){return b(["./PortalGroup"],a)})},PortalItem:function(){return m.create(function(a){return b(["./PortalItem"],a)})},PortalQueryParams:function(){return m.create(function(a){return b(["./PortalQueryParams"],
a)})},PortalQueryResult:function(){return m.create(function(a){return b(["./PortalQueryResult"],a)})},PortalRating:function(){return m.create(function(a){return b(["./PortalRating"],a)})},PortalUser:function(){return m.create(function(a){return b(["./PortalUser"],a)})}};return function(a){function w(b){b=a.call(this)||this;b.access=null;b.allSSL=!1;b.authMode="auto";b.authorizedCrossOriginDomains=null;b.basemapGalleryGroupQuery=null;b.bingKey=null;b.canListApps=!1;b.canListData=!1;b.canListPreProvisionedItems=
!1;b.canProvisionDirectPurchase=!1;b.canSearchPublic=!0;b.canShareBingPublic=!1;b.canSharePublic=!1;b.canSignInArcGIS=!1;b.canSignInIDP=!1;b.colorSetsGroupQuery=null;b.commentsEnabled=!1;b.created=null;b.culture=null;b.customBaseUrl=null;b.defaultBasemap=null;b.defaultExtent=null;b.defaultVectorBasemap=null;b.description=null;b.eueiEnabled=!1;b.featuredGroups=null;b.featuredItemsGroupQuery=null;b.galleryTemplatesGroupQuery=null;b.livingAtlasGroupQuery=null;b.hasCategorySchema=!1;b.helperServices=
null;b.homePageFeaturedContent=null;b.homePageFeaturedContentCount=null;b.httpPort=null;b.httpsPort=null;b.id=null;b.ipCntryCode=null;b.isPortal=!1;b.layerTemplatesGroupQuery=null;b.maxTokenExpirationMinutes=null;b.modified=null;b.name=null;b.portalHostname=null;b.portalMode=null;b.portalProperties=null;b.region=null;b.rotatorPanels=null;b.showHomePageDescription=!1;b.supportsHostedServices=!1;b.symbolSetsGroupQuery=null;b.templatesGroupQuery=null;b.units=null;b.url=h.portalUrl;b.urlKey=null;b.user=
null;b.useStandardizedQuery=!1;b.useVectorBasemaps=!1;b.vectorBasemapGalleryGroupQuery=null;return b}f(w,a);B=w;w.prototype.normalizeCtorArgs=function(a){return"string"===typeof a?{url:a}:a};w.prototype.destroy=function(){this._esriId_credentialCreateHandle&&(this._esriId_credentialCreateHandle.remove(),this._esriId_credentialCreateHandle=null)};w.prototype.readAuthorizedCrossOriginDomains=function(a){if(a)for(var b=0;b<a.length;b++){var c=a[b];-1===h.request.trustedServers.indexOf(c)&&h.request.trustedServers.push(c)}return a};
w.prototype.readDefaultBasemap=function(a){return a?(a=G.fromJSON(a),a.portalItem={portal:this},a):null};w.prototype.readDefaultVectorBasemap=function(a){return a?(a=G.fromJSON(a),a.portalItem={portal:this},a):null};Object.defineProperty(w.prototype,"extraQuery",{get:function(){var a=!(this.user&&this.user.orgId)||this.canSearchPublic;return this.id&&!a?" AND orgid:"+this.id:null},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"isOrganization",{get:function(){return!!this.access},
enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"restUrl",{get:function(){var a=this.url;if(a)var b=a.indexOf("/sharing"),a=0<b?a.substring(0,b):this.url.replace(/\/+$/,""),a=a+"/sharing/rest";return a},enumerable:!0,configurable:!0});Object.defineProperty(w.prototype,"thumbnailUrl",{get:function(){var a=this.restUrl,b=this.thumbnail;return a&&b?this._normalizeSSL(a+"/portals/self/resources/"+b):null},enumerable:!0,configurable:!0});w.prototype.readUrlKey=function(a){return a?a.toLowerCase():
a};w.prototype.readUser=function(a){var b=null;a&&(b=F.fromJSON(a),b.portal=this);return b};w.prototype.load=function(){var a=this,c=m.create(function(a){return b(["../Basemap"],a)}).then(function(a){G=a}).then(function(){return a._fetchSelf()}).then(function(b){if(d.id){var c=d.id;a.credential=c.findCredential(a.restUrl);a.credential||a.authMode!==B.AUTH_MODE_AUTO||(a._esriId_credentialCreateHandle=c.on("credential-create",function(){c.findCredential(a.restUrl)&&a._signIn()}))}a.read(b)});this.addResolvingPromise(c);
return this.when()};w.prototype.fetchBasemaps=function(a){var b=new p;b.query=a||(this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery);b.disableExtraQuery=!0;return this.queryGroups(b).then(function(a){b.num=100;b.query='type:"Web Map" -type:"Web Application"';return a.total?(a=a.results[0],b.sortField=a.sortField||"name",b.sortOrder=a.sortOrder||"desc",a.queryItems(b)):null}).then(function(a){return a&&a.total?a.results.filter(function(a){return"Web Map"===a.type}).map(function(a){return new G({portalItem:a})}):
[]})};w.prototype.fetchCategorySchema=function(){return this.hasCategorySchema?this._request(this.restUrl+"/portals/self/categorySchema").then(function(a){return a.categorySchema}):m.resolve([])};w.prototype.fetchFeaturedGroups=function(){var a=this.featuredGroups,b=new p;b.num=100;b.sortField="title";if(a&&a.length){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push('(title:"'+e.title+'" AND owner:'+e.owner+")")}b.query=c.join(" OR ");return this.queryGroups(b).then(function(a){return a.results})}return m.resolve([])};
w.prototype.fetchRegions=function(){return this._request(this.restUrl+"/portals/regions",{query:{culture:this.user&&this.user.culture||this.culture||l.locale}})};w.getDefault=function(){B._default||(B._default=new B);return B._default};w.prototype.queryGroups=function(a){return this._queryPortal("/community/groups",a,"PortalGroup")};w.prototype.queryItems=function(a){return this._queryPortal("/search",a,"PortalItem")};w.prototype.queryUsers=function(a){a.sortField||(a.sortField="username");return this._queryPortal("/community/users",
a,"PortalUser")};w.prototype.toJSON=function(){throw new z("internal:not-yet-implemented","Portal.toJSON is not yet implemented");};w.prototype._fetchSelf=function(a,b){void 0===a&&(a=this.authMode);void 0===b&&(b=!1);var c=this.restUrl+"/portals/self";a={authMode:a,query:{culture:l.locale}};"auto"===a.authMode&&(a.authMode="no-prompt");b&&(a.query.default=!0);return this._request(c,a)};w.prototype._queryPortal=function(a,b,c){var d=this,e=function(c){return d._request(d.restUrl+a,b.toRequestOptions(d)).then(function(a){var e=
b.clone();e.start=a.nextStart;return new x({nextQueryParams:e,queryParams:b,total:a.total,results:B._resultsToTypedArray(c,{portal:d},a)})}).then(function(a){return g(a.results.map(function(b){return"function"===typeof b.when?b.when():a})).always(function(){return a})})};return c&&C[c]?C[c]().then(function(a){return e(a)}):e()};w.prototype._signIn=function(){var a=this;if(this.authMode===B.AUTH_MODE_ANONYMOUS)return m.reject(new z("portal:invalid-auth-mode",'Current "authMode"\' is "'+this.authMode+
'"'));if("failed"===this.loadStatus)return m.reject(this.loadError);var b=function(b){return m.resolve().then(function(){if("not-loaded"===a.loadStatus)return b||(a.authMode="immediate"),a.load().then(function(){return null});if("loading"===a.loadStatus)return a.load().then(function(){if(a.credential)return null;a.credential=b;return a._fetchSelf("immediate")});if(a.user&&a.credential===b)return null;a.credential=b;return a._fetchSelf("immediate")}).then(function(b){b&&a.read(b)})};return d.id?d.id.getCredential(this.restUrl).then(function(a){return b(a)}):
b(this.credential)};w.prototype._normalizeSSL=function(a){var b=this.allSSL;!b&&t("esri-secure-context")&&(b=!0);if(this.isPortal){var d=new c(a);return-1<this.portalHostname.toLowerCase().indexOf(d.host.toLowerCase())&&d.port&&"80"!==d.port&&"443"!==d.port?b?"https://"+d.host+(this.httpsPort&&443!==this.httpsPort?":"+this.httpsPort:"")+d.path+"?"+d.query:"http://"+d.host+(this.httpPort&&80!==this.httpPort?":"+this.httpPort:"")+d.path+"?"+d.query:b?a.replace("http:","https:"):a}return b?a.replace("http:",
"https:"):a};w.prototype._normalizeUrl=function(a){var b=this.credential&&this.credential.token;return this._normalizeSSL(b?a+(-1<a.indexOf("?")?"\x26":"?")+"token\x3d"+b:a)};w.prototype._requestToTypedArray=function(a,c,d){var e=this,f=function(b){return e._request(a,c).then(function(a){var c=B._resultsToTypedArray(b,{portal:e},a);return g(c.map(function(b){return"function"===typeof b.when?b.when():a})).always(function(){return c})})};return d?m.create(function(a){return b(["./"+d],a)}).then(function(a){return f(a)}):
f()};w.prototype._request=function(a,b){var c=this.authMode===B.AUTH_MODE_ANONYMOUS?"anonymous":"auto",d=null,e="auto",g={f:"json"},f="json";b&&(b.authMode&&(c=b.authMode),b.body&&(d=b.body),b.method&&(e=b.method),b.query&&(g=r({},g,b.query)),b.responseType&&(f=b.responseType));b={authMode:c,body:d,method:e,query:g,responseType:f,timeout:0};return v(this._normalizeSSL(a),b).then(function(a){return a.data})};w._resultsToTypedArray=function(a,b,c){if(c){if(c=c.listings||c.notifications||c.userInvitations||
c.tags||c.items||c.groups||c.comments||c.provisions||c.results||c.relatedItems||c,a||b)c=c.map(function(c){c=A.mixin(a?a.fromJSON(c):c,b);"function"===typeof c.load&&c.load();return c})}else c=[];return c};var B;w.AUTH_MODE_ANONYMOUS="anonymous";w.AUTH_MODE_AUTO="auto";w.AUTH_MODE_IMMEDIATE="immediate";k([y.property()],w.prototype,"access",void 0);k([y.property()],w.prototype,"allSSL",void 0);k([y.property()],w.prototype,"authMode",void 0);k([y.property()],w.prototype,"authorizedCrossOriginDomains",
void 0);k([y.reader("authorizedCrossOriginDomains")],w.prototype,"readAuthorizedCrossOriginDomains",null);k([y.property()],w.prototype,"basemapGalleryGroupQuery",void 0);k([y.property()],w.prototype,"bingKey",void 0);k([y.property()],w.prototype,"canListApps",void 0);k([y.property()],w.prototype,"canListData",void 0);k([y.property()],w.prototype,"canListPreProvisionedItems",void 0);k([y.property()],w.prototype,"canProvisionDirectPurchase",void 0);k([y.property()],w.prototype,"canSearchPublic",void 0);
k([y.property()],w.prototype,"canShareBingPublic",void 0);k([y.property()],w.prototype,"canSharePublic",void 0);k([y.property()],w.prototype,"canSignInArcGIS",void 0);k([y.property()],w.prototype,"canSignInIDP",void 0);k([y.property()],w.prototype,"colorSetsGroupQuery",void 0);k([y.property()],w.prototype,"commentsEnabled",void 0);k([y.property({type:Date})],w.prototype,"created",void 0);k([y.property()],w.prototype,"credential",void 0);k([y.property()],w.prototype,"culture",void 0);k([y.property()],
w.prototype,"currentVersion",void 0);k([y.property()],w.prototype,"customBaseUrl",void 0);k([y.property()],w.prototype,"defaultBasemap",void 0);k([y.reader("defaultBasemap")],w.prototype,"readDefaultBasemap",null);k([y.property({type:e})],w.prototype,"defaultExtent",void 0);k([y.property()],w.prototype,"defaultVectorBasemap",void 0);k([y.reader("defaultVectorBasemap")],w.prototype,"readDefaultVectorBasemap",null);k([y.property()],w.prototype,"description",void 0);k([y.property()],w.prototype,"eueiEnabled",
void 0);k([y.property({dependsOn:["user","id","canSearchPublic"],readOnly:!0})],w.prototype,"extraQuery",null);k([y.property()],w.prototype,"featuredGroups",void 0);k([y.property()],w.prototype,"featuredItemsGroupQuery",void 0);k([y.property()],w.prototype,"galleryTemplatesGroupQuery",void 0);k([y.property()],w.prototype,"livingAtlasGroupQuery",void 0);k([y.property()],w.prototype,"hasCategorySchema",void 0);k([y.property()],w.prototype,"helpBase",void 0);k([y.property()],w.prototype,"helperServices",
void 0);k([y.property()],w.prototype,"helpMap",void 0);k([y.property()],w.prototype,"homePageFeaturedContent",void 0);k([y.property()],w.prototype,"homePageFeaturedContentCount",void 0);k([y.property()],w.prototype,"httpPort",void 0);k([y.property()],w.prototype,"httpsPort",void 0);k([y.property()],w.prototype,"id",void 0);k([y.property()],w.prototype,"ipCntryCode",void 0);k([y.property({dependsOn:["access"],readOnly:!0})],w.prototype,"isOrganization",null);k([y.property()],w.prototype,"isPortal",
void 0);k([y.property()],w.prototype,"layerTemplatesGroupQuery",void 0);k([y.property()],w.prototype,"maxTokenExpirationMinutes",void 0);k([y.property({type:Date})],w.prototype,"modified",void 0);k([y.property()],w.prototype,"name",void 0);k([y.property()],w.prototype,"portalHostname",void 0);k([y.property()],w.prototype,"portalMode",void 0);k([y.property()],w.prototype,"portalProperties",void 0);k([y.property()],w.prototype,"region",void 0);k([y.property({dependsOn:["url"],readOnly:!0})],w.prototype,
"restUrl",null);k([y.property()],w.prototype,"rotatorPanels",void 0);k([y.property()],w.prototype,"showHomePageDescription",void 0);k([y.property()],w.prototype,"staticImagesUrl",void 0);k([y.property()],w.prototype,"stylesGroupQuery",void 0);k([y.property()],w.prototype,"supportsHostedServices",void 0);k([y.property()],w.prototype,"symbolSetsGroupQuery",void 0);k([y.property()],w.prototype,"templatesGroupQuery",void 0);k([y.property()],w.prototype,"thumbnail",void 0);k([y.property({dependsOn:["restUrl",
"thumbnail"],readOnly:!0})],w.prototype,"thumbnailUrl",null);k([y.property()],w.prototype,"units",void 0);k([y.property()],w.prototype,"url",void 0);k([y.property()],w.prototype,"urlKey",void 0);k([y.reader("urlKey")],w.prototype,"readUrlKey",null);k([y.property()],w.prototype,"user",void 0);k([y.reader("user")],w.prototype,"readUser",null);k([y.property()],w.prototype,"useStandardizedQuery",void 0);k([y.property()],w.prototype,"useVectorBasemaps",void 0);k([y.property()],w.prototype,"vectorBasemapGalleryGroupQuery",
void 0);k([n(1,y.cast(p))],w.prototype,"_queryPortal",null);return w=B=k([y.subclass("esri.portal.Portal")],w)}(y.declared(B,w))})},"esri/core/Loadable":function(){define("./Promise ./Accessor ./Error ./Warning ./lang dojo/aspect dojo/Deferred".split(" "),function(b,a,r,f,k,n,l){return b.createSubclass([a],{declaredClass:"esri.core.Loadable","-chains-":k.mixin({},a._meta.chains,{load:"after"}),constructor:function(){this._set("loadWarnings",[]);var a=new l;this.addResolvingPromise(a.promise);n.around(this,
"load",function(b){return function(){"not-loaded"===this.loadStatus&&(this.loadStatus="loading",b.apply(this));a&&(a.resolve(),a=null);return this.when()}});this.when(function(a){this.loadStatus="loaded"}.bind(this),function(a){this.loadStatus="failed";this.loadError=a}.bind(this))},properties:{loaded:{readOnly:!0,dependsOn:["loadStatus"],get:function(){return"loaded"===this.loadStatus}},loadError:null,loadStatus:"not-loaded",loadWarnings:{type:[f],readOnly:!0}},load:function(){},cancelLoad:function(){if(this.isFulfilled())return this;
this.loadError=new r("load:cancelled","Cancelled");this._promiseProps.cancel(this.loadError);return this}})})},"esri/core/Promise":function(){define("dojo/promise/all dojo/Deferred dojo/aspect dojo/errors/create ./scheduling ./Logger ./declare ./has ./lang".split(" "),function(b,a,r,f,k,n,l,c,g){function h(a,b){d.warn("DEPRECATED: "+a+"()"+(b?" -- use "+b+" instead":""))}c.add("esri-promise-compatibility",!0);c.add("esri-promise-compatibility-deprecation-warnings",!0);var d=n.getLogger("esri.core.Promise"),
v=function(c){var d=c._promiseProps;if(!d.resolver.isFulfilled()){var g=d.resolvingPromises,f,e;d.allPromise&&d.allPromise.cancel();var h=new a;for(f=g.length-1;0<=f;f--)e=g[f],e.isCanceled&&e.isCanceled()?g.splice(f,1):e.then(null,null,d.resolver.progress);e=null;(d.allPromise=b(g.concat([h.promise]))).then(function(){d.resolver.resolve(c);c=d=h=d.allPromise=d.resolvingPromises=null},function(a){d.allPromise=null;if(!a||"cancel"!==a.dojoType){var b=Array.prototype.slice.call(arguments,0);d.resolver.reject(b[0]);
c=d=h=d.allPromise=d.resolvingPromises=null}});h&&k.schedule(function(){h&&h.resolve()})}},z=f("CancelError",null,function(a){this.target=a}),t=function(a){return a||new z(this.instance)},B=function(b){this.instance=b;this.canceler=t.bind(this);this.resolver=new a;this.initialized=!1;this.resolvingPromises=[]};B.prototype={canceler:null,cancel:function(a){if(!this.resolver.isFulfilled()){this.allPromise.cancel();for(var b=this.resolvingPromises.concat(),c=b.length-1;0<=c;c--)b[c].cancel(a);this.resolver.cancel(a)}}};
f={declaredClass:"esri.core.Promise",constructor:function(){Object.defineProperty(this,"_promiseProps",{value:new B(this),enumerable:!1,configurable:!1,writable:!0});var a=r.after(this,"postscript",function(b,c){a.remove();a=null;v(this)},!0)},_promiseProps:null,always:function(a){c("esri-promise-compatibility-deprecation-warnings")&&h("always",".when(callbackOrErrback, callbackOrErrback)");return this.when(a,a)},isResolved:function(){return this._promiseProps.resolver.isResolved()},isRejected:function(){return this._promiseProps.resolver.isRejected()},
isFulfilled:function(){return this._promiseProps.resolver.isFulfilled()},otherwise:function(a){c("esri-promise-compatibility-deprecation-warnings")&&h("otherwise",".when().catch(errback)");return this.when(null,a)},catch:function(a){return this.when(null,a)},when:function(b,c,d){var g=new a(this._promiseProps.canceler);b=g.then(b,c,d);this._promiseProps.resolver.then(g.resolve,g.reject,g.progress);return b},addResolvingPromise:function(a){a&&!this._promiseProps.resolver.isFulfilled()&&(a._promiseProps&&
(a=a.when()),this._promiseProps.resolvingPromises.push(a),v(this))}};c("esri-promise-compatibility")||(f=g.mixin(f,{then:function(a,b,d){c("esri-promise-compatibility-deprecation-warnings")&&h("then",".when(callback, errback)");return this.when(a,b,d)},cancel:function(){c("esri-promise-compatibility-deprecation-warnings")&&h("cancel")},isCanceled:function(){c("esri-promise-compatibility-deprecation-warnings")&&h("isCanceled");return!1},trace:function(){c("esri-promise-compatibility-deprecation-warnings")&&
h("trace");return this},traceRejected:function(){c("esri-promise-compatibility-deprecation-warnings")&&h("traceRejected");return this}}));return l(null,f)})},"esri/portal/PortalQueryParams":function(){define("require exports ../core/tsSupport/assignHelper ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/kebabDictionary ../core/lang ../core/accessorSupport/decorators ../geometry/Extent ../geometry/SpatialReference ../geometry/support/webMercatorUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v){var z=l({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return function(a){function b(b){b=a.call(this)||this;b.categories=null;b.disableExtraQuery=!1;b.extent=null;b.num=10;b.query=null;b.sortField=null;b.start=1;return b}f(b,a);l=b;Object.defineProperty(b.prototype,"sortOrder",{get:function(){return this._get("sortOrder")||"asc"},set:function(a){"asc"!==a&&"desc"!==a||this._set("sortOrder",a)},enumerable:!0,configurable:!0});
b.prototype.clone=function(){return new l({categories:this.categories?c.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})};b.prototype.toRequestOptions=function(a,b){var c;this.categories&&(c=this.categories.map(function(a){return Array.isArray(a)?JSON.stringify(a):a}));var e;if(this.extent){var g=v.project(this.extent,d.WGS84);g&&(e=g.xmin+
","+g.ymin+","+g.xmax+","+g.ymax)}g=this.query;!this.disableExtraQuery&&a.extraQuery&&(g="("+g+")"+a.extraQuery);a={categories:c,bbox:e,q:g,num:this.num,sortField:null,sortOrder:null,start:this.start};this.sortField&&(a.sortField=z.toJSON(this.sortField),a.sortOrder=this.sortOrder);return{query:r({},b,a)}};var l;k([g.property()],b.prototype,"categories",void 0);k([g.property()],b.prototype,"disableExtraQuery",void 0);k([g.property({type:h})],b.prototype,"extent",void 0);k([g.property()],b.prototype,
"num",void 0);k([g.property()],b.prototype,"query",void 0);k([g.property()],b.prototype,"sortField",void 0);k([g.property()],b.prototype,"sortOrder",null);k([g.property()],b.prototype,"start",void 0);return b=l=k([g.subclass("esri.portal.PortalQueryParams")],b)}(g.declared(n))})},"esri/portal/PortalQueryResult":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Accessor ../core/accessorSupport/decorators".split(" "),function(b,a,r,f,
k,n){return function(a){function b(b){b=a.call(this)||this;b.nextQueryParams=null;b.queryParams=null;b.results=null;b.total=null;return b}r(b,a);f([n.property()],b.prototype,"nextQueryParams",void 0);f([n.property()],b.prototype,"queryParams",void 0);f([n.property()],b.prototype,"results",void 0);f([n.property()],b.prototype,"total",void 0);return b=f([n.subclass("esri.portal.PortalQueryResult")],b)}(n.declared(k))})},"esri/portal/PortalUser":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper dojo/promise/all ../core/Error ../core/JSONSupport ../core/promiseUtils ../core/accessorSupport/decorators ./PortalFolder ./PortalGroup".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d){return function(a){function l(){var b=a.call(this)||this;b.access=null;b.created=null;b.culture=null;b.description=null;b.email=null;b.fullName=null;b.modified=null;b.orgId=null;b.portal=null;b.preferredView=null;b.privileges=null;b.region=null;b.role=null;b.roleId=null;b.units=null;b.username=null;b.userType=null;return b}r(l,a);Object.defineProperty(l.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+
"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"userContentUrl",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username:null},enumerable:!0,configurable:!0});Object.defineProperty(l.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/users/"+this.username:null},enumerable:!0,configurable:!0});l.prototype.addItem=function(a){var b=this,c=a&&a.item,d=a&&a.data;a=a&&a.folder;var g=
{method:"post"};c&&(g.query=c._getPostQuery(),null!=d&&("string"===typeof d?g.query.text=d:"object"===typeof d&&(g.query.text=JSON.stringify(d))));d=this.userContentUrl;a&&(d+="/"+a.id);return this.portal._request(d+"/addItem",g).then(function(a){c.id=a.id;c.portal=b.portal;return c.loaded?c._reload():c.load()})};l.prototype.deleteItem=function(a){var b=this.userContentUrl;a.ownerFolder&&(b+="/"+a.ownerFolder);return this.portal._request(b+("/items/"+a.id+"/delete"),{method:"post"}).then(function(){a.id=
null;a.portal=null})};l.prototype.deleteItems=function(a){var b=this.userContentUrl+"/deleteItems",d=a.map(function(a){return a.id});return d.length?(d={method:"post",query:{items:d.join(",")}},this.portal._request(b,d).then(function(){a.forEach(function(a){a.id=null;a.portal=null})})):c.resolve(void 0)};l.prototype.fetchFolders=function(){var a=this;return this.portal._request(this.userContentUrl,{query:{num:1}}).then(function(b){return b&&b.folders?b.folders.map(function(b){b=h.fromJSON(b);b.portal=
a.portal;return b}):[]})};l.prototype.fetchGroups=function(){var a=this;return this.portal._request(this.url).then(function(b){return b&&b.groups?b.groups.map(function(b){b=d.fromJSON(b);b.portal=a.portal;return b}):[]})};l.prototype.fetchItems=function(a){var d=this;a||(a={});var g=this.userContentUrl;a.folder&&(g+="/"+a.folder.id);var f;return c.create(function(a){return b(["./PortalItem"],a)}).then(function(b){f=b;return d.portal._request(g,{query:{folders:!1,num:a.num||10,start:a.start||1}})}).then(function(a){var b;
return a&&a.items?(b=a.items.map(function(a){a=f.fromJSON(a);a.portal=d.portal;return a}),k(b.map(function(a){return a.load()})).always(function(){return{items:b,nextStart:a.nextStart,total:a.total}})):{items:[],nextStart:-1,total:0}})};l.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};l.prototype.queryFavorites=function(a){return this.favGroupId?(this._favGroup||(this._favGroup=new d({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(a)):
c.reject(new n("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))};l.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};f([g.property()],l.prototype,"access",void 0);f([g.property({type:Date})],l.prototype,"created",void 0);f([g.property()],l.prototype,"culture",void 0);f([g.property()],l.prototype,"description",void 0);f([g.property()],l.prototype,"email",void 0);f([g.property()],l.prototype,"favGroupId",
void 0);f([g.property()],l.prototype,"fullName",void 0);f([g.property({type:Date})],l.prototype,"modified",void 0);f([g.property()],l.prototype,"orgId",void 0);f([g.property()],l.prototype,"portal",void 0);f([g.property()],l.prototype,"preferredView",void 0);f([g.property()],l.prototype,"privileges",void 0);f([g.property()],l.prototype,"region",void 0);f([g.property()],l.prototype,"role",void 0);f([g.property()],l.prototype,"roleId",void 0);f([g.property()],l.prototype,"thumbnail",void 0);f([g.property({dependsOn:["url",
"thumbnail","portal.credential.token"],readOnly:!0})],l.prototype,"thumbnailUrl",null);f([g.property()],l.prototype,"units",void 0);f([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],l.prototype,"userContentUrl",null);f([g.property({dependsOn:["portal.restUrl"],readOnly:!0})],l.prototype,"url",null);f([g.property()],l.prototype,"username",void 0);f([g.property()],l.prototype,"userType",void 0);return l=f([g.subclass("esri.portal.PortalUser")],l)}(g.declared(l))})},"esri/portal/PortalFolder":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n,l){return function(a){function b(b){b=a.call(this)||this;b.created=null;b.id=null;b.portal=null;b.title=null;b.username=null;return b}r(b,a);Object.defineProperty(b.prototype,"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/content/users/"+this.username+"/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.toJSON=function(){throw new k("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented");};f([l.property({type:Date})],b.prototype,
"created",void 0);f([l.property()],b.prototype,"id",void 0);f([l.property()],b.prototype,"portal",void 0);f([l.property()],b.prototype,"title",void 0);f([l.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,"url",null);f([l.property()],b.prototype,"username",void 0);return b=f([l.subclass("esri.portal.PortalFolder")],b)}(l.declared(n))})},"esri/portal/PortalGroup":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/paramHelper ../core/Error ../core/JSONSupport ../core/accessorSupport/decorators ./PortalQueryParams".split(" "),
function(b,a,r,f,k,n,l,c,g){return function(a){function b(b){b=a.call(this)||this;b.access=null;b.created=null;b.description=null;b.id=null;b.isInvitationOnly=!1;b.modified=null;b.owner=null;b.portal=null;b.snippet=null;b.sortField=null;b.sortOrder=null;b.tags=null;b.title=null;return b}r(b,a);Object.defineProperty(b.prototype,"thumbnailUrl",{get:function(){var a=this.url,b=this.thumbnail;return a&&b?this.portal._normalizeUrl(a+"/info/"+b+"?f\x3djson"):null},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"url",{get:function(){var a=this.get("portal.restUrl");return a?a+"/community/groups/"+this.id:null},enumerable:!0,configurable:!0});b.prototype.fetchCategorySchema=function(){var a=this;return this.portal._request(this.url+"/categorySchema").then(function(b){b=b.categorySchema||[];return b.some(function(a){return"contentCategorySetsGroupQuery.LivingAtlas"===a.source})?a._fetchCategorySchemaSet("LivingAtlas"):b})};b.prototype.fetchMembers=function(){return this.portal._request(this.url+"/users")};
b.prototype.getThumbnailUrl=function(a){var b=this.thumbnailUrl;b&&a&&(b+="\x26w\x3d"+a);return b};b.prototype.toJSON=function(){throw new n("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented");};b.prototype.queryItems=function(a){if(5<parseFloat(this.portal.currentVersion))return a=a||new g,this.portal._queryPortal("/content/groups/"+this.id+"/search",a,"PortalItem");a=a?a.clone():new g;a.query="group:"+this.id+(a.query?" "+a.query:"");return this.portal.queryItems(a)};b.prototype._fetchCategorySchemaSet=
function(a){var b=this;return this.portal._fetchSelf(this.portal.authMode,!0).then(function(a){if(a=a.contentCategorySetsGroupQuery){var c=new g;c.disableExtraQuery=!0;c.num=1;c.query=a;return b.portal.queryGroups(c)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found");}).then(function(b){if(b.total){b=b.results[0];var c=new g;c.num=1;c.query='typekeywords:"'+a+'"';return b.queryItems(c)}throw new n("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found");
}).then(function(a){return a.total?a.results[0].fetchData().then(function(a){return(a=a&&a.categorySchema)&&a.length?a:[]}):[]})};f([c.property()],b.prototype,"access",void 0);f([c.property({type:Date})],b.prototype,"created",void 0);f([c.property()],b.prototype,"description",void 0);f([c.property()],b.prototype,"id",void 0);f([c.property()],b.prototype,"isInvitationOnly",void 0);f([c.property({type:Date})],b.prototype,"modified",void 0);f([c.property()],b.prototype,"owner",void 0);f([c.property()],
b.prototype,"portal",void 0);f([c.property()],b.prototype,"snippet",void 0);f([c.property()],b.prototype,"sortField",void 0);f([c.property()],b.prototype,"sortOrder",void 0);f([c.property()],b.prototype,"tags",void 0);f([c.property()],b.prototype,"thumbnail",void 0);f([c.property({dependsOn:["url","thumbnail","portal.credential.token"],readOnly:!0})],b.prototype,"thumbnailUrl",null);f([c.property()],b.prototype,"title",void 0);f([c.property({dependsOn:["portal.restUrl"],readOnly:!0})],b.prototype,
"url",null);f([k(0,c.cast(g))],b.prototype,"queryItems",null);return b=f([c.subclass("esri.portal.PortalGroup")],b)}(c.declared(l))})},"esri/symbols/ExtrudeSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils".split(" "),function(b,a,r,f,k,n,l){return function(a){function b(b){b=a.call(this)||this;b.type="extrude";b.size=void 0;b.material=null;b.edges=null;return b}
r(b,a);c=b;b.prototype.clone=function(){return new c({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};var c;f([k.enumeration.serializable()({Extrude:"extrude"})],b.prototype,"type",void 0);f([k.property({type:Number,json:{write:!0}})],b.prototype,"size",void 0);f([k.property()],b.prototype,"material",void 0);f([k.property(l.symbol3dEdgesProperty)],b.prototype,"edges",
void 0);return b=c=f([k.subclass("esri.symbols.ExtrudeSymbol3DLayer")],b)}(k.declared(n))})},"esri/symbols/Symbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/kebabDictionary ../core/accessorSupport/decorators ./support/ElevationInfo ./support/Symbol3DMaterial".split(" "),function(b,a,r,f,k,n,l,c,g){var h=n.strict()({Icon:"icon",Object:"object",Line:"line",Path:"path",Fill:"fill",Extrude:"extrude",Text:"text"});
b=function(a){function b(b){b=a.call(this)||this;b.enabled=!0;b.material=null;b.type=null;return b}r(b,a);b.prototype.writeEnabled=function(a,b,c){a||(b[c]=a)};f([l.property({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],b.prototype,"enabled",void 0);f([l.writer("enabled")],b.prototype,"writeEnabled",null);f([l.property({type:c,json:{read:!1,write:!1}})],b.prototype,"elevationInfo",void 0);f([l.property({type:g.default,json:{write:!0}})],b.prototype,"material",void 0);f([l.property({type:h.apiValues,
readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:h.write}}})],b.prototype,"type",void 0);return b=f([l.subclass("esri.symbols.Symbol3DLayer")],b)}(l.declared(k));(b||(b={})).typeJSONDictionary=h;return b})},"esri/symbols/support/ElevationInfo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/accessorSupport/decorators ../../support/arcadeUtils ./unitConversionUtils".split(" "),
function(b,a,r,f,k,n,l,c,g){var h=n.strict()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),d=n({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"}),v=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);d=b;Object.defineProperty(b.prototype,"requiredFields",{get:function(){return c.extractFieldNames(this.expression)},enumerable:!0,configurable:!0});
b.prototype.clone=function(){return new d({expression:this.expression,title:this.title})};var d;f([l.property({type:String,json:{write:!0}})],b.prototype,"expression",void 0);f([l.property({readOnly:!0,dependsOn:["expression"]})],b.prototype,"requiredFields",null);f([l.property({type:String,json:{write:!0}})],b.prototype,"title",void 0);return b=d=f([l.subclass("esri.layers.support.FeatureExpressionInfo")],b)}(l.declared(k));return function(a){function b(){return null!==a&&a.apply(this,arguments)||
this}r(b,a);c=b;b.prototype.readFeatureExpressionInfo=function(a,b){if(null!=a)return a;if(b.featureExpression&&0===b.featureExpression.value)return{expression:"0"}};b.prototype.writeFeatureExpressionInfo=function(a,b,c,d){b[c]=a.write(null,d);"0"===a.expression&&(b.featureExpression={value:0})};Object.defineProperty(b.prototype,"mode",{get:function(){return this._isOverridden("mode")?this._get("mode"):null!=this.offset||this.featureExpressionInfo?"relative-to-ground":"on-the-ground"},set:function(a){this._override("mode",
a)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"unit",{set:function(a){this._set("unit",a)},enumerable:!0,configurable:!0});b.prototype.write=function(a,b){return this.offset||this.mode||this.featureExpressionInfo||this.unit?this.inherited(arguments):null};b.prototype.clone=function(){return new c({mode:this.mode,offset:this.offset,featureExpressionInfo:this.featureExpressionInfo?this.featureExpressionInfo.clone():void 0,unit:this.unit})};var c;f([l.property({type:v,json:{write:!0}})],
b.prototype,"featureExpressionInfo",void 0);f([l.reader("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],b.prototype,"readFeatureExpressionInfo",null);f([l.writer("featureExpressionInfo",{featureExpressionInfo:{type:v},"featureExpression.value":{type:Number}})],b.prototype,"writeFeatureExpressionInfo",null);f([l.property({type:h.apiValues,dependsOn:["offset","featureExpressionInfo"],nonNullable:!0,json:{read:h.read,write:{writer:h.write,isRequired:!0}}})],b.prototype,"mode",
null);f([l.property({type:Number,json:{write:!0}})],b.prototype,"offset",void 0);f([l.property({type:g.supportedUnits,json:{read:d.read,write:d.write}})],b.prototype,"unit",null);return b=c=f([l.subclass("esri.layers.support.ElevationInfo")],b)}(l.declared(k))})},"esri/support/arcadeUtils":function(){define("require exports ../arcade/arcade ../arcade/Dictionary ../arcade/Feature ../core/lang".split(" "),function(b,a,r,f,k,n){function l(a){var b;try{b=a?r.parseScript(a):null}catch(v){b=null}return b}
Object.defineProperty(a,"__esModule",{value:!0});var c=/^\$feature\./i,g={vars:{$feature:"any",$view:"any"},spatialReference:null};a.createSyntaxTree=l;a.createFunction=function(a,b){b=b||n.clone(g);a="string"===typeof a?l(a):a;if(!a)return null;var c;try{c=a?r.compileScript(a,b):null}catch(z){c=null}return c};a.createExecContext=function(a,b){return{vars:{$feature:null==a?new k:k.createFromGraphic(a),$view:b&&b.view},spatialReference:b&&b.sr}};a.createFeature=function(a,b,c){return k.createFromGraphicLikeObject(b,
a,c)};a.updateExecContext=function(a,b){a.vars.$feature=b};a.evalSyntaxTree=function(a,b){var c;try{c=r.executeScript(a,b,b.spatialReference)}catch(z){c=null}return c};a.executeFunction=function(a,b){var c;try{c=a?a(b,b.spatialReference):null}catch(z){c=null}return c};a.extractFieldNames=function(a){if(!a)return[];a="string"===typeof a?l(a):a;if(!a)return[];var b=[];r.extractFieldLiterals(a).forEach(function(a){c.test(a)&&(a=a.replace(c,""),b.push(a))});b.sort();return b.filter(function(a,c){return 0===
c||b[c-1]!==a})};a.dependsOnView=function(a){return r.referencesMember(a,"$view")};a.getViewInfo=function(a){if(a&&a.viewingMode&&null!=a.scale&&a.spatialReference)return{view:new f({viewingMode:a.viewingMode,scale:a.scale}),sr:a.spatialReference}};a.hasGeometryOperations=function(a){return(a="string"===typeof a?l(a):a)&&r.scriptUsesGeometryEngine(a)};a.enableGeometryOperations=function(){return r.enableGeometrySupport()}})},"esri/arcade/arcade":function(){define("require exports dojo/Deferred ./arcadeCompiler ./arcadeRuntime ./parser ../core/has".split(" "),
function(b,a,r,f,k,n,l){Object.defineProperty(a,"__esModule",{value:!0});var c="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length lengthgeodetic distance densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");a.compileScript=function(a,b){return l("csp-restrictions")?function(b,c){return k.executeScript(a,b,c)}:f.compileScript(a,
b)};a.extend=function(a){k.extend(a);f.extend(a)};a.parseScript=function(a){return n.parseScript(a)};a.validateScript=function(a,b){return n.validateScript(a,b,"simple")};a.scriptCheck=function(a,b,c){return n.scriptCheck(a,b,c,"full")};a.parseAndExecuteScript=function(a,b,c){return k.executeScript(n.parseScript(a),b,c)};a.executeScript=function(a,b,c){return k.executeScript(a,b,c)};a.referencesMember=function(a,b){return k.referencesMember(a,b)};a.referencesFunction=function(a,b){return k.referencesFunction(a,
b)};a.extractFieldLiterals=function(a,b){void 0===b&&(b=!1);return n.extractFieldLiterals(a,b)};a.scriptUsesGeometryEngine=function(a){a=k.findFunctionCalls(a);for(var b=0;b<a.length;b++)if(-1<c.indexOf(a[b]))return!0;return!1};a.enableGeometrySupport=function(){var a=new r;b(["esri/geometry/geometryEngine","./functions/geomsync"],function(b,c){c.setGeometryEngine(b);a.resolve(!0)},function(b){a.reject(b)});return a.promise}})},"esri/arcade/arcadeCompiler":function(){define("require exports ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y,e,p){function x(a,b,c){try{return c(a,null,b)}catch(ha){throw ha;}}function F(a,b){try{switch(b.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return P(a,b);case "VariableDeclaration":for(var d=[],e=0;e<b.declarations.length;e++)d.push(F(a,b.declarations[e]));return d.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";case "BlockStatement":return E(a,b);case "FunctionDeclaration":var e=b.id.name.toLowerCase(),f={applicationCache:void 0===
a.applicationCache?null:a.applicationCache,spatialReference:a.spatialReference,console:a.console,symbols:a.symbols,localScope:{_SymbolsMap:{}},depthCounter:a.depthCounter+1,globalScope:a.globalScope};if(64<f.depthCounter)throw Error("Exceeded maximum function depth");for(var g="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; var lscope \x3d [];\n ",h=0;h<b.params.length;h++){var m=b.params[h].name.toLowerCase(),k=ma(m,a);f.localScope._SymbolsMap[m]=
k;g+="lscope['"+k+"']\x3darguments["+h.toString()+"];\n"}g+=E(f,b.body)+"\n return lastStatement; }, runtimeCtx))";g+="\n lastStatement \x3d lc.voidOperation; \n";void 0!==a.globalScope[e]?d="gscope['"+e+"']\x3d"+g:void 0!==a.globalScope._SymbolsMap[e]?d="gscope['"+a.globalScope._SymbolsMap[e]+"']\x3d"+g:(k=ma(e,a),a.globalScope._SymbolsMap[e]=k,d="gscope['"+k+"']\x3d"+g);return d;case "ReturnStatement":var p;p=null===b.argument?"return lc.voidOperation;":"return "+F(a,b.argument)+";";return p;case "IfStatement":if("AssignmentExpression"===
b.test.type||"UpdateExpression"===b.test.type)throw Error(c.nodeErrorMessage(b.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var l=F(a,b.test),n=U(a),v="var "+n+" \x3d "+l+";\n if ("+n+" \x3d\x3d\x3d true) {\n"+O(a,b.consequent)+"\n }\n",v=null!==b.alternate?v+("else if ("+n+"\x3d\x3d\x3dfalse)   { \n"+O(a,b.alternate)+"}\n"):v+("else if ("+n+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");return v+="else { lang.error({type: '"+b.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n";
case "ExpressionStatement":var y;y="AssignmentExpression"===b.expression.type?"lastStatement \x3d lc.voidOperation; "+F(a,b.expression)+" \n ":"lastStatement \x3d "+F(a,b.expression)+";";return y;case "AssignmentExpression":return C(a,b);case "UpdateExpression":return G(a,b);case "BreakStatement":return"break;";case "ContinueStatement":return"continue;";case "ForStatement":d="lastStatement \x3d lc.voidOperation; \n";null!==b.init&&(d+=F(a,b.init));var q=U(a),t=U(a),d=d+("var "+q+" \x3d true;")+"\n do { ";
null!==b.update&&(d+=" if ("+q+"\x3d\x3d\x3dfalse) {\n "+F(a,b.update)+"  \n}\n "+q+"\x3dfalse; \n");null!==b.test&&(d+="var "+t+" \x3d "+F(a,b.test)+";",d+="if ("+t+"\x3d\x3d\x3dfalse) { break; } else if ("+t+"!\x3d\x3dtrue) { lang.error({type: '"+b.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");d+=F(a,b.body);null!==b.update&&(d+="\n "+F(a,b.update));return d+("\n"+q+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation;");case "ForInStatement":var r=U(a),z=U(a),
x=U(a),w="var "+r+" \x3d "+F(a,b.right)+";\n";"VariableDeclaration"===b.left.type&&(w+=F(a,b.left));var A="VariableDeclaration"===b.left.type?b.left.declarations[0].id.name:b.left.name,A=A.toLowerCase(),d="";null!==a.localScope&&(void 0!==a.localScope[A]?d="lscope['"+A+"']":void 0!==a.localScope._SymbolsMap[A]&&(d="lscope['"+a.localScope._SymbolsMap[A]+"']"));""===d&&(void 0!==a.globalScope[A]?d="gscope['"+A+"']":void 0!==a.globalScope._SymbolsMap[A]&&(d="gscope['"+a.globalScope._SymbolsMap[A]+"']"));
w=w+("if ("+r+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n ")+("else if (lc.isArray("+r+") || lc.isString("+r+")) {")+("var "+z+"\x3d"+r+".length; \n")+("for(var "+x+"\x3d0; "+x+"\x3c"+z+"; "+x+"++) {\n");w+=d+"\x3d"+x+";\n";w+=F(a,b.body);w+="\n}\n";w+=" lastStatement \x3d lc.voidOperation; \n";w+=" \n}\n";w+="else if (lc.isImmutableArray("+r+")) {";w=w+("var "+z+"\x3d"+r+".length(); \n")+("for(var "+x+"\x3d0; "+x+"\x3c"+z+"; "+x+"++) {\n");w+=d+"\x3d"+x+";\n";w+=F(a,b.body);w+=
"\n}\n";w+=" lastStatement \x3d lc.voidOperation; \n";w+=" \n}\n";w+="else if (( "+r+" instanceof lang.Dictionary) || ( "+r+" instanceof lang.Feature)) {";w=w+("var "+z+"\x3d"+r+".keys(); \n")+("for(var "+x+"\x3d0; "+x+"\x3c"+z+".length; "+x+"++) {\n");w+=d+"\x3d"+z+"["+x+"];\n";w+=F(a,b.body);w+="\n}\n";w+=" lastStatement \x3d lc.voidOperation; \n";w+=" \n}\n";return w+"else { lastStatement \x3d lc.voidOperation; } \n";case "Identifier":return ga(a,b);case "MemberExpression":var B;try{d=void 0,d=
!0===b.computed?F(a,b.property):"'"+b.property.name+"'",B="lang.member("+F(a,b.object)+","+d+")"}catch(za){throw za;}return B;case "Literal":return null===b.value||void 0===b.value?"null":JSON.stringify(b.value);case "ThisExpression":throw Error(c.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==b.callee.type)throw Error(c.nodeErrorMessage(b,"RUNTIME","ONLYNODESSUPPORTED"));var H=b.callee.name.toLowerCase(),d="";null!==a.localScope&&(void 0!==a.localScope[H]?
d="lscope['"+H+"']":void 0!==a.localScope._SymbolsMap[H]&&(d="lscope['"+a.localScope._SymbolsMap[H]+"']"));""===d&&(void 0!==a.globalScope[H]?d="gscope['"+H+"']":void 0!==a.globalScope._SymbolsMap[H]&&(d="gscope['"+a.globalScope._SymbolsMap[H]+"']"));if(""!==d)for(e="[",f=0;f<b.arguments.length;f++)0<f&&(e+=", "),e+=F(a,b.arguments[f]);else throw Error(c.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));}catch(za){throw za;}return"lang.callfunc("+d+","+(e+"]")+",runtimeCtx)";case "UnaryExpression":var V;
try{V="lang.unary("+F(a,b.argument)+",'"+b.operator+"')"}catch(za){throw za;}return V;case "BinaryExpression":var na;try{na="lang.binary("+F(a,b.left)+","+F(a,b.right)+",'"+b.operator+"')"}catch(za){throw za;}return na;case "LogicalExpression":var X;try{if("AssignmentExpression"===b.left.type||"UpdateExpression"===b.left.type)throw Error(c.nodeErrorMessage(b.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===b.right.type||"UpdateExpression"===b.right.type)throw Error(c.nodeErrorMessage(b.right,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===b.operator||"||"===b.operator)X="(lang.logicalCheck("+F(a,b.left)+") "+b.operator+" lang.logicalCheck("+F(a,b.right)+"))";else throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));}catch(za){throw za;}return X;case "ConditionalExpression":throw Error(c.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{d=[];for(e=0;e<b.elements.length;e++)"Literal"===b.elements[e].type?d.push(F(a,b.elements[e])):
d.push("lang.aCheck("+F(a,b.elements[e])+",'ArrayExpression')");g="["+d.join(",")+"]"}catch(za){throw za;}return g;case "ObjectExpression":d="lang.dictionary([";for(e=0;e<b.properties.length;e++){var h=b.properties[e],J="Identifier"===h.key.type?"'"+h.key.name+"'":F(a,h.key),M=F(a,h.value);0<e&&(d+=",");d+="lang.strCheck("+J+",'ObjectExpression'),lang.aCheck("+M+", 'ObjectExpression')"}return d+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(c.nodeErrorMessage(b,"RUNTIME",
"NOTSUPPORTED"));default:throw Error(c.nodeErrorMessage(b,"RUNTIME","UNREOGNISED"));}}catch(za){throw za;}}function G(a,b){var c=null,d="";if("MemberExpression"===b.argument.type)return c=F(a,b.argument.object),d=!0===b.argument.computed?F(a,b.argument.property):"'"+b.argument.property.name+"'","lang.memberupdate("+c+","+d+",'"+b.operator+"',"+b.prefix+")";c=b.argument.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[c])return"lang.update(lscope, '"+c+"','"+b.operator+"',"+b.prefix+
")";if(void 0!==a.localScope._SymbolsMap[c])return"lang.update(lscope, '"+a.localScope._SymbolsMap[c]+"','"+b.operator+"',"+b.prefix+")"}if(void 0!==a.globalScope[c])return"lang.update(gscope, '"+c+"','"+b.operator+"',"+b.prefix+")";if(void 0!==a.globalScope._SymbolsMap[c])return"lang.update(gscope, '"+a.globalScope._SymbolsMap[c]+"','"+b.operator+"',"+b.prefix+")";throw Error("Variable not recognised");}function C(a,b){var c=F(a,b.right),d=null,e="";if("MemberExpression"===b.left.type)return d=F(a,
b.left.object),e=!0===b.left.computed?F(a,b.left.property):"'"+b.left.property.name+"'","lang.assignmember("+d+","+e+",'"+b.operator+"',"+c+");";d=b.left.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[d])return"lscope['"+d+"']\x3dlang.assign("+c+",'"+b.operator+"', lscope['"+d+"']); ";if(void 0!==a.localScope._SymbolsMap[d])return"lscope['"+a.localScope._SymbolsMap[d]+"']\x3dlang.assign("+c+",'"+b.operator+"', lscope['"+a.localScope._SymbolsMap[d]+"']); "}if(void 0!==a.globalScope[d])return"gscope['"+
d+"']\x3dlang.assign("+c+",'"+b.operator+"', gscope['"+d+"']); ";if(void 0!==a.globalScope._SymbolsMap[d])return"gscope['"+a.globalScope._SymbolsMap[d]+"']\x3dlang.assign("+c+",'"+b.operator+"', gscope['"+a.globalScope._SymbolsMap[d]+"']); ";throw Error("Variable not recognised");}function O(a,b){return"BlockStatement"===b.type?F(a,b):"ReturnStatement"===b.type?F(a,b):"BreakStatement"===b.type?F(a,b):"ContinueStatement"===b.type?F(a,b):"UpdateExpression"===b.type?"lastStatement \x3d "+F(a,b)+";":
"ExpressionStatement"===b.type?F(a,b):"ObjectExpression"===b.type?"lastStatement \x3d "+F(a,b)+";":F(a,b)}function E(a,b){for(var c="",d=0;d<b.body.length;d++)c="ReturnStatement"===b.body[d].type?c+(F(a,b.body[d])+" \n"):"BreakStatement"===b.body[d].type?c+(F(a,b.body[d])+" \n"):"ContinueStatement"===b.body[d].type?c+(F(a,b.body[d])+" \n"):"UpdateExpression"===b.body[d].type?c+("lastStatement \x3d "+F(a,b.body[d])+"; \n"):"ObjectExpression"===b.body[d].type?c+("lastStatement \x3d "+F(a,b.body[d])+
"; \n"):c+(F(a,b.body[d])+" \n");return c}function P(a,b){var c=null===b.init?null:F(a,b.init);c===l.voidOperation&&(c=null);b=b.id.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[b])return"lscope['"+b+"']\x3d"+c+";";if(void 0!==a.localScope._SymbolsMap[b])return"lscope['"+a.localScope._SymbolsMap[b]+"']\x3d"+c+";";var d=ma(b,a);a.localScope._SymbolsMap[b]=d;return"lscope['"+d+"']\x3d"+c+";"}if(void 0!==a.globalScope[b])return"gscope['"+b+"']\x3d"+c+";";if(void 0!==a.globalScope._SymbolsMap[b])return"gscope['"+
a.globalScope._SymbolsMap[b]+"']\x3d"+c+";";d=ma(b,a);a.globalScope._SymbolsMap[b]=d;return"gscope['"+d+"']\x3d"+c+";"}function da(a,b,d){b=b.toLowerCase();switch(b){case "hasz":return a=a.hasZ,void 0===a?!1:a;case "hasm":return a=a.hasM,void 0===a?!1:a;case "spatialreference":return b=a.spatialReference._arcadeCacheId,void 0===b&&(d=!0,Object.freeze&&Object.isFrozen(a.spatialReference)&&(d=!1),d&&(J++,b=a.spatialReference._arcadeCacheId=J)),a=new r({wkt:a.spatialReference.wkt,wkid:a.spatialReference.wkid}),
void 0!==b&&(a._arcadeCacheId="SPREF"+b.toString()),a}switch(a.type){case "extent":switch(b){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return a=a[b],void 0!==a?a:null;case "type":return"Extent"}break;case "polygon":switch(b){case "rings":return b=l.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(J++,b=J,l.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new k(a.rings,a.spatialReference,
!0===a.hasZ,!0===a.hasM,b);case "type":return"Polygon"}break;case "point":switch(b){case "x":case "y":case "z":case "m":return void 0!==a[b]?a[b]:null;case "type":return"Point"}break;case "polyline":switch(b){case "paths":return b=l.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(J++,b=J,l.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new k(a.paths,a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polyline"}break;case "multipoint":switch(b){case "points":return b=
l.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(J++,b=J,l.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new n(a.points,a.spatialReference,!0===a.hasZ,!0===a.hasM,b,1);case "type":return"Multipoint"}}throw Error(c.nodeErrorMessage(d,"RUNTIME","PROPERTYNOTFOUND"));}function ga(a,b){try{var d=b.name.toLowerCase();if(null!==a.localScope){if(void 0!==a.localScope[d])return"lscope['"+d+"']";if(void 0!==a.localScope._SymbolsMap[d])return"lscope['"+
a.localScope._SymbolsMap[d]+"']"}if(void 0!==a.globalScope[d])return"gscope['"+d+"']";if(void 0!==a.globalScope._SymbolsMap[d])return"gscope['"+a.globalScope._SymbolsMap[d]+"']";throw Error(c.nodeErrorMessage(b,"RUNTIME","VARIABLENOTFOUND"));}catch(ha){throw ha;}}function T(a){return null===a?"":l.isArray(a)||l.isImmutableArray(a)?"Array":l.isDate(a)?"Date":l.isString(a)?"String":l.isBoolean(a)?"Boolean":l.isNumber(a)?"Number":a instanceof r?"Dictionary":a instanceof f?"Feature":a instanceof m?"Point":
a instanceof y?"Polygon":a instanceof e?"Polyline":a instanceof w?"Multipoint":a instanceof B?"Extent":l.isFunctionParameter(a)?"Function":a===l.voidOperation?"":"number"===typeof a&&isNaN(a)?"Number":"Unrecognised Type"}function M(a,b,c,d){try{if(l.equalityTest(b[c],d))return b[c+1];var e=b.length-c;return 1===e?b[c]:2===e?null:3===e?b[c+2]:M(a,b,c+2,d)}catch(ia){throw ia;}}function la(a,b,c,d){try{if(!0===d)return b[c+1];if(3===b.length-c)return b[c+2];var e=b[c+2];if(!1===l.isBoolean(e))throw Error("WHEN needs boolean test conditions");
return la(a,b,c+2,e)}catch(ia){throw ia;}}function Y(a,b){var c=a.length,d=Math.floor(c/2);if(0===c)return[];if(1===c)return[a[0]];var e=Y(a.slice(0,d),b);a=Y(a.slice(d,c),b);for(c=[];0<e.length||0<a.length;)0<e.length&&0<a.length?(d=b(e[0],a[0]),isNaN(d)&&(d=0),0>=d?(c.push(e[0]),e=e.slice(1)):(c.push(a[0]),a=a.slice(1))):0<e.length?(c.push(e[0]),e=e.slice(1)):0<a.length&&(c.push(a[0]),a=a.slice(1));return c}function ma(a,b){b.symbols.symbolCounter++;return"_T"+b.symbols.symbolCounter.toString()}
function U(a){a.symbols.symbolCounter++;return"_Tvar"+a.symbols.symbolCounter.toString()}function H(a,b,c){var d={};a||(a={});c||(c={});d._SymbolsMap={};d.textformatting=1;d.infinity=1;d.pi=1;for(var e in b)d[e]=1;for(e in c)d[e]=1;for(e in a)d[e]=1;return d}function X(a){console.log(a)}Object.defineProperty(a,"__esModule",{value:!0});var J=0,Z={};g.registerFunctions(Z,x);t.registerFunctions(Z,x);v.registerFunctions(Z,x);h.registerFunctions(Z,x);z.registerFunctions(Z,x);d.registerFunctions(Z,x);Z["typeof"]=
function(a,b){return x(a,b,function(a,b,c){l.pcCheck(c,1,1);a=T(c[0]);if("Unrecognised Type"===a)throw Error("Unrecognised Type");return a})};Z.iif=function(a,b){try{return x(a,b,function(a,b,c){l.pcCheck(c,3,3);if(!1===l.isBoolean(c[0]))throw Error("IF Function must have a boolean test condition");return c[0]?c[1]:c[2]})}catch(pa){throw pa;}};Z.decode=function(a,b){try{return x(a,b,function(b,c,d){if(2>d.length)throw Error("Missing Parameters");if(2===d.length)return d[1];if(0===(d.length-1)%2)throw Error("Must have a default value result.");
return M(a,d,1,d[0])})}catch(pa){throw pa;}};Z.when=function(a,b){try{return x(a,b,function(b,c,d){if(3>d.length)throw Error("Missing Parameters");if(0===d.length%2)throw Error("Must have a default value result.");b=d[0];if(!1===l.isBoolean(b))throw Error("WHEN needs boolean test conditions");return la(a,d,0,b)})}catch(pa){throw pa;}};Z.top=function(a,b){return x(a,b,function(a,b,c){l.pcCheck(c,2,2);if(l.isArray(c[0]))return l.toNumber(c[1])>=c[0].length?c[0].slice(0):c[0].slice(0,l.toNumber(c[1]));
if(l.isImmutableArray(c[0]))return l.toNumber(c[1])>=c[0].length()?c[0].slice(0):c[0].slice(0,l.toNumber(c[1]));throw Error("Top cannot accept this parameter type");})};Z.first=function(a,b){return x(a,b,function(a,b,c){l.pcCheck(c,1,1);return l.isArray(c[0])?0===c[0].length?null:c[0][0]:l.isImmutableArray(c[0])?0===c[0].length()?null:c[0].get(0):null})};Z.sort=function(a,b){return x(a,b,function(a,b,c){l.pcCheck(c,1,2);b=c[0];l.isImmutableArray(b)&&(b=b.toArray());if(!1===l.isArray(b))throw Error("Illegal Argument");
if(1<c.length){if(!1===l.isFunctionParameter(c[1]))throw Error("Illegal Argument");b=Y(b,function(b,d){return Q.callfunc(c[1],[b,d],a)})}else{if(0===b.length)return[];for(var d={},e=0;e<b.length;e++){var f=T(b[e]);""!==f&&(d[f]=!0)}if(!0===d.Array||!0===d.Dictionary||!0===d.Feature||!0===d.Point||!0===d.Polygon||!0===d.Polyline||!0===d.Multipoint||!0===d.Extent||!0===d.Function)return b.slice(0);var e=0,f="",g;for(g in d)e++,f=g;b=1<e||"String"===f?Y(b,function(a,b){if(null===a||void 0===a||a===l.voidOperation)return null===
b||void 0===b||b===l.voidOperation?0:1;if(null===b||void 0===b||b===l.voidOperation)return-1;a=l.toString(a);b=l.toString(b);return a<b?-1:a===b?0:1}):"Number"===f?Y(b,function(a,b){return a-b}):"Boolean"===f?Y(b,function(a,b){return a===b?0:b?-1:1}):"Date"===f?Y(b,function(a,b){return b-a}):b.slice(0)}return b})};for(var W in Z)Z[W]=new l.NativeFunction(Z[W]);var ba=function(){};ba.prototype=Z;a.functionHelper={fixSpatialReference:l.fixSpatialReference,parseArguments:function(a,b){for(var c=[],d=
0;d<b.arguments.length;d++)c.push(F(a,b.arguments[d]));return c},standardFunction:x};a.extend=function(a){for(var b={mode:"sync",compiled:!0,functions:{},signatures:[],standardFunction:x},d=0;d<a.length;d++)a[d].registerFunctions(b);for(var e in b.functions)Z[e]=new l.NativeFunction(b.functions[e]),ba.prototype[e]=Z[e];for(d=0;d<b.signatures.length;d++)c.addFunctionDeclaration(b.signatures[d],"f")};a.executeScript=function(a,b,c){return a(b,c)};a.extractFieldLiterals=function(a,b){void 0===b&&(b=
!1);return c.findFieldLiterals(a,b)};a.validateScript=function(a,b){return c.validateScript(a,b,"simple")};a.referencesMember=function(a,b){return c.referencesMember(a,b)};a.referencesFunction=function(a,b){return c.referencesFunction(a,b)};var Q={error:function(a,b,d){throw Error(c.nodeErrorMessage(a,b,d));},functionDepthchecker:function(a,b){return function(){b.depthCounte++;if(64<b.depthCounter)throw Error("Exceeded maximum function depth");var c=a.apply(this,arguments);b.depthCounte--;return c}},
aCheck:function(a,b){if(l.isFunctionParameter(a))throw Error(c.nodeErrorMessage({type:b},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return a===l.voidOperation?null:a},Dictionary:r,Feature:f,dictionary:function(a){for(var b={},c=0;c<a.length;c+=2){if(l.isFunctionParameter(a[c+1]))throw Error("Illegal Argument");if(!1===l.isString(a[c]))throw Error("Illegal Argument");b[a[c].toString()]=a[c+1]===l.voidOperation?null:a[c+1]}a=new r(b);a.immutable=!1;return a},strCheck:function(a,b){if(!1===l.isString(a))throw Error("Illegal Argument");
return a},unary:function(a,b){if(l.isBoolean(a)){if("!"===b)return!a;if("-"===b)return-1*l.toNumber(a);if("+"===b)return 1*l.toNumber(a);throw Error(c.nodeErrorMessage({type:"UnaryExpression"},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===b)return-1*l.toNumber(a);if("+"===b)return 1*l.toNumber(a);throw Error(c.nodeErrorMessage({type:"UnaryExpression"},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck:function(a){if(!1===l.isBoolean(a))throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME",
"ONLYORORAND"));return a},logical:function(a,b,d){if(l.isBoolean(a)&&l.isBoolean(b))switch(d){case "||":return a||b;case "\x26\x26":return a&&b;default:throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));}else throw Error(c.nodeErrorMessage("LogicalExpression","RUNTIME","ONLYORORAND"));},binary:function(a,b,d){switch(d){case "\x3d\x3d":return l.equalityTest(a,b);case "\x3d":return l.equalityTest(a,b);case "!\x3d":return!l.equalityTest(a,b);case "\x3c":return l.greaterThanLessThan(a,
b,d);case "\x3e":return l.greaterThanLessThan(a,b,d);case "\x3c\x3d":return l.greaterThanLessThan(a,b,d);case "\x3e\x3d":return l.greaterThanLessThan(a,b,d);case "+":return l.isString(a)||l.isString(b)?l.toString(a)+l.toString(b):l.toNumber(a)+l.toNumber(b);case "-":return l.toNumber(a)-l.toNumber(b);case "*":return l.toNumber(a)*l.toNumber(b);case "/":return l.toNumber(a)/l.toNumber(b);case "%":return l.toNumber(a)%l.toNumber(b);default:throw Error(c.nodeErrorMessage({type:"BinaryExpression"},"RUNTIME",
"OPERATORNOTRECOGNISED"));}},assign:function(a,b,d){switch(b){case "\x3d":return a===l.voidOperation?null:a;case "/\x3d":return l.toNumber(d)/l.toNumber(a);case "*\x3d":return l.toNumber(d)*l.toNumber(a);case "-\x3d":return l.toNumber(d)-l.toNumber(a);case "+\x3d":return l.isString(d)||l.isString(a)?l.toString(d)+l.toString(a):l.toNumber(d)+l.toNumber(a);case "%\x3d":return l.toNumber(d)%l.toNumber(a);default:throw Error(c.nodeErrorMessage("AssignmentExpression","RUNTIME","OPERATORNOTRECOGNISED"));
}},update:function(a,b,c,d){var e=l.toNumber(a[b]);a[b]="++"===c?e+1:e-1;return!1===d?e:"++"===c?e+1:e-1},memberupdate:function(a,b,c,d){var e;if(l.isArray(a))if(l.isNumber(b)){0>b&&(b=a.length+b);if(0>b||b>=a.length)throw Error("Assignment outside of array bounds");e=l.toNumber(a[b]);a[b]="++"===c?e+1:e-1}else throw Error("Invalid Parameter");else if(a instanceof r){if(!1===l.isString(b))throw Error("Dictionary accessor must be a string");if(!0===a.hasField(b))e=l.toNumber(a.field(b)),a.setField(b,
"++"===c?e+1:e-1);else throw Error("Invalid Parameter");}else if(a instanceof f){if(!1===l.isString(b))throw Error("Feature accessor must be a string");if(!0===a.hasField(b))e=l.toNumber(a.field(b)),a.setField(b,"++"===c?e+1:e-1);else throw Error("Invalid Parameter");}else{if(l.isImmutableArray(a))throw Error("Array is Immutable");throw Error("Invalid Parameter");}return!1===d?e:"++"===c?e+1:e-1},assignmember:function(a,b,c,d){if(l.isArray(a))if(l.isNumber(b)){0>b&&(b=a.length+b);if(0>b||b>a.length)throw Error("Assignment outside of array bounds");
if(b===a.length&&"\x3d"!==c)throw Error("Invalid Parameter");a[b]=this.assign(d,c,a[b])}else throw Error("Invalid Parameter");else if(a instanceof r){if(!1===l.isString(b))throw Error("Dictionary accessor must be a string");if(!0===a.hasField(b))a.setField(b,this.assign(d,c,a.field(b)));else{if("\x3d"!==c)throw Error("Invalid Parameter");a.setField(b,this.assign(d,c,null))}}else if(a instanceof f){if(!1===l.isString(b))throw Error("Feature accessor must be a string");if(!0===a.hasField(b))a.setField(b,
this.assign(d,c,a.field(b)));else{if("\x3d"!==c)throw Error("Invalid Parameter");a.setField(b,this.assign(d,c,null))}}else{if(l.isImmutableArray(a))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member:function(a,b){if(null===a)throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","NOTFOUND"));if(a instanceof r||a instanceof f){if(l.isString(b))return a.field(b)}else if(a instanceof A){if(l.isString(b))return da(a,b,"MemberExpression")}else if(l.isArray(a)){if(l.isNumber(b)&&
isFinite(b)&&Math.floor(b)===b){0>b&&(b=a.length+b);if(b>=a.length||0>b)throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","OUTOFBOUNDS"));return a[b]}}else if(l.isString(a)){if(l.isNumber(b)&&isFinite(b)&&Math.floor(b)===b){0>b&&(b=a.length+b);if(b>=a.length||0>b)throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","OUTOFBOUNDS"));return a[b]}}else if(l.isImmutableArray(a)&&l.isNumber(b)&&isFinite(b)&&Math.floor(b)===b){0>b&&(b=a.length()+b);if(b>=a.length()||0>b)throw Error(c.nodeErrorMessage("MemberExpression",
"RUNTIME","OUTOFBOUNDS"));return a.get(b)}throw Error(c.nodeErrorMessage("MemberExpression","RUNTIME","INVALIDTYPE"));},callfunc:function(a,b,c){return a instanceof l.NativeFunction?a.fn(c,b):a instanceof l.SizzleFunction?a.fn.apply(this,b):a.apply(this,b)}};a.compileScript=function(a,b){void 0===b&&(b=null);null===b&&(b={vars:{},customfunctions:{}});b={globalScope:H(b.vars,Z,b.customfunctions),localScope:null,console:X,symbols:{symbolCounter:0}};a=F(b,a.body[0].body);""===a&&(a="lc.voidOperation;");
b={lc:l,lang:Q,postProcess:function(a){a instanceof l.ReturnResult&&(a=a.value);a instanceof l.ImplicitResult&&(a=a.value);a===l.voidOperation&&(a=null);if(a===l.breakResult)throw Error("Cannot return BREAK");if(a===l.continueResult)throw Error("Cannot return CONTINUE");if(l.isFunctionParameter(a))throw Error("Cannot return FUNCTION");return a},prepare:function(a,b){b||(b=new p({wkid:102100}));var c=a.vars,d=a.customfunctions,e=new ba;c||(c={});d||(d={});var g=new r({newline:"\n",tab:"\t",singlequote:"'",
doublequote:'"',forwardslash:"/",backwardslash:"\\"});g.immutable=!1;e._SymbolsMap={textformatting:1,infinity:1,pi:1};e.textformatting=g;e.infinity=Number.POSITIVE_INFINITY;e.pi=Math.PI;for(var h in d)e[h]=d[h],e._SymbolsMap[h]=1;for(h in c)e._SymbolsMap[h]=1,e[h]=c[h]&&"esri.Graphic"===c[h].declaredClass?f.createFromGraphic(c[h]):c[h];return{spatialReference:b,globalScope:e,localScope:null,console:a.console?a.console:X,symbols:{symbolCounter:0},depthCounter:1,applicationCache:void 0===a.applicationCache?
null:a.applicationCache}}};return(new Function("context","spatialReference","var runtimeCtx\x3dthis.prepare(context, spatialReference);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+a+"\n return lastStatement; } \n return this.postProcess(mainBody());")).bind(b)}})},"esri/arcade/Dictionary":function(){define(["require","exports","./ImmutableArray","./languageUtils","../geometry/Geometry"],
function(b,a,r,f,k){return function(){function a(b){this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=b instanceof a?b.attributes:void 0===b?{}:null===b?{}:b}a.prototype.field=function(a){var b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(var f in this.attributes)if(f.toLowerCase()===b)return this.attributes[f];throw Error("Field not Found");};a.prototype.setField=function(a,b){if(this.immutable)throw Error("Dictionary is Immutable");var c=a.toLowerCase();if(void 0===
this.attributes[a])for(var f in this.attributes)if(f.toLowerCase()===c){this.attributes[f]=b;return}this.attributes[a]=b};a.prototype.hasField=function(a){var b=a.toLowerCase();if(void 0!==this.attributes[a])return!0;for(var f in this.attributes)if(f.toLowerCase()===b)return!0;return!1};a.prototype.keys=function(){var a=[],b;for(b in this.attributes)a.push(b);return a=a.sort()};a.prototype.castToText=function(){var a="",b;for(b in this.attributes){""!==a&&(a+=",");var g=this.attributes[b];null==g?
a+=JSON.stringify(b)+":null":f.isBoolean(g)||f.isNumber(g)||f.isString(g)?a+=JSON.stringify(b)+":"+JSON.stringify(g):g instanceof k?a+=JSON.stringify(b)+":"+f.toStringExplicit(g):g instanceof r?a+=JSON.stringify(b)+":"+f.toStringExplicit(g):g instanceof Array?a+=JSON.stringify(b)+":"+f.toStringExplicit(g):g instanceof Date?a+=JSON.stringify(b)+":"+JSON.stringify(g):null!==g&&"object"===typeof g&&void 0!==g.castToText&&(a+=JSON.stringify(b)+":"+g.castToText())}return"{"+a+"}"};return a}()})},"esri/arcade/ImmutableArray":function(){define(["require",
"exports"],function(b,a){return function(){function a(a){void 0===a&&(a=[]);this._elements=a}a.prototype.length=function(){return this._elements.length};a.prototype.get=function(a){return this._elements[a]};a.prototype.toArray=function(){for(var a=[],b=0;b<this.length();b++)a.push(this.get(b));return a};return a}()})},"esri/arcade/languageUtils":function(){define("require exports dojo/number ../kernel ../moment ./FunctionWrapper ./ImmutableArray ./ImmutablePathArray ./ImmutablePointArray ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B){function A(a,b,c){if(""===b||null===b||void 0===b||b===c||b===c)return a;do a=a.replace(b,c);while(-1!==a.indexOf(b));return a}function w(a){return a instanceof ma||a instanceof n||a instanceof U}function m(a){return"string"===typeof a||a instanceof String}function y(a){return"boolean"===typeof a}function e(a){return"number"===typeof a}function p(a){return a instanceof Array}function x(a){return a instanceof Date}function F(a,b){if(!1===isNaN(a)){if(void 0===
b||null===b||""===b)return a.toString();b=A(b,"\u2030","");b=A(b,"\u00a4","");return r.format(a,{pattern:b})}return a.toString()}function G(a,b){a=k(a);return void 0===b||null===b||""===b?a.format():a.format(C(b))}function C(a){return a.replace(/(LTS)|L|l/g,function(a){return"["+a+"]"})}function O(a,b,c){switch(c){case "\x3e":return a>b;case "\x3c":return a<b;case "\x3e\x3d":return a>=b;case "\x3c\x3d":return a<=b}return!1}function E(b,d){if(b===d||null===b&&d===a.voidOperation||null===d&&b===a.voidOperation)return!0;
if(x(b)&&x(d))return b.getTime()===d.getTime();if(b instanceof c||b instanceof g)return b.equalityTest(d);if(b instanceof z&&d instanceof z){var e=void 0,f=void 0;a.isVersion4?(e=b.cache._arcadeCacheId,f=d.cache._arcadeCacheId):(e=b.getCacheValue("_arcadeCacheId"),f=d.getCacheValue("_arcadeCacheId"));if(void 0!==e&&null!==e)return e===f}return void 0!==b&&void 0!==d&&null!==b&&null!==d&&"object"===typeof b&&"object"===typeof d&&(b._arcadeCacheId===d._arcadeCacheId&&void 0!==b._arcadeCacheId&&null!==
b._arcadeCacheId||b._underlyingGraphic===d._underlyingGraphic&&void 0!==b._underlyingGraphic&&null!==b._underlyingGraphic)?!0:!1}function P(a,b){if(m(a))return a;if(null===a)return"";if(e(a))return F(a,b);if(y(a))return a.toString();if(x(a))return G(a,b);if(a instanceof d)return JSON.stringify(a.toJSON());if(p(a)){b=[];for(var c=0;c<a.length;c++)b[c]=ga(a[c]);return"["+b.join(",")+"]"}if(a instanceof l){b=[];for(c=0;c<a.length();c++)b[c]=ga(a.get(c));return"["+b.join(",")+"]"}return null!==a&&"object"===
typeof a&&void 0!==a.castToText?a.castToText():w(a)?"object, Function":""}function da(a,b){if(m(a))return a;if(null===a)return"";if(e(a))return F(a,b);if(y(a))return a.toString();if(x(a))return G(a,b);if(a instanceof d)return a instanceof h?'{"xmin":'+a.xmin.toString()+',"ymin":'+a.ymin.toString()+","+(a.hasZ?'"zmin":'+a.zmin.toString()+",":"")+(a.hasM?'"mmin":'+a.mmin.toString()+",":"")+'"xmax":'+a.xmax.toString()+',"ymax":'+a.ymax.toString()+","+(a.hasZ?'"zmax":'+a.zmax.toString()+",":"")+(a.hasM?
'"mmax":'+a.mmax.toString()+",":"")+'"spatialReference":'+la(a.spatialReference)+"}":la(a.toJSON(),function(a,b){return a.key===b.key?0:"spatialReference"===a.key?1:"spatialReference"===b.key||a.key<b.key?-1:a.key>b.key?1:0});if(p(a)){b=[];for(var c=0;c<a.length;c++)b[c]=ga(a[c]);return"["+b.join(",")+"]"}if(a instanceof l){b=[];for(c=0;c<a.length();c++)b[c]=ga(a.get(c));return"["+b.join(",")+"]"}return null!==a&&"object"===typeof a&&void 0!==a.castToText?a.castToText():w(a)?"object, Function":""}
function ga(a){if(null!==a){if(y(a)||e(a)||m(a))return JSON.stringify(a);if(a instanceof d||a instanceof l||a instanceof Array)return da(a);if(a instanceof Date)return JSON.stringify(G(a,""));if(null!==a&&"object"===typeof a&&void 0!==a.castToText)return a.castToText()}return"null"}function T(b,c){return e(b)?b:null===b||""===b?0:x(b)?NaN:y(b)?b?1:0:p(b)||""===b||void 0===b?NaN:void 0!==c&&m(b)?(c=A(c,"\u2030",""),c=A(c,"\u00a4",""),r.parse(b,{pattern:c})):b===a.voidOperation?0:Number(b)}function M(a,
b){var c;b.fields.some(function(b){b.name===a&&(c=b.domain);return!!c});return c}function la(a,b){b||(b={});"function"===typeof b&&(b={cmp:b});var c="boolean"===typeof b.cycles?b.cycles:!1,d=b.cmp&&function(a){return function(b){return function(c,d){return a({key:c,value:b[c]},{key:d,value:b[d]})}}}(b.cmp),e=[];return function Q(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());if(void 0!==a){if("number"===typeof a)return isFinite(a)?""+a:"null";if("object"!==typeof a)return JSON.stringify(a);
var b,f;if(Array.isArray(a)){f="[";for(b=0;b<a.length;b++)b&&(f+=","),f+=Q(a[b])||"null";return f+"]"}if(null===a)return"null";if(-1!==e.indexOf(a)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var g=e.push(a)-1,h=Object.keys(a).sort(d&&d(a));f="";for(b=0;b<h.length;b++){var m=h[b],k=Q(a[m]);k&&(f&&(f+=","),f+=JSON.stringify(m)+":"+k)}e.splice(g,1);return"{"+f+"}"}}(a)}Object.defineProperty(a,"__esModule",{value:!0});b=function(){return function(a){this.value=
a}}();var Y=function(){return function(a){this.value=a}}(),ma=function(){return function(a){this.fn=a}}(),U=function(){return function(a){this.fn=a}}();a.NativeFunction=ma;a.ImplicitResult=Y;a.ReturnResult=b;a.SizzleFunction=U;a.isVersion4=0===f.version.indexOf("4.");a.voidOperation={type:"VOID"};a.breakResult={type:"BREAK"};a.continueResult={type:"CONTINUE"};a.multiReplace=A;a.isFunctionParameter=w;a.isSimpleType=function(b){return m(b)||e(b)||x(b)||y(b)||null===b||b===a.voidOperation||"number"===
typeof b?!0:!1};a.defaultUndefined=function(a,b){return void 0===a?b:a};a.isString=m;a.isBoolean=y;a.isNumber=e;a.isArray=p;a.isFeatureCursor=function(a){return a&&void 0!==a.isFeatureCursor};a.isImmutableArray=function(a){return a instanceof l};a.isDate=x;a.pcCheck=function(a,b,c){if(a.length<b||a.length>c)throw Error("Function called with wrong number of Parameters");};a.generateUUID=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=
(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?c:c&3|8).toString(16)})};a.formatNumber=F;a.formatDate=G;a.standardiseDateFormat=C;a.greaterThanLessThan=function(b,c,d){if(null===b){if(null===c||c===a.voidOperation)return O(null,null,d);if(e(c))return O(0,c,d);if(m(c)||y(c))return O(0,T(c),d);if(x(c))return O(0,c.getTime(),d)}if(b===a.voidOperation){if(null===c||c===a.voidOperation)return O(null,null,d);if(e(c))return O(0,c,d);if(m(c)||y(c))return O(0,T(c),d);if(x(c))return O(0,c.getTime(),
d)}else if(e(b)){if(e(c))return O(b,c,d);if(y(c))return O(b,T(c),d);if(null===c||c===a.voidOperation)return O(b,0,d);if(m(c))return O(b,T(c),d);if(x(c))return O(b,c.getTime(),d)}else if(m(b)){if(m(c))return O(P(b),P(c),d);if(x(c))return O(T(b),c.getTime(),d);if(e(c))return O(T(b),c,d);if(null===c||c===a.voidOperation)return O(T(b),0,d);if(y(c))return O(T(b),T(c),d)}else if(x(b)){if(x(c))return O(b,c,d);if(null===c||c===a.voidOperation)return O(b.getTime(),0,d);if(e(c))return O(b.getTime(),c,d);if(y(c)||
m(c))return O(b.getTime(),T(c),d)}else if(y(b)){if(y(c))return O(b,c,d);if(e(c))return O(T(b),T(c),d);if(x(c))return O(T(b),c.getTime(),d);if(null===c||c===a.voidOperation)return O(T(b),0,d);if(m(c))return O(T(b),T(c),d)}return!E(b,c)||"\x3c\x3d"!==d&&"\x3e\x3d"!==d?!1:!0};a.equalityTest=E;a.toString=P;a.toNumberArray=function(a){var b=[];if(!1===p(a))return null;if(a instanceof l){for(var c=0;c<a.length();c++)b[c]=T(a.get(c));return b}for(c=0;c<a.length;c++)b[c]=T(a[c]);return b};a.toStringExplicit=
da;a.toNumber=T;a.toDate=function(a,b){return x(a)?a:m(a)&&(a=k(a,[void 0===b||null===b||""===b?k.ISO_8601:b]),a.isValid())?a.toDate():null};a.toDateM=function(a,b){return x(a)?k(a):m(a)&&(a=k(a,[void 0===b||null===b||""===b?k.ISO_8601:b]),a.isValid())?a:null};a.toBoolean=function(a){if(y(a))return a;if(m(a)){if(a=a.toLowerCase(),"true"===a)return!0}else if(e(a))return 0===a||isNaN(a)?!1:!0;return!1};a.fixSpatialReference=function(a,b){if(null===a||void 0===a)return null;if(null===a.spatialReference||
void 0===a.spatialReference)a.spatialReference=b;return a};a.fixNullGeometry=function(a){return null===a?null:a instanceof z?"NaN"===a.x||null===a.x||isNaN(a.x)?null:a:a instanceof t?0===a.rings.length?null:a:a instanceof B?0===a.paths.length?null:a:a instanceof v?0===a.points.length?null:a:a instanceof h?"NaN"===a.xmin||null===a.xmin||isNaN(a.xmin)?null:a:null};a.getDomainValue=function(a,b){if(!a||!a.domain)return null;var c=null;b="string"===a.field.type||"esriFieldTypeString"===a.field.type?P(b):
T(b);for(var d=0;d<a.domain.codedValues.length;d++){var e=a.domain.codedValues[d];e.code===b&&(c=e)}return null===c?null:c.name};a.getDomainCode=function(a,b){if(!a||!a.domain)return null;var c=null;b=P(b);for(var d=0;d<a.domain.codedValues.length;d++){var e=a.domain.codedValues[d];e.name===b&&(c=e)}return null===c?null:c.code};a.getDomain=function(a,b,c,d){void 0===c&&(c=null);if(!b||!b.fields)return null;for(var e=null,f=0;f<b.fields.length;f++){var g=b.fields[f];g.name.toLowerCase()===a.toString().toLowerCase()&&
(e=g)}if(null===e)return null;var h,m;d||(d=c&&b.typeIdField&&c._field(b.typeIdField));null!=d&&b.types.some(function(a){return a.id===d?((h=a.domains&&a.domains[e.name])&&"inherited"===h.type&&(h=M(e.name,b),m=!0),!0):!1});m||h||(h=M(a,b));return{field:e,domain:h}};a.stableStringify=la;a.autoCastFeatureToGeometry=function(a){if(null===a)return null;for(var b=[],c=0;c<a.length;c++){var d=a[c];d&&d.declaredClass&&"esri.arcade.Feature"===d.declaredClass?b.push(d.geometry()):b.push(d)}return b}})},"esri/arcade/FunctionWrapper":function(){define(["require",
"exports"],function(b,a){return function(){return function(a,b){this.context=this.definition=null;this.definition=a;this.context=b}}()})},"esri/arcade/ImmutablePathArray":function(){define(["require","exports","../core/tsSupport/extendsHelper","./ImmutableArray","./ImmutablePointArray"],function(b,a,r,f,k){return function(a){function b(b,f,h,d,k){b=a.call(this,b)||this;b._lazyPath=[];b._hasZ=!1;b._hasM=!1;b._hasZ=h;b._hasM=d;b._spRef=f;b._cacheId=k;return b}r(b,a);b.prototype.get=function(a){if(void 0===
this._lazyPath[a]){var b=this._elements[a];if(void 0===b)return;this._lazyPath[a]=new k(b,this._spRef,this._hasZ,this._hasM,this._cacheId,a)}return this._lazyPath[a]};b.prototype.equalityTest=function(a){return a===this?!0:null===a||!1===a instanceof b?!1:a.getUniqueHash()===this.getUniqueHash()};b.prototype.getUniqueHash=function(){return this._cacheId.toString()};return b}(f)})},"esri/arcade/ImmutablePointArray":function(){define("require exports ../core/tsSupport/extendsHelper ../kernel ./ImmutableArray ../geometry/Point".split(" "),
function(b,a,r,f,k,n){var l=0===f.version.indexOf("4.");return function(a){function b(b,c,f,g,k,l){b=a.call(this,b)||this;b._lazyPt=[];b._hasZ=!1;b._hasM=!1;b._spRef=c;b._hasZ=f;b._hasM=g;b._cacheId=k;b._partId=l;return b}r(b,a);b.prototype.get=function(a){if(void 0===this._lazyPt[a]){var b=this._elements[a];if(void 0===b)return;var c=this._hasZ,f=this._hasM,g=null,g=c&&!f?new n(b[0],b[1],b[2],void 0,this._spRef):f&&c?new n(b[0],b[1],void 0,b[2],this._spRef):c&&f?new n(b[0],b[1],b[2],b[3],this._spRef):
new n(b[0],b[1],this._spRef);l?g.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+a.toString():g.setCacheValue("_arcadeCacheId",this._cacheId.toString()+"-"+this._partId.toString()+"-"+a.toString());this._lazyPt[a]=g}return this._lazyPt[a]};b.prototype.equalityTest=function(a){return a===this?!0:null===a||!1===a instanceof b?!1:a.getUniqueHash()===this.getUniqueHash()};b.prototype.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};return b}(k)})},
"esri/arcade/Feature":function(){define("require exports ../core/tsSupport/assignHelper ./Dictionary ./ImmutableArray ./languageUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils".split(" "),function(b,a,r,f,k,n,l,c,g){return function(){function a(){this.declaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=null;this.immutable=this.immutable=this._datesfixed=!0}a.createFromGraphic=function(b){var c=new a;c._geometry=b.geometry;c.attributes=void 0===
b.attributes?{}:null===b.attributes?{}:b.attributes;b._sourceLayer?(c._layer=b._sourceLayer,c._datesfixed=!1):b._layer?(c._layer=b._layer,c._datesfixed=!1):b.layer&&(c._layer=b.layer,c._datesfixed=!1);return c};a.createFromArcadeFeature=function(b){var c=new a;c._datesfixed=b._datesfixed;c.attributes=b.attributes;c._geometry=b._geometry;b._layer&&(c._layer=b._layer);return c};a.createFromArcadeDictionary=function(b){var c=new a;c.attributes=b.field("attributes");null!==c.attributes?c.attributes instanceof
f?(c.attributes=c.attributes.attributes,null===c.attributes&&(c.attributes={})):c.attributes={}:c.attributes={};c._geometry=b.field("geometry");null!==c._geometry&&(c._geometry instanceof f?c._geometry=a.parseGeometryFromDictionary(c._geometry):c._geometry instanceof l||(c._geometry=null));return c};a.createFromGraphicLikeObject=function(b,c,f){void 0===f&&(f=null);var d=new a;null===c&&(c={});d.attributes=c;d._geometry=b;d._layer=f;d._layer&&(d._datesfixed=!1);return d};a.prototype.repurposeFromGraphicLikeObject=
function(a,b,c){void 0===c&&(c=null);null===b&&(b={});this.attributes=b;this._geometry=a;this._datesfixed=(this._layer=c)?!1:!0};a.prototype.castToText=function(){var a="",b;for(b in this.attributes){""!==a&&(a+=",");var c=this.attributes[b];null==c?a+=JSON.stringify(b)+":null":n.isBoolean(c)||n.isNumber(c)||n.isString(c)?a+=JSON.stringify(b)+":"+JSON.stringify(c):c instanceof l?a+=JSON.stringify(b)+":"+n.toStringExplicit(c):c instanceof k?a+=JSON.stringify(b)+":"+n.toStringExplicit(c):c instanceof
Array?a+=JSON.stringify(b)+":"+n.toStringExplicit(c):c instanceof Date?a+=JSON.stringify(b)+":"+JSON.stringify(c):null!==c&&"object"===typeof c&&void 0!==c.castToText&&(a+=JSON.stringify(b)+":"+c.castToText())}return'{"geometry":'+(null===this.geometry()?"null":n.toStringExplicit(this.geometry()))+',"attributes":{'+a+"}}"};a.prototype._fixDates=function(){for(var a=[],b=0;b<this._layer.fields.length;b++){var c=this._layer.fields[b];"date"!==c.type&&"esriFieldTypeDate"!==c.type||a.push(c.name)}0<a.length&&
this._fixDateFields(a);this._datesfixed=!0};a.prototype._fixDateFields=function(a){this.attributes=r({},this.attributes);for(var b=0;b<a.length;b++){var c=this.attributes[a[b]];if(null!==c)if(void 0===c)for(var d in this.attributes){if(d.toLowerCase()===a[b]){c=this.attributes[d];null===c||c instanceof Date||(this.attributes[d]=new Date(c));break}}else c instanceof Date||(this.attributes[a[b]]=new Date(c))}};a.prototype.geometry=function(){return null===this._geometry||this._geometry instanceof l?
this._geometry:this._geometry=g.fromJSON(this._geometry)};a.prototype.field=function(a){!1===this._datesfixed&&this._fixDates();var b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(var c in this.attributes)if(c.toLowerCase()===b)return this.attributes[c];if(this._hasFieldDefinition(b))return null;throw Error("Field not Found");};a.prototype._hasFieldDefinition=function(a){if(null===this._layer)return!1;for(var b=0;b<this._layer.fields.length;b++)if(this._layer.fields[b].name.toLowerCase()===
a)return!0;return!1};a.prototype._field=function(a){!1===this._datesfixed&&this._fixDates();var b=a.toLowerCase();a=this.attributes[a];if(void 0!==a)return a;for(var c in this.attributes)if(c.toLowerCase()===b)return this.attributes[c];return null};a.prototype.setField=function(a,b){if(this.immutable)throw Error("Feature is Immutable");if(!1===n.isSimpleType(b))throw Error("Illegal Value Assignment to Feature");var c=a.toLowerCase();if(void 0===this.attributes[a])for(var d in this.attributes)if(d.toLowerCase()===
c){this.attributes[d]=b;return}this.attributes[a]=b};a.prototype.hasField=function(a){var b=a.toLowerCase();if(void 0!==this.attributes[a])return!0;for(var c in this.attributes)if(c.toLowerCase()===b)return!0;return this._hasFieldDefinition(b)?!0:!1};a.prototype.keys=function(){var a=[],b={},c;for(c in this.attributes)a.push(c),b[c.toLowerCase()]=1;if(null!==this._layer)for(c=0;c<this._layer.fields.length;c++){var f=this._layer.fields[c];1!==b[f.name.toLowerCase()]&&a.push(f.name)}return a=a.sort()};
a.parseGeometryFromDictionary=function(b){b=a.convertDictionaryToJson(b,!0);void 0!==b.spatialreference&&(b.spatialReference=b.spatialreference,delete b.spatialreference);void 0!==b.rings&&(b.rings=this.fixPathArrays(b.rings,!0===b.hasZ,!0===b.hasM));void 0!==b.paths&&(b.paths=this.fixPathArrays(b.paths,!0===b.hasZ,!0===b.hasM));void 0!==b.points&&(b.points=this.fixPointArrays(b.points,!0===b.hasZ,!0===b.hasM));return g.fromJSON(b)};a.fixPathArrays=function(a,b,c){var d=[];if(a instanceof Array)for(var f=
0;f<a.length;f++)d.push(this.fixPointArrays(a[f],b,c));else if(a instanceof k)for(f=0;f<a.length();f++)d.push(this.fixPointArrays(a.get(f),b,c));return d};a.fixPointArrays=function(a,b,f){var d=[];if(a instanceof Array)for(var g=0;g<a.length;g++){var h=a[g];h instanceof c?b&&f?d.push([h.x,h.y,h.z,h.m]):b?d.push([h.x,h.y,h.z]):f?d.push([h.x,h.y,h.m]):d.push([h.x,h.y]):d.push(h)}else if(a instanceof k)for(g=0;g<a.length();g++)h=a.get(g),h instanceof c?b&&f?d.push([h.x,h.y,h.z,h.m]):b?d.push([h.x,h.y,
h.z]):f?d.push([h.x,h.y,h.m]):d.push([h.x,h.y]):d.push(h);return d};a.convertDictionaryToJson=function(b,c){void 0===c&&(c=!1);var d={},g;for(g in b.attributes){var h=b.attributes[g];h instanceof f&&(h=a.convertDictionaryToJson(h));c?d[g.toLowerCase()]=h:d[g]=h}return d};a.parseAttributesFromDictionary=function(a){var b={},c;for(c in a.attributes){var d=a.attributes[c];if(n.isSimpleType(d))b[c]=d;else throw Error("Illegal Argument");}return b};a.fromJson=function(b){var c=null;null!==b.geometry&&
void 0!==b.geometry&&(c=g.fromJSON(b.geometry));var d={};if(null!==b.attributes&&void 0!==b.attributes)for(var f in b.attributes){var h=b.attributes[f];if(n.isString(h)||n.isNumber(h)||n.isBoolean(h)||n.isDate(h))d[f]=h;else throw Error("Illegal Argument");}return a.createFromGraphicLikeObject(c,d,null)};a.prototype.domainValueLookup=function(a,b,c){if(null===this._layer||!this._layer.fields)return null;c=n.getDomain(a,this._layer,this,c);if(void 0===b)try{b=this.field(a)}catch(t){return null}return n.getDomainValue(c,
b)};a.prototype.domainCodeLookup=function(a,b,c){if(null===this._layer||!this._layer.fields)return null;a=n.getDomain(a,this._layer,this,c);return n.getDomainCode(a,b)};return a}()})},"esri/arcade/treeAnalysis":function(){define(["require","exports"],function(b,a){function r(a,b,c,d){return"0"!==a.min&&c.length<Number(a.min)||"*"!==a.max&&c.length>Number(a.max)?-2:1}function f(a,b,c){if(null!==c.localScope&&void 0!==c.localScope[a.toLowerCase()]){var d=c.localScope[a.toLowerCase()];if("FormulaFunction"===
d.type||"any"===d.type)return void 0===d.signature&&(d.signature={min:"0",max:"*"}),r(d.signature,a,b,c)}return void 0!==c.globalScope[a.toLowerCase()]&&(d=c.globalScope[a.toLowerCase()],"FormulaFunction"===d.type||"any"===d.type)?(void 0===d.signature&&(d.signature={min:"0",max:"*"}),r(d.signature,a,b,c)):-1}function k(a,b){void 0===b&&(b=!0);var c=z(a,"SYNTAX","UNREOGNISED");try{switch(a.type){case "VariableDeclarator":return null!==a.init&&"FunctionExpression"===a.init.type?z(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"):
"Identifier"!==a.id.type?z(a,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):null!==a.init?k(a.init,!1):"";case "VariableDeclaration":for(var d=0;d<a.declarations.length;d++)if(c=k(a.declarations[d],b),""!==c)return c;return"";case "ForInStatement":c=k(a.left,b);if(""!==c)break;if("VariableDeclaration"===a.left.type){if(1<a.left.declarations.length)return z(a,"SYNTAX","ONLY1VAR");if(null!==a.left.declarations[0].init)return z(a,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==a.left.type)return z(a,"SYNTAX",
"LEFTNOTVAR");c=k(a.right,b);if(""!==c)break;c=k(a.body,b);if(""!==c)break;return"";case "ForStatement":if(null!==a.test&&(c=k(a.test,b),""!==c))break;if(null!==a.init&&(c=k(a.init,b),""!==c))break;if(null!==a.update&&(c=k(a.update,b),""!==c))break;if(null!==a.body&&(c=k(a.body,b),""!==c))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":c=k(a.test,b);if(""!==c)break;if(null!==a.consequent&&(c=k(a.consequent,!1),""!==
c))break;if(null!==a.alternate&&(c=k(a.alternate,!1),""!==c))break;return"";case "BlockStatement":for(var f=[],d=0;d<a.body.length;d++)"EmptyStatement"!==a.body[d].type&&f.push(a.body[d]);a.body=f;for(d=0;d<a.body.length;d++)if(c=k(a.body[d],b),""!==c)return c;return"";case "FunctionDeclaration":return!1===b?z(a,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==a.id.type?z(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):k(a.body,!1);case "ReturnStatement":return null!==a.argument?k(a.argument,b):"";case "UpdateExpression":return"Identifier"!==
a.argument.type&&"MemberExpression"!==a.argument.type?z(a,"SYNTAX","ASSIGNMENTTOVARSONLY"):k(a.argument,b);case "AssignmentExpression":if("Identifier"!==a.left.type&&"MemberExpression"!==a.left.type)return z(a,"SYNTAX","ASSIGNMENTTOVARSONLY");c=k(a.left,b);if(""!==c)break;switch(a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return z(a,"SYNTAX","OPERATORNOTRECOGNISED")}return k(a.right,!1);case "ExpressionStatement":return k(a.expression,!1);
case "Identifier":c="";break;case "MemberExpression":c=k(a.object,b);if(""!==c)break;return!0===a.computed?k(a.property,b):"";case "Literal":return"";case "ThisExpression":return z(a,"SYNTAX","NOTSUPPORTED");case "CallExpression":if("Identifier"!==a.callee.type)return z(a,"SYNTAX","ONLYNODESSUPPORTED");c="";for(d=0;d<a.arguments.length;d++)if(c=k(a.arguments[d],b),""!==c)return c;return"";case "UnaryExpression":c=k(a.argument,b);break;case "BinaryExpression":c=k(a.left,b);if(""!==c)break;c=k(a.right,
b);if(""!==c)break;switch(a.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:return z(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":c=k(a.left,b);if(""!==c)break;c=k(a.right);if(""!==c)break;switch(a.operator){case "\x26\x26":case "||":break;default:return z(a,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ConditionalExpression":return z(a,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c=
"";for(d=0;d<a.elements.length&&(c=k(a.elements[d],b),""===c);d++);break;case "Array":return z(a,"SYNTAX","NOTSUPPORTED");case "ObjectExpression":c="";for(d=0;d<a.properties.length&&(c="",null!==a.properties[d].key&&("Literal"!==a.properties[d].key.type&&"Identifier"!==a.properties[d].key.type&&(c=z(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===a.properties[d].key.type&&(f=a.properties[d].key.value,"string"===typeof f||f instanceof String||(c=z(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")))),
""===c&&(c=k(a.properties[d],b)),""===c);d++);break;case "Property":if("Literal"!==a.key.type&&"Identifier"!==a.key.type)return z(a,"SYNTAX","ONLYLITERAL");if("Identifier"!==a.key.type&&(c=k(a.key,b),""!==c))break;c=k(a.value,b)}return c}catch(F){throw F;}}function n(a,b){var c=z(a,"SYNTAX","UNREOGNISED"),g=null,m="";try{switch(a.type){case "VariableDeclarator":if(null!==a.init&&"FunctionExpression"===a.init.type)return z(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR");a.id.name.toLowerCase();var k=null===
a.init?"":n(a.init,b);if(""!==k)return k;null===b.localScope?b.globalScope[a.id.name.toLowerCase()]={type:"any"}:b.localScope[a.id.name.toLowerCase()]={type:"any"};return"";case "FunctionDeclaration":g=h(a.id.name.toLowerCase(),a,b);m=d(a,b);if(""!==m)return m;if(null!==b.localScope)return z(a,"SYNTAX","GLOBALFUNCTIONSONLY");g.isnative=!1;b.globalScope[a.id.name.toLowerCase()]={type:"FormulaFunction",signature:[g]};return"";case "VariableDeclaration":for(var c="",l=0;l<a.declarations.length&&(c=n(a.declarations[l],
b),""===c);l++);break;case "IfStatement":c=n(a.test,b);if(""!==c)break;if("AssignmentExpression"===a.test.type||"UpdateExpression"===a.test.type)return z(a.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");if(null!==a.consequent&&(c=n(a.consequent,b),""!==c))break;if(null!==a.alternate&&(c=n(a.alternate,b),""!==c))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(l=0;l<a.body.length;l++)if(c=n(a.body[l],b),""!==c)return c;return"";case "ReturnStatement":return null!==a.argument?
n(a.argument,b):"";case "ForInStatement":if("VariableDeclaration"===a.left.type){if(1<a.left.declarations.length)return z(a,"SYNTAX","ONLY1VAR");if(null!==a.left.declarations[0].init)return z(a,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==a.left.type)return z(a,"SYNTAX","LEFTNOTVAR");c=n(a.left,b);if(""!==c)break;c=n(a.right,b);if(""!==c)break;c=n(a.body,b);if(""!==c)break;return"";case "ForStatement":if(null!==a.init&&(c=n(a.init,b),""!==c))break;if(null!==a.test&&(c=n(a.test,b),""!==c))break;
if(null!==a.body&&(c=n(a.body,b),""!==c))break;if(null!==a.update&&(c=n(a.update,b),""!==c))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type)return z(a,"SYNTAX","ASSIGNMENTTOVARSONLY");var y=!1;if("MemberExpression"===a.argument.type)return n(a.argument,b);null!==b.localScope&&void 0!==b.localScope[a.argument.name.toLowerCase()]&&(y=!0);void 0!==b.globalScope[a.argument.name.toLowerCase()]&&
(y=!0);return!1===y?"Identifier "+a.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==a.left.type&&"MemberExpression"!==a.left.type)return z(a,"SYNTAX","ASSIGNMENTTOVARSONLY");var v=n(a.right,b);if(""!==v)return v;y=!1;if("MemberExpression"===a.left.type)return v=n(a.left,b),""!==v?v:"";null!==b.localScope&&void 0!==b.localScope[a.left.name.toLowerCase()]&&(y=!0);void 0!==b.globalScope[a.left.name.toLowerCase()]&&(y=!0);return!1===y?"Identifier "+a.left.name+
" has not been declared.":"";case "ExpressionStatement":return n(a.expression,b);case "Identifier":var t=a.name.toLowerCase();if(null!==b.localScope&&void 0!==b.localScope[t])return"";c=void 0!==b.globalScope[t]?"":z(a,"SYNTAX","VARIABLENOTFOUND");break;case "MemberExpression":c=n(a.object,b);if(""!==c)break;return!0===a.computed?n(a.property,b):"";case "Literal":return"";case "ThisExpression":c=z(a,"SYNTAX","NOTSUPPORTED");break;case "CallExpression":if("Identifier"!==a.callee.type)return z(a,"SYNTAX",
"ONLYNODESSUPPORTED");c="";for(l=0;l<a.arguments.length;l++)if(c=n(a.arguments[l],b),""!==c)return c;var r=f(a.callee.name,a.arguments,b);-1===r&&(c=z(a,"SYNTAX","NOTFOUND"));-2===r&&(c=z(a,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":c=n(a.argument,b);break;case "BinaryExpression":c=n(a.left,b);if(""!==c)break;c=n(a.right,b);if(""!==c)break;return"";case "LogicalExpression":c=n(a.left,b);if(""!==c)break;if("AssignmentExpression"===a.left.type||"UpdateExpression"===a.left.type)return z(a.left,
"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");c=n(a.right,b);if(""!==c)break;return"AssignmentExpression"===a.right.type||"UpdateExpression"===a.right.type?z(a.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ConditionalExpression":return z(a,"SYNTAX","NOTSUPPORTED");case "ArrayExpression":c="";for(l=0;l<a.elements.length&&(c=n(a.elements[l],b),""===c);l++);break;case "ObjectExpression":c="";for(l=0;l<a.properties.length;l++){c="";if(null!==a.properties[l].key&&("Literal"!==a.properties[l].key.type&&
"Identifier"!==a.properties[l].key.type&&(c=z(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===a.properties[l].key.type)){var w=a.properties[l].key.value;"string"===typeof w||w instanceof String||(c=z(a,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===c&&(c=n(a.properties[l],b));if(""!==c)break}break;case "Property":if("Literal"!==a.key.type&&"Identifier"!==a.key.type)return z(a,"SYNTAX","ONLYLITERAL");if("Identifier"!==a.key.type&&(c=n(a.key,b),""!==c))break;c=n(a.value,b);break;case "Array":return z(a,
"SYNTAX","NOTSUPPORTED")}return c}catch(ga){throw ga;}}function l(a,b){var c=!1;try{switch(a.type){case "VariableDeclarator":return null!==a.init?l(a.init,b):c;case "FunctionDeclaration":return l(a.body,b);case "VariableDeclaration":for(var d=0;d<a.declarations.length;d++)if(l(a.declarations[d],b))return!0;return c;case "IfStatement":return l(a.test,b)||null!==a.consequent&&l(a.consequent,b)||null!==a.alternate&&l(a.alternate,b)?!0:c;case "EmptyStatement":return c;case "BlockStatement":for(d=0;d<
a.body.length;d++)if(l(a.body[d],b))return!0;return c;case "ReturnStatement":return null!==a.argument?l(a.argument,b):c;case "UpdateExpression":return l(a.argument,b);case "AssignmentExpression":return(c=l(a.right,b))?c:l(a.left,b);case "ExpressionStatement":return l(a.expression,b);case "ForInStatement":return(c=l(a.left,b))||(c=l(a.right,b))?c:c=l(a.body,b);case "ForStatement":if(null!==a.init&&(c=l(a.init,b))||null!==a.test&&(c=l(a.test,b))||null!==a.body&&(c=l(a.body,b)))return c;null!==a.update&&
(c=l(a.update,b));return c;case "BreakStatement":return c;case "ContinueStatement":return c;case "Compound":return c;case "Identifier":return b.toLowerCase()===a.name.toLowerCase();case "MemberExpression":if(c=l(a.object,b))return c;!0===a.computed&&(c=l(a.property,b));return c;case "Literal":return c;case "ThisExpression":return c;case "CallExpression":for(d=0;d<a.arguments.length;d++)l(a.arguments[d],b)&&(c=!0);return c;case "ArrayExpression":for(d=0;d<a.elements.length;d++)l(a.elements[d],b)&&
(c=!0);return c;case "UnaryExpression":return l(a.argument,b);case "BinaryExpression":return(c=l(a.left,b))?c:c=l(a.right,b);case "LogicalExpression":return(c=l(a.left,b))?c:c=l(a.right,b);case "ObjectExpression":for(d=0;d<a.properties.length;d++)l(a.properties[d],b)&&(c=!0);return c;case "Property":return c=l(a.value,b);case "ConditionalExpression":return c;case "Array":return c;default:return c}}catch(x){throw x;}}function c(a,b){var d=!1;try{switch(a.type){case "VariableDeclarator":return null!==
a.init?c(a.init,b):d;case "FunctionDeclaration":return c(a.body,b);case "VariableDeclaration":for(var f=0;f<a.declarations.length;f++)if(c(a.declarations[f],b))return!0;return d;case "IfStatement":return c(a.test,b)||null!==a.consequent&&c(a.consequent,b)||null!==a.alternate&&c(a.alternate,b)?!0:d;case "EmptyStatement":return d;case "BlockStatement":for(f=0;f<a.body.length;f++)if(c(a.body[f],b))return!0;return d;case "ReturnStatement":return null!==a.argument?c(a.argument,b):d;case "UpdateExpression":return c(a.argument,
b);case "AssignmentExpression":return c(a.left,b)?!0:c(a.right,b);case "ExpressionStatement":return c(a.expression,b);case "ForInStatement":return(d=c(a.left,b))||(d=c(a.right,b))?d:d=c(a.body,b);case "ForStatement":if(null!==a.init&&(d=c(a.init,b))||null!==a.test&&(d=c(a.test,b))||null!==a.body&&(d=c(a.body,b)))return d;null!==a.update&&(d=c(a.update,b));return d;case "BreakStatement":return d;case "ContinueStatement":return d;case "Compound":return d;case "Identifier":return d;case "MemberExpression":if(d=
c(a.object,b))return d;!0===a.computed&&(d=c(a.property,b));return d;case "Literal":return d;case "ThisExpression":return d;case "CallExpression":if(a.callee.name.toLowerCase()===b.toLowerCase())return!0;for(f=0;f<a.arguments.length;f++)c(a.arguments[f],b)&&(d=!0);return d;case "ArrayExpression":for(f=0;f<a.elements.length;f++)c(a.elements[f],b)&&(d=!0);return d;case "UnaryExpression":return c(a.argument,b);case "BinaryExpression":return(d=c(a.left,b))?d:d=c(a.right,b);case "LogicalExpression":return(d=
c(a.left,b))?d:d=c(a.right,b);case "ConditionalExpression":return d;case "ObjectExpression":for(f=0;f<a.properties.length;f++)c(a.properties[f],b)&&(d=!0);return d;case "Property":return d=c(a.value,b);case "Array":return d;default:return d}}catch(x){throw x;}}function g(a,b){var c=[],d;try{switch(a.type){case "VariableDeclarator":return null!==a.init?g(a.init,b):c;case "FunctionDeclaration":return g(a.body,b);case "VariableDeclaration":for(var f=0;f<a.declarations.length;f++)d=g(a.declarations[f],
b),c=c.concat(d);return c;case "ForInStatement":return d=g(a.left,b),c=c.concat(d),d=g(a.right,b),c=c.concat(d),d=g(a.body,b),c=c.concat(d);case "ForStatement":return null!==a.init&&(d=g(a.init,b),c=c.concat(d)),null!==a.test&&(d=g(a.test,b),c=c.concat(d)),null!==a.body&&(d=g(a.body,b),c=c.concat(d)),null!==a.update&&(d=g(a.update,b),c=c.concat(d)),c;case "IfStatement":return d=g(a.test,b),c=c.concat(d),null!==a.consequent&&(d=g(a.consequent,b),c=c.concat(d)),null!==a.alternate&&(d=g(a.alternate,
b),c=c.concat(d)),c;case "EmptyStatement":return c;case "BlockStatement":for(f=0;f<a.body.length;f++)d=g(a.body[f],b),c=c.concat(d);return c;case "ReturnStatement":return null!==a.argument?g(a.argument,b):c;case "UpdateExpression":return g(a.argument,b);case "AssignmentExpression":return c=g(a.left,b),c=c.concat(g(a.right,b));case "ExpressionStatement":return g(a.expression,b);case "BreakStatement":return c;case "ContinueStatement":return c;case "Compound":return c;case "Identifier":return c;case "MemberExpression":if("Identifier"!==
a.object.type)return c;if(!1===a.computed)c.push(a.object.name.toLowerCase()+"."+a.property.name.toLowerCase());else try{"Literal"===a.property.type&&"string"===typeof a.property.value&&c.push(a.object.name.toLowerCase()+"."+a.property.value.toString().toLowerCase())}catch(F){}return c;case "Literal":return c;case "ThisExpression":return c;case "CallExpression":for(f=0;f<a.arguments.length;f++)d=g(a.arguments[f],b),c=c.concat(d);return c;case "ArrayExpression":for(f=0;f<a.elements.length;f++)d=g(a.elements[f],
b),c=c.concat(d);return c;case "UnaryExpression":return g(a.argument,b);case "ObjectExpression":for(f=0;f<a.properties.length;f++)d=g(a.properties[f],b),c=c.concat(d);return c;case "Property":return g(a.value,b);case "BinaryExpression":return d=g(a.left,b),c=c.concat(d),d=g(a.right,b),c=c.concat(d);case "LogicalExpression":return d=g(a.left,b),c=c.concat(d),d=g(a.right,b),c=c.concat(d);case "ConditionalExpression":return c;case "Array":return c;default:return c}}catch(F){throw F;}}function h(a,b,
c){c=[];if(void 0!==b.params&&null!==b.params)for(var d=0;d<b.params.length;d++)c.push("any");return{name:a,return:"any",params:c}}function d(a,b){b={globalScope:b.globalScope,localScope:{}};for(var c=0;c<a.params.length;c++)b.localScope[a.params[c].name.toLowerCase()]={type:"any"};return n(a.body,b)}function v(a,b,c,d){var e={};if(void 0===a||null===a)a={};if(void 0===c||null===c)c={};e.infinity={type:"any"};e.textformatting={type:"any"};e.pi={type:"any"};for(var f in b)if("simple"!==d||"simple"===
d&&"a"===b[f].av)e[f]={type:"FormulaFunction",signature:{min:b[f].min,max:b[f].max}},"simple"!==d&&(void 0!==b[f].fmin&&(e[f].signature.min=b[f].fmin),void 0!==b[f].fmax&&(e[f].signature.max=b[f].fmax));for(b=0;b<c.length;b++)f=c[b],e[f.name]={type:"FormulaFunction",signature:f};for(f in a)e[f]=a[f],e[f].type="any";return e}function z(a,b,c){var d="";switch(b){case "SYNTAX":d="Syntax Error: ";break;case "RUNTIME":d="Runtime Error: ";break;default:d="Syntax Error: "}try{switch(a.type){case "IfStatement":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":d+=
" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":d+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(c){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":d+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":d+=" Assignments can only be made to identifiers"}break;case "ExpressionStatement":d+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(c){case "GLOBALFUNCTIONSONLY":d+=
" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":d+=" Function Definition must have an identifier"}break;case "VariableDeclaration":d+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(c){case "FUNCTIONVARIABLEDECLARATOR":d+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":d+=" Variable Definition must have an identifier"}break;case "Identifier":d+=" Identifier Not Found. ";d+=a.name;break;case "ObjectExpression":switch(c){case "OBJECTPROPERTYMUSTBESTRING":d+=
" Property name must be a string"}break;case "ForStatement":switch(c){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":d+=" Non Boolean used as Condition"}break;case "ForInStatement":switch(c){case "ONLY1VAR":d+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":d+=" Can only declare value for use with IN";break;case "LEFTNOVAR":d+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":d+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":d+=
"This type cannot be used in an IN loop"}break;case "MemberExpression":switch(c){case "PROPERTYNOTFOUND":d+="Cannot find member property. ";d+=!1===a.computed?a.property.name:"";break;case "OUTOFBOUNDS":d+="Out of Bounds. ";d+=!1===a.computed?a.property.name:"";break;case "NOTFOUND":d+="Cannot call member method on null. ";d+=!1===a.computed?a.property.name:"";break;case "INVALIDTYPE":d+="Cannot call member property on object of this type. ",d+=!1===a.computed?a.property.name:""}break;case "Property":switch(c){case "ONLYLITERAL":d+=
"Property names must be literals or identifiers"}break;case "Literal":break;case "ThisExpression":d+="THIS construct is not supported.";case "CallExpression":switch(c){case "WRONGSIGNATURE":d+="Function signature does not match: ";d+=a.callee.name;break;case "ONLYNODESUPPORTED":d+="Functions must be declared.";d+=a.callee.name;break;case "NOTAFUNCTION":d+="Not a Function: ";d+=a.callee.name;break;case "NOTFOUND":d+="Function Not Found: "+a.callee.name}break;case "UnaryExpression":switch(c){case "NOTSUPPORTEDUNARYOPERATOR":d+=
"Operator "+a.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";break;case "NOTSUPPORTEDTYPE":d+="Unary operator "+a.operator+" cannot be used with this argument."}case "BinaryExpression":switch(c){case "OPERATORNOTRECOGNISED":d+="Binary Operator not recognised "+a.operator}break;case "LogicalExpression":switch(c){case "ONLYBOOLEAN":d+="Operator "+a.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":d+="Logical Expression "+
a.operator+" being applied to parameters that are not boolean."}break;case "ConditionalExpression":d+="Conditional statements not supported.";break;case "ArrayExpression":switch(c){case "FUNCTIONCONTEXTILLEGAL":d+=" Cannot Put Function inside Array."}break;case "Array":d+="Expression contains unrecognised array structure.";break;default:d+="Expression contains unrecognised code structures."}}catch(x){throw x;}return d}function t(a,b,c){return{line:a.loc.start.line,character:a.loc.start.column,reason:z(a,
b,c)}}function B(a,b,c,d,f){void 0===f&&(f=!0);b={globalScope:b.globalScope,localScope:{}};for(f=0;f<a.params.length;f++)b.localScope[a.params[f].name.toLowerCase()]={type:"any"};A(a.body,b,c,d,!1)}function A(a,b,c,d,g){void 0===g&&(g=!0);if(null===a)throw Error("Unnexpexted Expression Syntax");var e=null;try{switch(a.type){case "VariableDeclarator":if(null!==a.init&&"FunctionExpression"===a.init.type){d.push(t(a,"SYNTAX","FUNCTIONVARIABLEDECLARATOR"));break}"Identifier"!==a.id.type?d.push(t(a,"SYNTAX",
"VARIABLEMUSTHAVEIDENTIFIER")):(a.id.name.toLowerCase(),null===b.localScope?b.globalScope[a.id.name.toLowerCase()]={type:"any"}:b.localScope[a.id.name.toLowerCase()]={type:"any"});null===a.init?"":A(a.init,b,c,d,g);break;case "FunctionDeclaration":!1===g&&d.push(t(a,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==a.id.type&&d.push(t(a,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));e=h("",a,b);B(a,b,c,d,g);null!==b.localScope&&d.push(t(a,"SYNTAX","GLOBALFUNCTIONSONLY"));e.isnative=!1;"Identifier"===a.id.type&&
(b.globalScope[a.id.name.toLowerCase()]={type:"FormulaFunction",signature:[e]});break;case "VariableDeclaration":for(var k=0;k<a.declarations.length;k++)A(a.declarations[k],b,c,d,g);break;case "IfStatement":null!==a.test&&(A(a.test,b,c,d,g),"AssignmentExpression"!==a.test.type&&"UpdateExpression"!==a.test.type||d.push(t(a.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==a.consequent&&A(a.consequent,b,c,d,g);null!==a.alternate&&A(a.alternate,b,c,d,g);break;case "EmptyStatement":break;case "BlockStatement":if(null!==
a.body)for(k=0;k<a.body.length;k++)A(a.body[k],b,c,d,g);break;case "ReturnStatement":null!==a.argument&&A(a.argument,b,c,d,g);break;case "ForInStatement":"VariableDeclaration"===a.left.type?(1<a.left.declarations.length&&d.push(t(a,"SYNTAX","ONLY1VAR")),null!==a.left.declarations[0].init&&d.push(t(a,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==a.left.type&&d.push(t(a,"SYNTAX","LEFTNOTVAR"));A(a.left,b,c,d,g);A(a.right,b,c,d,g);A(a.body,b,c,d,g);break;case "ForStatement":null!==a.init&&A(a.init,b,
c,d,g);null!==a.test&&A(a.test,b,c,d,g);null!==a.body&&A(a.body,b,c,d,g);null!==a.update&&A(a.update,b,c,d,g);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==a.argument.type&&"MemberExpression"!==a.argument.type?d.push(t(a,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===a.argument.type&&(e=!1,!1===c&&(null!==b.localScope&&void 0!==b.localScope[a.argument.name.toLowerCase()]&&(e=!0),void 0!==b.globalScope[a.argument.name.toLowerCase()]&&(e=
!0),!1===e&&d.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.argument.name+" has not been declared."}))),"MemberExpression"===a.argument.type&&A(a.argument,b,c,d,g));break;case "AssignmentExpression":"Identifier"!==a.left.type&&"MemberExpression"!==a.left.type&&d.push(t(a,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(a.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:d.push(t(a,"SYNTAX","OPERATORNOTRECOGNISED"))}A(a.right,
b,c,d,g);e=!1;"Identifier"===a.left.type&&(null!==b.localScope&&void 0!==b.localScope[a.left.name.toLowerCase()]&&(e=!0),void 0!==b.globalScope[a.left.name.toLowerCase()]&&(e=!0),!1===c&&!1===e&&d.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Identifier "+a.argument.name+" has not been declared."}));"MemberExpression"===a.left.type&&A(a.left,b,c,d,g);break;case "ExpressionStatement":A(a.expression,b,c,d,g);break;case "Identifier":var l=a.name.toLowerCase();
if(null!==b.localScope&&void 0!==b.localScope[l])break;void 0===b.globalScope[l]&&!1===c&&d.push(t(a,"SYNTAX","VARIABLENOTFOUND"));break;case "MemberExpression":A(a.object,b,c,d,g);!0===a.computed&&A(a.property,b,c,d,g);break;case "Literal":return"";case "ThisExpression":d.push(t(a,"SYNTAX","NOTSUPPORTED"));break;case "CallExpression":"Identifier"!==a.callee.type&&d.push(t(a,"SYNTAX","ONLYNODESSUPPORTED"));for(k=0;k<a.arguments.length;k++)A(a.arguments[k],b,c,d,g);var m=f(a.callee.name,a.arguments,
b);!1===c&&-1===m&&d.push(t(a,"SYNTAX","NOTFOUND"));-2===m&&d.push(t(a,"SYNTAX","WRONGSIGNATURE"));break;case "UnaryExpression":A(a.argument,b,c,d,g);break;case "BinaryExpression":A(a.left,b,c,d,g);A(a.right,b,c,d,g);switch(a.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;default:d.push(t(a,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(a.operator){case "\x26\x26":case "||":break;
default:d.push(t(a,"SYNTAX","OPERATORNOTRECOGNISED"))}A(a.left,b,c,d,g);"AssignmentExpression"!==a.left.type&&"UpdateExpression"!==a.left.type||d.push(t(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));A(a.right,b,c,d,g);"AssignmentExpression"!==a.right.type&&"UpdateExpression"!==a.right.type||d.push(t(a,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ConditionalExpression":d.push(t(a,"SYNTAX","NOTSUPPORTED"));break;case "ArrayExpression":for(k=0;k<a.elements.length;k++)A(a.elements[k],
b,c,d,g);break;case "Array":d.push(t(a,"SYNTAX","NOTSUPPORTED"));case "ObjectExpression":for(k=0;k<a.properties.length;k++)A(a.properties[k],b,c,d,g);break;case "Property":"Literal"!==a.key.type&&"Identifier"!==a.key.type&&d.push(t(a,"SYNTAX","ONLYLITERAL"));"Literal"===a.key.type&&A(a.key,b,c,d,g);A(a.value,b,c,d,g);break;default:d.push(t(a,"SYNTAX","UNRECOGNISED"))}}catch(E){d.push({line:null===a?0:a.loc.start.line,character:null===a?0:a.loc.start.column,reason:"Unnexpected Syntax"})}}function w(a,
b){var c=[],d;try{switch(a.type){case "VariableDeclarator":return null!==a.init?w(a.init,b):c;case "FunctionDeclaration":return w(a.body,b);case "VariableDeclaration":for(var f=0;f<a.declarations.length;f++)d=w(a.declarations[f],b),c=c.concat(d);return c;case "ForInStatement":return d=w(a.left,b),c=c.concat(d),d=w(a.right,b),c=c.concat(d),d=w(a.body,b),c=c.concat(d);case "ForStatement":return null!==a.init&&(d=w(a.init,b),c=c.concat(d)),null!==a.test&&(d=w(a.test,b),c=c.concat(d)),null!==a.body&&
(d=w(a.body,b),c=c.concat(d)),null!==a.update&&(d=w(a.update,b),c=c.concat(d)),c;case "IfStatement":return d=w(a.test,b),c=c.concat(d),null!==a.consequent&&(d=w(a.consequent,b),c=c.concat(d)),null!==a.alternate&&(d=w(a.alternate,b),c=c.concat(d)),c;case "EmptyStatement":return c;case "BlockStatement":for(f=0;f<a.body.length;f++)d=w(a.body[f],b),c=c.concat(d);return c;case "ReturnStatement":return null!==a.argument?w(a.argument,b):c;case "UpdateExpression":return w(a.argument,b);case "AssignmentExpression":return c=
w(a.left,b),c=c.concat(w(a.right,b));case "ExpressionStatement":return w(a.expression,b);case "BreakStatement":return c;case "ContinueStatement":return c;case "Compound":return c;case "Identifier":return c;case "MemberExpression":return c;case "Literal":return c;case "ThisExpression":return c;case "CallExpression":for(f=0;f<a.arguments.length;f++)d=w(a.arguments[f],b),c=c.concat(d);c.push(a.callee.name.toLowerCase());return c;case "ArrayExpression":for(f=0;f<a.elements.length;f++)d=w(a.elements[f],
b),c=c.concat(d);return c;case "UnaryExpression":return w(a.argument,b);case "ObjectExpression":for(f=0;f<a.properties.length;f++)d=w(a.properties[f],b),c=c.concat(d);return c;case "Property":return w(a.value,b);case "BinaryExpression":return d=w(a.left,b),c=c.concat(d),d=w(a.right,b),c=c.concat(d);case "LogicalExpression":return d=w(a.left,b),c=c.concat(d),d=w(a.right,b),c=c.concat(d);case "ConditionalExpression":return c;case "Array":return c;default:return c}}catch(F){throw F;}}Object.defineProperty(a,
"__esModule",{value:!0});a.functionDecls={concatenate:{min:"0",max:"*",av:"a"},split:{min:"2",max:"4",av:"a"},guid:{min:"0",max:"1",av:"a"},today:{min:"0",max:"0",av:"a"},now:{min:"0",max:"0",av:"a"},timestamp:{min:"0",max:"0",av:"a"},day:{min:"1",max:"1",av:"a"},month:{min:"1",max:"1",av:"a"},year:{min:"1",max:"1",av:"a"},hour:{min:"1",max:"1",av:"a"},second:{min:"1",max:"1",av:"a"},millisecond:{min:"1",max:"1",av:"a"},minute:{min:"1",max:"1",av:"a"},weekday:{min:"1",max:"1",av:"a"},toutc:{min:"1",
max:"1",av:"a"},tolocal:{min:"1",max:"1",av:"a"},date:{min:"0",max:"7",av:"a"},datediff:{min:"2",max:"3",av:"a"},dateadd:{min:"2",max:"3",av:"a"},trim:{min:"1",max:"1",av:"a"},text:{min:"1",max:"2",av:"a"},left:{min:"2",max:"2",av:"a"},right:{min:"2",max:"2",av:"a"},mid:{min:"2",max:"3",av:"a"},upper:{min:"1",max:"1",av:"a"},proper:{min:"1",max:"2",av:"a"},lower:{min:"1",max:"1",av:"a"},find:{min:"2",max:"3",av:"a"},iif:{min:"3",max:"3",av:"a"},decode:{min:"2",max:"*",av:"a"},when:{min:"2",max:"*",
av:"a"},defaultvalue:{min:"2",max:"2",av:"a"},isempty:{min:"1",max:"1",av:"a"},domaincode:{min:"3",max:"4",av:"a"},domainname:{min:"2",max:"4",av:"a"},polygon:{min:"1",max:"1",av:"a"},point:{min:"1",max:"1",av:"a"},polyline:{min:"1",max:"1",av:"a"},extent:{min:"1",max:"1",av:"a"},multipoint:{min:"1",max:"1",av:"a"},geometry:{min:"1",max:"1",av:"a"},count:{min:"0",max:"*",av:"a"},number:{min:"1",max:"2",av:"a"},acos:{min:"1",max:"1",av:"a"},asin:{min:"1",max:"1",av:"a"},atan:{min:"1",max:"1",av:"a"},
atan2:{min:"2",max:"2",av:"a"},ceil:{min:"1",max:"2",av:"a"},floor:{min:"1",max:"2",av:"a"},round:{min:"1",max:"2",av:"a"},cos:{min:"1",max:"1",av:"a"},exp:{min:"1",max:"1",av:"a"},log:{min:"1",max:"1",av:"a"},min:{min:"0",max:"*",av:"a"},constrain:{min:"3",max:"3",av:"a"},console:{min:"0",max:"*",av:"a"},max:{min:"0",max:"*",av:"a"},pow:{min:"2",max:"2",av:"a"},random:{min:"0",max:"0",av:"a"},sqrt:{min:"1",max:"1",av:"a"},sin:{min:"1",max:"1",av:"a"},tan:{min:"1",max:"1",av:"a"},abs:{min:"1",max:"1",
av:"a"},isnan:{min:"1",max:"1",av:"a"},stdev:{min:"0",max:"*",av:"a"},average:{min:"0",max:"*",av:"a"},mean:{min:"0",max:"*",av:"a"},sum:{min:"0",max:"*",av:"a"},variance:{min:"0",max:"*",av:"a"},distinct:{min:"0",max:"*",av:"a"},first:{min:"1",max:"1",av:"a"},top:{min:"2",max:"2",av:"a"},boolean:{min:"1",max:"1",av:"a"},dictionary:{min:"0",max:"*",av:"a"},typeof:{min:"1",max:"1",av:"a"},reverse:{min:"1",max:"1",av:"a"},replace:{min:"3",max:"4",av:"a"},sort:{min:"1",max:"2",av:"a"},feature:{min:"1",
max:"*",av:"a"},haskey:{min:"2",max:"2",av:"a"},indexof:{min:"2",max:"2",av:"a"},disjoint:{min:"2",max:"2",av:"a"},intersects:{min:"2",max:"2",av:"a"},touches:{min:"2",max:"2",av:"a"},crosses:{min:"2",max:"2",av:"a"},within:{min:"2",max:"2",av:"a"},contains:{min:"2",max:"2",av:"a"},overlaps:{min:"2",max:"2",av:"a"},equals:{min:"2",max:"2",av:"a"},relate:{min:"3",max:"3",av:"a"},intersection:{min:"2",max:"2",av:"a"},union:{min:"1",max:"2",av:"a"},difference:{min:"2",max:"2",av:"a"},symmetricdifference:{min:"2",
max:"2",av:"a"},clip:{min:"2",max:"2",av:"a"},cut:{min:"2",max:"2",av:"a"},area:{min:"1",max:"2",av:"a"},areageodetic:{min:"1",max:"2",av:"a"},length:{min:"1",max:"2",av:"a"},lengthgeodetic:{min:"1",max:"2",av:"a"},distance:{min:"2",max:"3",av:"a"},densify:{min:"2",max:"3",av:"a"},densifygeodetic:{min:"2",max:"3",av:"a"},generalize:{min:"2",max:"4",av:"a"},buffer:{min:"2",max:"3",av:"a"},buffergeodetic:{min:"2",max:"3",av:"a"},offset:{min:"2",max:"6",av:"a"},rotate:{min:"2",max:"3",av:"a"},issimple:{min:"1",
max:"1",av:"a"},simplify:{min:"1",max:"1",av:"a"},centroid:{min:"1",max:"1",av:"a"},multiparttosinglepart:{min:"1",max:"1",av:"a"},setgeometry:{min:"2",max:"2",av:"a"}};a.addFunctionDeclaration=function(b,c){var d=a.functionDecls[b.name.toLowerCase()];void 0===d?a.functionDecls[b.name.toLowerCase()]={min:b.min,max:b.max,av:c}:"a"===d.av&&"f"===c?(void 0!==d.fmin&&delete d.fmin,void 0!==d.fmax&&delete d.fmax,d.fmin=b.min,d.fmax=b.max):"f"===d.av&&"a"===c?(void 0===d.fmin&&(d.fmin=d.min),void 0===d.fmax&&
(d.fmax=d.max),d.min=b.min,d.max=b.max,d.av="a"):"f"===c?(d.fmin=b.min,d.fmax=b.max):"a"===c&&(d.min=b.min,d.max=b.max)};a.checkFunctionSignature=r;a.findFunction=f;a.validateLanguageNode=k;a.testValidityOfExpression=n;a.referencesMemberImpl=l;a.referencesMember=function(a,b){return!0===l(a.body[0].body,b.toLowerCase())?!0:!1};a.referencesFunctionImpl=c;a.referencesFunction=function(a,b){return!0===c(a.body[0].body,b)?!0:!1};a.findFieldLiteralsImpl=g;a.findFieldLiterals=function(a,b){return g(a.body[0].body,
b)};a.extractFunctionDeclaration=h;a.validateFunction=d;a.constructGlobalScope=v;a.validateScript=function(b,c,d){void 0===d&&(d="full");c={globalScope:v(c.vars,a.functionDecls,c.customFunctions,d),localScope:null};return n(b.body[0].body,c)};a.validateLanguage=function(a){return"BlockStatement"!==a.body[0].body.type?"Invalid formula content.":k(a.body[0].body)};a.nodeErrorMessage=z;a.makeError=t;a.extractAllIssuesInFunction=B;a.extractAllIssues=A;a.checkScript=function(b,c,d,f){void 0===f&&(f="full");
var e=[];if("BlockStatement"!==b.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===c||void 0===c)c={vars:{},customFunctions:[]};c={globalScope:v(c.vars,a.functionDecls,c.customFunctions,f),localScope:null};try{A(b.body[0].body,c,d,e)}catch(F){}return e};a.findFunctionCallsImpl=w;a.findFunctionCalls=function(a,b){return w(a.body[0].body,b)}})},"esri/arcade/functions/date":function(){define(["require","exports","../../moment","../languageUtils"],function(b,a,r,f){function k(a){return null===
a?a:isNaN(a.getTime())?null:a}Object.defineProperty(a,"__esModule",{value:!0});a.registerFunctions=function(a,b){a.today=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,0,0);a=new Date;a.setHours(0,0,0,0);return a})};a.now=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,0,0);return new Date})};a.timestamp=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,0,0);a=new Date;return a=new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),
a.getUTCMilliseconds())})};a.toutc=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?null:new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds())})};a.tolocal=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?null:r.utc([a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()]).toDate()})};
a.day=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getDate()})};a.month=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getMonth()})};a.year=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getFullYear()})};a.hour=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getHours()})};a.second=function(a,
g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getSeconds()})};a.millisecond=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getMilliseconds()})};a.minute=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getMinutes()})};a.weekday=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,1,1);a=f.toDate(c[0]);return null===a?NaN:a.getDay()})};a.date=function(a,
g){return b(a,g,function(a,b,c){f.pcCheck(c,0,7);if(3===c.length)return k(new Date(f.toNumber(c[0]),f.toNumber(c[1]),f.toNumber(c[2]),0,0,0,0));if(4===c.length)return k(new Date(f.toNumber(c[0]),f.toNumber(c[1]),f.toNumber(c[2]),f.toNumber(c[3]),0,0,0));if(5===c.length)return k(new Date(f.toNumber(c[0]),f.toNumber(c[1]),f.toNumber(c[2]),f.toNumber(c[3]),f.toNumber(c[4]),0,0));if(6===c.length)return k(new Date(f.toNumber(c[0]),f.toNumber(c[1]),f.toNumber(c[2]),f.toNumber(c[3]),f.toNumber(c[4]),f.toNumber(c[5]),
0));if(7===c.length)return k(new Date(f.toNumber(c[0]),f.toNumber(c[1]),f.toNumber(c[2]),f.toNumber(c[3]),f.toNumber(c[4]),f.toNumber(c[5]),f.toNumber(c[6])));if(2===c.length){a=f.toString(c[1]);if(""===a)return null;a=f.standardiseDateFormat(a);c=r(f.toString(c[0]),a,!0);return!0===c.isValid()?c.toDate():null}if(1===c.length){if(f.isString(c[0])&&""===c[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;a=f.toNumber(c[0]);return!1===isNaN(a)?k(new Date(a)):f.toDate(c[0])}if(0===c.length)return new Date})};
a.datediff=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,2,3);a=f.toDateM(c[0]);b=f.toDateM(c[1]);if(null===a||null===b)return NaN;switch(f.toString(c[2]).toLowerCase()){case "days":case "day":case "d":return a.diff(b,"days",!0);case "months":case "month":return a.diff(b,"months",!0);case "minutes":case "minute":case "m":return"M"===c[2]?a.diff(b,"months",!0):a.diff(b,"minutes",!0);case "seconds":case "second":case "s":return a.diff(b,"seconds",!0);case "milliseconds":case "millisecond":case "ms":return a.diff(b);
case "hours":case "hour":case "h":return a.diff(b,"hours",!0);case "years":case "year":case "y":return a.diff(b,"years",!0);default:return a.diff(b)}})};a.dateadd=function(a,g){return b(a,g,function(a,b,c){f.pcCheck(c,2,3);a=f.toDateM(c[0]);if(null===a)return null;b="milliseconds";switch(f.toString(c[2]).toLowerCase()){case "days":case "day":case "d":b="days";break;case "months":case "month":b="months";break;case "minutes":case "minute":case "m":b="M"===c[2]?"months":"minutes";break;case "seconds":case "second":case "s":b=
"seconds";break;case "milliseconds":case "millisecond":case "ms":b="milliseconds";break;case "hours":case "hour":case "h":b="hours";break;case "years":case "year":case "y":b="years"}a.add(f.toNumber(c[1]),b);return a.toDate()})}}})},"esri/arcade/functions/geometry":function(){define("require exports ../Dictionary ../Feature ../languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v){Object.defineProperty(a,"__esModule",{value:!0});a.registerFunctions=function(a,b){a.polygon=function(a,c){return b(a,c,function(b,c,d){k.pcCheck(d,1,1);b=null;if(d[0]instanceof r){if(b=k.fixSpatialReference(f.parseGeometryFromDictionary(d[0]),a.spatialReference),!1===b instanceof h)throw Error("Illegal Parameter");}else b=d[0]instanceof h?v.fromJSON(d[0].toJSON()):k.fixSpatialReference(new h(JSON.parse(d[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return k.fixNullGeometry(b)})};a.polyline=function(a,c){return b(a,c,function(b,c,g){k.pcCheck(g,1,1);b=null;if(g[0]instanceof r){if(b=k.fixSpatialReference(f.parseGeometryFromDictionary(g[0]),a.spatialReference),!1===b instanceof d)throw Error("Illegal Parameter");}else b=g[0]instanceof d?v.fromJSON(g[0].toJSON()):k.fixSpatialReference(new d(JSON.parse(g[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return k.fixNullGeometry(b)})};a.point=function(a,c){return b(a,c,function(b,c,d){k.pcCheck(d,1,1);b=null;if(d[0]instanceof r){if(b=k.fixSpatialReference(f.parseGeometryFromDictionary(d[0]),a.spatialReference),!1===b instanceof g)throw Error("Illegal Parameter");}else b=d[0]instanceof g?v.fromJSON(d[0].toJSON()):k.fixSpatialReference(new g(JSON.parse(d[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return k.fixNullGeometry(b)})};a.multipoint=function(a,d){return b(a,d,function(b,d,g){k.pcCheck(g,1,1);b=null;if(g[0]instanceof r){if(b=k.fixSpatialReference(f.parseGeometryFromDictionary(g[0]),a.spatialReference),!1===b instanceof c)throw Error("Illegal Parameter");}else b=g[0]instanceof c?v.fromJSON(g[0].toJSON()):k.fixSpatialReference(new c(JSON.parse(g[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");
return k.fixNullGeometry(b)})};a.extent=function(a,l){return b(a,l,function(b,l,t){t=k.autoCastFeatureToGeometry(t);k.pcCheck(t,1,1);b=null;t[0]instanceof r?b=k.fixSpatialReference(f.parseGeometryFromDictionary(t[0]),a.spatialReference):t[0]instanceof g?(b={xmin:t[0].x,ymin:t[0].y,xmax:t[0].x,ymax:t[0].y,spatialReference:t[0].spatialReference.toJSON()},t[0].hasZ?(b.zmin=t[0].z,b.zmax=t[0].z):t[0].hasM&&(b.mmin=t[0].m,b.mmax=t[0].m),b=v.fromJSON(b)):b=t[0]instanceof h?v.fromJSON(t[0].extent.toJSON()):
t[0]instanceof d?v.fromJSON(t[0].extent.toJSON()):t[0]instanceof c?v.fromJSON(t[0].extent.toJSON()):t[0]instanceof n?v.fromJSON(t[0].toJSON()):k.fixSpatialReference(new n(JSON.parse(t[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(b)})};a.geometry=function(a,c){return b(a,c,function(b,c,d){k.pcCheck(d,1,1);b=null;b=d[0]instanceof
f?k.fixSpatialReference(d[0].geometry(),a.spatialReference):d[0]instanceof r?k.fixSpatialReference(f.parseGeometryFromDictionary(d[0]),a.spatialReference):k.fixSpatialReference(v.fromJSON(JSON.parse(d[0])),a.spatialReference);if(null!==b&&!1===b.spatialReference.equals(a.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return k.fixNullGeometry(b)})};a.setgeometry=function(a,c){return b(a,c,function(a,b,c){k.pcCheck(c,
2,2);if(c[0]instanceof f){if(!0===c[0].immutable)throw Error("Feature is Immutable");if(c[1]instanceof l||null===c[1])c[0]._geometry=c[1];else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return k.voidOperation})};a.feature=function(a,c){return b(a,c,function(b,c,d){if(0===d.length)throw Error("Missing Parameters");b=null;if(1===d.length)if(k.isString(d[0]))b=f.fromJson(JSON.parse(d[0]));else if(d[0]instanceof f)b=f.createFromArcadeFeature(d[0]);else if(d[0]instanceof l)b=
f.createFromGraphicLikeObject(d[0],null,null);else if(d[0]instanceof r)b=d[0].hasField("geometry")?d[0].field("geometry"):null,c=d[0].hasField("attributes")?d[0].field("attributes"):null,null!==b&&b instanceof r&&(b=f.parseGeometryFromDictionary(b)),null!==c&&(c=f.parseAttributesFromDictionary(c)),b=f.createFromGraphicLikeObject(b,c,null);else throw Error("Illegal Argument");else{if(2===d.length){c=b=null;if(null!==d[0])if(d[0]instanceof l)b=d[0];else if(b instanceof r)b=f.parseGeometryFromDictionary(d[0]);
else throw Error("Illegal Argument");if(null!==d[1])if(d[1]instanceof r)c=f.parseAttributesFromDictionary(d[1]);else throw Error("Illegal Argument");}else{b=null;c={};if(null!==d[0])if(d[0]instanceof l)b=d[0];else if(b instanceof r)b=f.parseGeometryFromDictionary(d[0]);else throw Error("Illegal Argument");for(var e=1;e<d.length;e+=2){var g=k.toString(d[e]),h=d[e+1];if(null===h||void 0===h||k.isString(h)||isNaN(h)||k.isDate(h)||k.isNumber(h)||k.isBoolean(h)){if(k.isFunctionParameter(h)||!1===k.isSimpleType(h))throw Error("Illegal Argument");
c[g]=h===k.voidOperation?null:h}else throw Error("Illegal Argument");}}b=f.createFromGraphicLikeObject(b,c,null)}b._geometry=k.fixSpatialReference(b.geometry(),a.spatialReference);b.immutable=!1;return b})};a.dictionary=function(a,c){return b(a,c,function(a,b,c){if(0===c.length)throw Error("Missing Parameters");if(0!==c.length%2)throw Error("Missing Parameters");a={};for(b=0;b<c.length;b+=2){var d=k.toString(c[b]),f=c[b+1];if(null===f||void 0===f||k.isString(f)||isNaN(f)||k.isDate(f)||k.isNumber(f)||
k.isBoolean(f)||k.isArray(f)||k.isImmutableArray(f)){if(k.isFunctionParameter(f))throw Error("Illegal Argument");a[d]=f===k.voidOperation?null:f}else throw Error("Illegal Argument");}c=new r(a);c.immutable=!1;return c})};a.haskey=function(a,c){return b(a,c,function(a,b,c){k.pcCheck(c,2,2);a=k.toString(c[1]);if(c[0]instanceof f||c[0]instanceof r)return c[0].hasField(a);throw Error("Illegal Argument");})};a.indexof=function(a,c){return b(a,c,function(a,b,c){k.pcCheck(c,2,2);a=c[1];if(k.isArray(c[0])){for(b=
0;b<c[0].length;b++)if(k.equalityTest(a,c[0][b]))return b;return-1}if(k.isImmutableArray(c[0])){var d=c[0].length();for(b=0;b<d;b++)if(k.equalityTest(a,c[0].get(b)))return b;return-1}throw Error("Illegal Argument");})}}})},"esri/arcade/functions/geomsync":function(){define("require exports ../../kernel ../kernel ../languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z){function t(a){return w?a.clone():z.fromJSON(a.toJSON())}function B(a){return 0===r.version.indexOf("4.")?d.fromExtent(a):new d({spatialReference:a.spatialReference,rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]]})}Object.defineProperty(a,"__esModule",{value:!0});var A=null,w=0===r.version.indexOf("4.");a.setGeometryEngine=function(a){A=a};a.registerFunctions=function(a,b){function e(a){k.pcCheck(a,2,2);if(!(a[0]instanceof
c&&a[1]instanceof c||a[0]instanceof c&&null===a[1]||a[1]instanceof c&&null===a[0]||null===a[0]&&null===a[1]))throw Error("Illegal Argument");}a.disjoint=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!0:A.disjoint(c[0],c[1])})};a.intersects=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:A.intersects(c[0],c[1])})};a.touches=function(a,c){return b(a,c,function(a,b,c){c=
k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:A.touches(c[0],c[1])})};a.crosses=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:A.crosses(c[0],c[1])})};a.within=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:A.within(c[0],c[1])})};a.contains=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||
null===c[1]?!1:A.contains(c[0],c[1])})};a.overlaps=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?!1:A.overlaps(c[0],c[1])})};a.equals=function(a,d){return b(a,d,function(a,b,d){k.pcCheck(d,2,2);return d[0]===d[1]?!0:d[0]instanceof c&&d[1]instanceof c?A.equals(d[0],d[1]):k.isDate(d[0])&&k.isDate(d[1])?d[0].getTime()===d[1].getTime():!1})};a.relate=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,
3,3);if(d[0]instanceof c&&d[1]instanceof c)return A.relate(d[0],d[1],k.toString(d[2]));if(d[0]instanceof c&&null===d[1]||d[1]instanceof c&&null===d[0]||null===d[0]&&null===d[1])return!1;throw Error("Illegal Argument");})};a.intersection=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]||null===c[1]?null:A.intersect(c[0],c[1])})};a.union=function(a,d){return b(a,d,function(b,d,f){f=k.autoCastFeatureToGeometry(f);b=[];if(0===f.length)throw Error("Function called with wrong number of Parameters");
if(1===f.length)if(k.isArray(f[0]))for(f=k.autoCastFeatureToGeometry(f[0]),d=0;d<f.length;d++){if(null!==f[d])if(f[d]instanceof c)b.push(f[d]);else throw Error("Illegal Argument");}else if(k.isImmutableArray(f[0]))for(f=k.autoCastFeatureToGeometry(f[0].toArray()),d=0;d<f.length;d++){if(null!==f[d])if(f[d]instanceof c)b.push(f[d]);else throw Error("Illegal Argument");}else{if(f[0]instanceof c)return k.fixSpatialReference(t(f[0]),a.spatialReference);if(null===f[0])return null;throw Error("Illegal Argument");
}else for(d=0;d<f.length;d++)if(null!==f[d])if(f[d]instanceof c)b.push(f[d]);else throw Error("Illegal Argument");return 0===b.length?null:A.union(b)})};a.difference=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null!==c[0]&&null===c[1]?t(c[0]):null===c[0]?null:A.difference(c[0],c[1])})};a.symmetricdifference=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);e(c);return null===c[0]&&null===c[1]?null:null===c[0]?t(c[1]):null===c[1]?
t(c[0]):A.symmetricDifference(c[0],c[1])})};a.clip=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,2,2);if(!(d[1]instanceof l)&&null!==d[1])throw Error("Illegal Argument");if(null===d[0])return null;if(!(d[0]instanceof c))throw Error("Illegal Argument");return null===d[1]?null:A.clip(d[0],d[1])})};a.cut=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,2,2);if(!(d[1]instanceof v)&&null!==d[1])throw Error("Illegal Argument");
if(null===d[0])return[];if(!(d[0]instanceof c))throw Error("Illegal Argument");return null===d[1]?[t(d[0])]:A.cut(d[0],d[1])})};a.area=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,1,2);if(null===d[0])return 0;if(!(d[0]instanceof c))throw Error("Illegal Argument");return A.planarArea(d[0],f.convertSquareUnitsToCode(k.defaultUndefined(d[1],-1)))})};a.areageodetic=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,1,2);if(null===
d[0])return 0;if(!(d[0]instanceof c))throw Error("Illegal Argument");return A.geodesicArea(d[0],f.convertSquareUnitsToCode(k.defaultUndefined(d[1],-1)))})};a.length=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,1,2);if(null===d[0])return 0;if(!(d[0]instanceof c))throw Error("Illegal Argument");return A.planarLength(d[0],f.convertLinearUnitsToCode(k.defaultUndefined(d[1],-1)))})};a.lengthgeodetic=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);
k.pcCheck(d,1,2);if(null===d[0])return 0;if(!(d[0]instanceof c))throw Error("Illegal Argument");return A.geodesicLength(d[0],f.convertLinearUnitsToCode(k.defaultUndefined(d[1],-1)))})};a.distance=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,2,3);if(!(d[0]instanceof c))throw Error("Illegal Argument");if(!(d[1]instanceof c))throw Error("Illegal Argument");return A.distance(d[0],d[1],f.convertLinearUnitsToCode(k.defaultUndefined(d[2],-1)))})};a.densify=function(a,
e){return b(a,e,function(a,b,e){e=k.autoCastFeatureToGeometry(e);k.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");a=k.toNumber(e[1]);if(isNaN(a))throw Error("Illegal Argument");if(0>=a)throw Error("Illegal Argument");return e[0]instanceof d||e[0]instanceof v?A.densify(e[0],a,f.convertLinearUnitsToCode(k.defaultUndefined(e[2],-1))):e[0]instanceof l?A.densify(B(e[0]),a,f.convertLinearUnitsToCode(k.defaultUndefined(e[2],-1))):e[0]})};a.densifygeodetic=
function(a,e){return b(a,e,function(a,b,e){e=k.autoCastFeatureToGeometry(e);k.pcCheck(e,2,3);if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");a=k.toNumber(e[1]);if(isNaN(a))throw Error("Illegal Argument");if(0>=a)throw Error("Illegal Argument");return e[0]instanceof d||e[0]instanceof v?A.geodesicDensify(e[0],a,f.convertLinearUnitsToCode(k.defaultUndefined(e[2],-1))):e[0]instanceof l?A.geodesicDensify(B(e[0]),a,f.convertLinearUnitsToCode(k.defaultUndefined(e[2],-1))):
e[0]})};a.generalize=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,2,4);if(null===d[0])return null;if(!(d[0]instanceof c))throw Error("Illegal Argument");a=k.toNumber(d[1]);if(isNaN(a))throw Error("Illegal Argument");return A.generalize(d[0],a,k.toBoolean(k.defaultUndefined(d[2],!0)),f.convertLinearUnitsToCode(k.defaultUndefined(d[3],-1)))})};a.buffer=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,2,3);if(null===d[0])return null;
if(!(d[0]instanceof c))throw Error("Illegal Argument");a=k.toNumber(d[1]);if(isNaN(a))throw Error("Illegal Argument");return 0===a?t(d[0]):A.buffer(d[0],a,f.convertLinearUnitsToCode(k.defaultUndefined(d[2],-1)))})};a.buffergeodetic=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,2,3);if(null===d[0])return null;if(!(d[0]instanceof c))throw Error("Illegal Argument");a=k.toNumber(d[1]);if(isNaN(a))throw Error("Illegal Argument");return 0===a?t(d[0]):A.geodesicBuffer(d[0],
a,f.convertLinearUnitsToCode(k.defaultUndefined(d[2],-1)))})};a.offset=function(a,c){return b(a,c,function(a,b,c){c=k.autoCastFeatureToGeometry(c);k.pcCheck(c,2,6);if(null===c[0])return null;if(!(c[0]instanceof d||c[0]instanceof v))throw Error("Illegal Argument");a=k.toNumber(c[1]);if(isNaN(a))throw Error("Illegal Argument");b=k.toNumber(k.defaultUndefined(c[4],10));if(isNaN(b))throw Error("Illegal Argument");var e=k.toNumber(k.defaultUndefined(c[5],0));if(isNaN(e))throw Error("Illegal Argument");
return A.offset(c[0],a,f.convertLinearUnitsToCode(k.defaultUndefined(c[2],-1)),k.toString(k.defaultUndefined(c[3],"round")).toLowerCase(),b,e)})};a.rotate=function(a,f){return b(a,f,function(a,b,f){f=k.autoCastFeatureToGeometry(f);k.pcCheck(f,2,3);a=f[0];if(null===a)return null;if(!(a instanceof c))throw Error("Illegal Argument");a instanceof l&&(a=d.fromExtent(a));b=k.toNumber(f[1]);if(isNaN(b))throw Error("Illegal Argument");f=k.defaultUndefined(f[2],null);if(null===f)return A.rotate(a,b);if(f instanceof
h)return A.rotate(a,b,f);throw Error("Illegal Argument");})};a.centroid=function(a,f){return b(a,f,function(b,f,e){e=k.autoCastFeatureToGeometry(e);k.pcCheck(e,1,1);if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");return e[0]instanceof h?k.fixSpatialReference(t(e[0]),a.spatialReference):e[0]instanceof d?w?e[0].centroid:e[0].getCentroid():e[0]instanceof v?n.centroidPolyline(e[0]):e[0]instanceof g?n.centroidMultiPoint(e[0]):e[0]instanceof l?w?e[0].center:e[0].getExtent().getCenter():
null})};a.multiparttosinglepart=function(a,f){return b(a,f,function(b,f,e){e=k.autoCastFeatureToGeometry(e);k.pcCheck(e,1,1);f=[];if(null===e[0])return null;if(!(e[0]instanceof c))throw Error("Illegal Argument");if(e[0]instanceof h||e[0]instanceof l)return[k.fixSpatialReference(t(e[0]),a.spatialReference)];b=A.simplify(e[0]);if(b instanceof d){f=[];var m=[];for(e=0;e<b.rings.length;e++)if(b.isClockwise(b.rings[e])){var n=z.fromJSON({rings:[b.rings[e]],hasZ:w?b.hasZ:!1,hasM:w?b.hasM:!1,spatialReference:w?
b.spatialReference.toJSON():b.spatialReference.toJson()});f.push(n)}else m.push({ring:b.rings[e],pt:b.getPoint(e,0)});for(b=0;b<m.length;b++)for(e=0;e<f.length;e++)if(f[e].contains(m[b].pt)){f[e].addRing(m[b].ring);break}return f}if(b instanceof v){f=[];for(e=0;e<b.paths.length;e++)m=z.fromJSON({paths:[b.paths[e]],hasZ:w?b.hasZ:!1,hasM:w?b.hasM:!1,spatialReference:w?b.spatialReference.toJSON():b.spatialReference.toJson()}),f.push(m);return f}if(e[0]instanceof g){b=k.fixSpatialReference(t(e[0]),a.spatialReference);
for(e=0;e<b.points.length;e++)f.push(b.getPoint(e));return f}return null})};a.issimple=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,1,1);if(null===d[0])return!0;if(d[0]instanceof c)return A.isSimple(d[0]);throw Error("Illegal Argument");})};a.simplify=function(a,d){return b(a,d,function(a,b,d){d=k.autoCastFeatureToGeometry(d);k.pcCheck(d,1,1);if(null===d[0])return null;if(d[0]instanceof c)return A.simplify(d[0]);throw Error("Illegal Argument");})}}})},"esri/arcade/kernel":function(){define(["require",
"exports","../geometry/Extent"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});a.errback=function(a){return function(b){a.reject(b)}};a.callback=function(a,b){return function(){try{a.apply(null,arguments)}catch(n){b.reject(n)}}};a.convertSquareUnitsToCode=function(a){if(void 0===a)return null;if("number"===typeof a)return a;switch(a.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square_meters":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 109413;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 109442;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 109405}return null};
a.shapeExtent=function(a){if(null===a)return null;switch(a.type){case "polygon":case "multipoint":case "polyline":return a.extent;case "point":return new r({xmin:a.x,ymin:a.y,xmax:a.x,ymax:a.y,spatialReference:a.spatialReference});case "extent":return a}return null};a.convertLinearUnitsToCode=function(a){if(void 0===a)return null;if("number"===typeof a||"number"===typeof a)return a;switch(a.toLowerCase()){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":case "square-meter":case "square-meters":return 9001;
case "miles":case "mile":case "squaremile":case "squaremiles":case "square-miles":case "square-mile":return 9035;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "square-kilometers":case "square-kilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "square-yards":case "square-yard":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "square-feet":case "square-foot":case "squarefeet":case "squarefoot":return 9002}return null};
a.sameGeomType=function(a,b){return a===b||"point"===a&&"esriGeometryPoint"===b||"polyline"===a&&"esriGeometryPolyline"===b||"polygon"===a&&"esriGeometryPolygon"===b||"extent"===a&&"esriGeometryEnvelope"===b||"multipoint"===a&&"esriGeometryMultipoint"===b||"point"===b&&"esriGeometryPoint"===a||"polyline"===b&&"esriGeometryPolyline"===a||"polygon"===b&&"esriGeometryPolygon"===a||"extent"===b&&"esriGeometryEnvelope"===a||"multipoint"===b&&"esriGeometryMultipoint"===a?!0:!1}})},"esri/arcade/functions/centroid":function(){define(["require",
"exports","../../kernel","../../geometry/Point"],function(b,a,r,f){function k(a,b,f){var c={x:0,y:0};b&&(c.z=0);f&&(c.m=0);for(var g=0,h=a[0],k=0;k<a.length;k++){var l=a[k],r;a:if(l.length!==h.length)r=!1;else{for(r=0;r<l.length;r++)if(l[r]!==h[r]){r=!1;break a}r=!0}if(!1===r){r=n(h,l,b);var w=l,m=b,y=f,e={x:(h[0]+w[0])/2,y:(h[1]+w[1])/2};m&&(e.z=(h[2]+w[2])/2);m&&y?e.m=(h[3]+w[3])/2:y&&(e.m=(h[2]+w[2])/2);h=e;h.x*=r;h.y*=r;c.x+=h.x;c.y+=h.y;b&&(h.z*=r,c.z+=h.z);f&&(h.m*=r,c.m+=h.m);g+=r;h=l}}0<g?
(c.x/=g,c.y/=g,b&&(c.z/=g),f&&(c.m/=g)):(c.x=a[0][0],c.y=a[0][1],b&&(c.z=a[0][2]),f&&b?c.m=a[0][3]:f&&(c.m=a[0][2]));return c}function n(a,b,f){var c=b[0]-a[0];a=b[1]-a[1];return f?(b=b[2]-b[2],Math.sqrt(c*c+a*a+b*b)):Math.sqrt(c*c+a*a)}Object.defineProperty(a,"__esModule",{value:!0});var l=0===r.version.indexOf("4.");a.centroidPolyline=function(a){for(var b={x:0,y:0,spatialReference:l?a.spatialReference.toJSON():a.spatialReference.toJson()},c={x:0,y:0,spatialReference:l?a.spatialReference.toJSON():
a.spatialReference.toJson()},d=0,r=0,z=0;z<a.paths.length;z++)if(0!==a.paths[z].length){var t;t=a.paths[z];var B=!0===a.hasZ;if(1>=t.length)t=0;else{for(var A=0,w=1;w<t.length;w++)A+=n(t[w-1],t[w],B);t=A}0===t?(B=k(a.paths[z],!0===a.hasZ,!0===a.hasM),b.x+=B.x,b.y+=B.y,!0===a.hasZ&&(b.z+=B.z),!0===a.hasM&&(b.m+=B.m),++d):(B=k(a.paths[z],!0===a.hasZ,!0===a.hasM),c.x+=B.x*t,c.y+=B.y*t,!0===a.hasZ&&(c.z+=B.z*t),!0===a.hasM&&(c.m+=B.m*t),r+=t)}return 0<r?(c.x/=r,c.y/=r,!0===a.hasZ&&(c.z/=r),!0===a.hasM&&
(c.m/=r),new f(c)):0<d?(b.x/=d,b.y/=d,!0===a.hasZ&&(c.z/=d),!0===a.hasM&&(b.m/=d),new f(b)):null};a.centroidMultiPoint=function(a){if(0===a.points.length)return null;for(var b=0,c=0,d=0,k=0,n=0;n<a.points.length;n++){var t=a.getPoint(n);!0===t.hasZ&&(d+=t.z);!0===t.hasM&&(k+=t.m);b+=t.x;c+=t.y;k+=t.m}b={x:b/a.points.length,y:c/a.points.length,spatialReference:null};b.spatialReference=l?a.spatialReference.toJSON():a.spatialReference.toJson();!0===a.hasZ&&(b.z=d/a.points.length);!0===a.hasM&&(b.m=k/
a.points.length);return new f(b)}})},"esri/arcade/functions/maths":function(){define(["require","exports","dojo/number","../languageUtils"],function(b,a,r,f){function k(a,b,c){if("undefined"===typeof c||0===+c)return Math[a](b);b=+b;c=+c;if(isNaN(b)||"number"!==typeof c||0!==c%1)return NaN;b=b.toString().split("e");b=Math[a](+(b[0]+"e"+(b[1]?+b[1]-c:-c)));b=b.toString().split("e");return+(b[0]+"e"+(b[1]?+b[1]+c:c))}Object.defineProperty(a,"__esModule",{value:!0});a.registerFunctions=function(a,b){function c(a,
b,c){a=f.toNumber(a);return isNaN(a)?a:isNaN(b)||isNaN(c)||b>c?NaN:a<b?b:a>c?c:a}a.number=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,2);a=c[0];return f.isNumber(a)?a:null===a?0:f.isDate(a)||f.isBoolean(a)?Number(a):f.isArray(a)?NaN:""===a||void 0===a?Number(a):f.isString(a)?void 0!==c[1]?(c=f.multiReplace(c[1],"\u2030",""),c=f.multiReplace(c,"\u00a4",""),r.parse(a,{pattern:c})):Number(a.trim()):Number(a)})};a.abs=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.abs(f.toNumber(c[0]))})};
a.acos=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.acos(f.toNumber(c[0]))})};a.asin=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.asin(f.toNumber(c[0]))})};a.atan=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.atan(f.toNumber(c[0]))})};a.atan2=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,2);return Math.atan2(f.toNumber(c[0]),f.toNumber(c[1]))})};a.ceil=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,
1,2);return 2===c.length?(a=f.toNumber(c[1]),isNaN(a)&&(a=0),k("ceil",f.toNumber(c[0]),-1*a)):Math.ceil(f.toNumber(c[0]))})};a.round=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,2);return 2===c.length?(a=f.toNumber(c[1]),isNaN(a)&&(a=0),k("round",f.toNumber(c[0]),-1*a)):Math.round(f.toNumber(c[0]))})};a.floor=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,2);return 2===c.length?(a=f.toNumber(c[1]),isNaN(a)&&(a=0),k("floor",f.toNumber(c[0]),-1*a)):Math.floor(f.toNumber(c[0]))})};
a.cos=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.cos(f.toNumber(c[0]))})};a.isnan=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return"number"===typeof c[0]&&isNaN(c[0])})};a.exp=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.exp(f.toNumber(c[0]))})};a.log=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.log(f.toNumber(c[0]))})};a.pow=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,2);return Math.pow(f.toNumber(c[0]),
f.toNumber(c[1]))})};a.random=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,0,0);return Math.random()})};a.sin=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.sin(f.toNumber(c[0]))})};a.sqrt=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.sqrt(f.toNumber(c[0]))})};a.tan=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return Math.tan(f.toNumber(c[0]))})};a.defaultvalue=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,2);return null===
c[0]||""===c[0]||void 0===c[0]?c[1]:c[0]})};a.isempty=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return null===c[0]||""===c[0]||void 0===c[0]?!0:!1})};a["boolean"]=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return f.toBoolean(c[0])})};a.constrain=function(a,h){return b(a,h,function(a,b,g){f.pcCheck(g,3,3);a=f.toNumber(g[1]);b=f.toNumber(g[2]);if(f.isArray(g[0])){var d=[],h=0;for(g=g[0];h<g.length;h++)d.push(c(g[h],a,b));return d}if(f.isImmutableArray(g[0])){d=[];
for(h=0;h<g[0].length();h++)d.push(c(g[0].get(h),a,b));return d}return c(g[0],a,b)})}}})},"esri/arcade/functions/stats":function(){define(["require","exports","../languageUtils","./fieldStats"],function(b,a,r,f){function k(a,b,c,g){if(1===g.length){if(r.isArray(g[0]))return f.calculateStat(a,g[0],-1);if(r.isImmutableArray(g[0]))return f.calculateStat(a,g[0].toArray(),-1)}return f.calculateStat(a,g,-1)}Object.defineProperty(a,"__esModule",{value:!0});a.registerFunctions=function(a,b){a.stdev=function(a,
f){return b(a,f,function(a,b,c){return k("stdev",a,b,c)})};a.variance=function(a,f){return b(a,f,function(a,b,c){return k("variance",a,b,c)})};a.average=function(a,f){return b(a,f,function(a,b,c){return k("mean",a,b,c)})};a.mean=function(a,f){return b(a,f,function(a,b,c){return k("mean",a,b,c)})};a.sum=function(a,f){return b(a,f,function(a,b,c){return k("sum",a,b,c)})};a.min=function(a,f){return b(a,f,function(a,b,c){return k("min",a,b,c)})};a.max=function(a,f){return b(a,f,function(a,b,c){return k("max",
a,b,c)})};a.distinct=function(a,f){return b(a,f,function(a,b,c){return k("distinct",a,b,c)})};a.count=function(a,f){return b(a,f,function(a,b,c){r.pcCheck(c,1,1);if(r.isArray(c[0])||r.isString(c[0]))return c[0].length;if(r.isImmutableArray(c[0]))return c[0].length();throw Error("Invalid Parameters for Count");})}}})},"esri/arcade/functions/fieldStats":function(){define(["require","exports","../languageUtils"],function(b,a,r){function f(a){for(var b=0,c=0;c<a.length;c++)b+=a[c];return b/a.length}function k(a){for(var b=
f(a),c=0,g=0;g<a.length;g++)c+=Math.pow(b-a[g],2);return c/a.length}Object.defineProperty(a,"__esModule",{value:!0});a.decodeStatType=function(a){switch(a.toLowerCase()){case "distinct":return"distinct";case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};a.calculateStat=function(a,b,c){void 0===c&&(c=1E3);switch(a.toLowerCase()){case "distinct":a:{a=
c;c=[];for(var g={},h=[],d=0;d<b.length;d++){if(void 0!==b[d]&&null!==b[d]&&b[d]!==r.voidOperation){var l=b[d];if(r.isNumber(l)||r.isString(l))void 0===g[l]&&(c.push(l),g[l]=1);else{for(var n=!1,t=0;t<h.length;t++)!0===r.equalityTest(h[t],l)&&(n=!0);!1===n&&(h.push(l),c.push(l))}}if(c.length>=a&&-1!==a){b=c;break a}}b=c}return b;case "avg":case "mean":return f(r.toNumberArray(b));case "min":return Math.min.apply(Math,r.toNumberArray(b));case "sum":b=r.toNumberArray(b);for(c=a=0;c<b.length;c++)a+=
b[c];return a;case "max":return Math.max.apply(Math,r.toNumberArray(b));case "stdev":case "stddev":return Math.sqrt(k(r.toNumberArray(b)));case "var":case "variance":return k(r.toNumberArray(b));case "count":return b.length}return 0}})},"esri/arcade/functions/string":function(){define(["require","exports","../Feature","../languageUtils"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});a.registerFunctions=function(a,b){a.trim=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,
1,1);return f.toString(c[0]).trim()})};a.upper=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return f.toString(c[0]).toUpperCase()})};a.proper=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,2);a=1;2===c.length&&"firstword"===f.toString(c[1]).toLowerCase()&&(a=2);b=/\s/;c=f.toString(c[0]);for(var d="",g=!0,h=0;h<c.length;h++){var k=c[h];b.test(k)?1===a&&(g=!0):k.toUpperCase()!==k.toLowerCase()&&(g?(k=k.toUpperCase(),g=!1):k=k.toLowerCase());d+=k}return d})};a.lower=function(a,
c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);return f.toString(c[0]).toLowerCase()})};a.guid=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,0,1);if(0<c.length)switch(f.toString(c[0]).toLowerCase()){case "digits":return f.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return f.generateUUID();case "digits-hyphen-parentheses":return"("+f.generateUUID()+")"}return"{"+f.generateUUID()+"}"})};a.console=function(a,c){return b(a,c,function(b,
c,d){0!==d.length&&(1===d.length?a.console(f.toString(d[0])):a.console(f.toString(d)));return f.voidOperation})};a.mid=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,3);a=f.toNumber(c[1]);if(isNaN(a))return"";0>a&&(a=0);if(2===c.length)return f.toString(c[0]).substr(a);b=f.toNumber(c[2]);if(isNaN(b))return"";0>b&&(b=0);return f.toString(c[0]).substr(a,b)})};a.find=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,3);a=0;if(2<c.length){a=f.toNumber(f.defaultUndefined(c[2],0));if(isNaN(a))return-1;
0>a&&(a=0)}return f.toString(c[1]).indexOf(f.toString(c[0]),a)})};a.left=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,2);a=f.toNumber(c[1]);if(isNaN(a))return"";0>a&&(a=0);return f.toString(c[0]).substr(0,a)})};a.right=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,2);a=f.toNumber(c[1]);if(isNaN(a))return"";0>a&&(a=0);return f.toString(c[0]).substr(-1*a,a)})};a.split=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,4);a=f.toNumber(f.defaultUndefined(c[2],-1));b=f.toBoolean(f.defaultUndefined(c[3],
!1));-1===a||null===a||!0===b?c=f.toString(c[0]).split(f.toString(c[1])):(isNaN(a)&&(a=-1),-1>a&&(a=-1),c=f.toString(c[0]).split(f.toString(c[1]),a));if(!1===b)return c;b=[];for(var d=0;d<c.length&&!(-1!==a&&b.length>=a);d++)""!==c[d]&&void 0!==c[d]&&b.push(c[d]);return b})};a.text=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,2);return f.toStringExplicit(c[0],c[1])})};a.concatenate=function(a,c){return b(a,c,function(a,b,c){a=[];if(1>c.length)return"";if(f.isArray(c[0])){b=f.defaultUndefined(c[2],
"");for(var d=0;d<c[0].length;d++)a[d]=f.toStringExplicit(c[0][d],b);return 1<c.length?a.join(c[1]):a.join("")}if(f.isImmutableArray(c[0])){b=f.defaultUndefined(c[2],"");for(d=0;d<c[0].length();d++)a[d]=f.toStringExplicit(c[0].get(d),b);return 1<c.length?a.join(c[1]):a.join("")}for(d=0;d<c.length;d++)a[d]=f.toStringExplicit(c[d]);return a.join("")})};a.reverse=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,1,1);if(f.isArray(c[0]))return a=c[0].slice(0),a.reverse(),a;if(f.isImmutableArray(c[0]))return a=
c[0].toArray().slice(0),a.reverse(),a;throw Error("Invalid Parameter");})};a.replace=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,3,4);a=f.toString(c[0]);b=f.toString(c[1]);var d=f.toString(c[2]);return(4===c.length?f.toBoolean(c[3]):1)?f.multiReplace(a,b,d):a.replace(b,d)})};a.domainname=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,2,4);if(c[0]instanceof r)return c[0].domainValueLookup(f.toString(c[1]),c[2],void 0===c[3]?void 0:f.toNumber(c[3]));throw Error("Invalid Parameter");
})};a.domaincode=function(a,c){return b(a,c,function(a,b,c){f.pcCheck(c,3,4);if(c[0]instanceof r)return c[0].domainCodeLookup(f.toString(c[1]),c[2],void 0===c[3]?void 0:f.toNumber(c[3]));throw Error("Invalid Parameter");})}}})},"esri/arcade/arcadeRuntime":function(){define("require exports ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ./languageUtils ./treeAnalysis ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y,e,p,x){function F(a,b){for(var c=[],d=0;d<b.arguments.length;d++)c.push(C(a,b.arguments[d]));return c}function G(a,b,c){try{return c(a,b,F(a,b))}catch(xa){throw xa;}}function C(a,b){try{switch(b.type){case "EmptyStatement":return c.voidOperation;case "VariableDeclarator":var d=null===b.init?null:C(a,b.init);d===c.voidOperation&&(d=null);var e=b.id.name.toLowerCase();null!==a.localScope?a.localScope[e]={value:d,valueset:!0,node:b.init}:a.globalScope[e]=
{value:d,valueset:!0,node:b.init};return c.voidOperation;case "VariableDeclaration":for(var h=0;h<b.declarations.length;h++)C(a,b.declarations[h]);return c.voidOperation;case "BlockStatement":var l;a:{for(var m=c.voidOperation,h=0;h<b.body.length;h++)if(m=C(a,b.body[h]),m instanceof c.ReturnResult||m===c.breakResult||m===c.continueResult){l=m;break a}l=m}return l;case "FunctionDeclaration":var n=b.id.name.toLowerCase();a.globalScope[n]={valueset:!0,node:null,value:new k(b,a)};return c.voidOperation;
case "ReturnStatement":var p;if(null===b.argument)p=new c.ReturnResult(c.voidOperation);else{var t=C(a,b.argument);p=new c.ReturnResult(t)}return p;case "IfStatement":var v;if("AssignmentExpression"===b.test.type||"UpdateExpression"===b.test.type)throw Error(g.nodeErrorMessage(b.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var q=C(a,b.test);if(!0===q)v=C(a,b.consequent);else if(!1===q)v=null!==b.alternate?C(a,b.alternate):c.voidOperation;else throw Error(g.nodeErrorMessage(b,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));
return v;case "ExpressionStatement":var w;if("AssignmentExpression"===b.expression.type||"UpdateExpression"===b.expression.type)w=C(a,b.expression);else{var z=C(a,b.expression);w=z===c.voidOperation?c.voidOperation:new c.ImplicitResult(z)}return w;case "AssignmentExpression":var x;var y=C(a,b.right),h=null,A="";if("MemberExpression"===b.left.type){h=C(a,b.left.object);A=!0===b.left.computed?C(a,b.left.property):b.left.property.name;if(c.isArray(h))if(c.isNumber(A)){0>A&&(A=h.length+A);if(0>A||A>h.length)throw Error("Assignment outside of array bounds");
if(A===h.length&&"\x3d"!==b.operator)throw Error("Invalid Parameter");h[A]=E(y,b.operator,h[A],b)}else throw Error("Invalid Parameter");else if(h instanceof r){if(!1===c.isString(A))throw Error("Dictionary accessor must be a string");if(!0===h.hasField(A))h.setField(A,E(y,b.operator,h.field(A),b));else{if("\x3d"!==b.operator)throw Error("Invalid Parameter");h.setField(A,E(y,b.operator,null,b))}}else if(h instanceof f){if(!1===c.isString(A))throw Error("Feature accessor must be a string");if(!0===
h.hasField(A))h.setField(A,E(y,b.operator,h.field(A),b));else{if("\x3d"!==b.operator)throw Error("Invalid Parameter");h.setField(A,E(y,b.operator,null,b))}}else{if(c.isImmutableArray(h))throw Error("Array is Immutable");throw Error("Invalid Parameter");}x=c.voidOperation}else if(h=b.left.name.toLowerCase(),null!==a.localScope&&void 0!==a.localScope[h])a.localScope[h]={value:E(y,b.operator,a.localScope[h].value,b),valueset:!0,node:b.right},x=c.voidOperation;else if(void 0!==a.globalScope[h])a.globalScope[h]=
{value:E(y,b.operator,a.globalScope[h].value,b),valueset:!0,node:b.right},x=c.voidOperation;else throw Error("Variable not recognised");return x;case "UpdateExpression":var B;var ha,h=null,A="";if("MemberExpression"===b.argument.type){h=C(a,b.argument.object);A=!0===b.argument.computed?C(a,b.argument.property):b.argument.property.name;if(c.isArray(h))if(c.isNumber(A)){0>A&&(A=h.length+A);if(0>A||A>=h.length)throw Error("Assignment outside of array bounds");ha=c.toNumber(h[A]);h[A]="++"===b.operator?
ha+1:ha-1}else throw Error("Invalid Parameter");else if(h instanceof r){if(!1===c.isString(A))throw Error("Dictionary accessor must be a string");if(!0===h.hasField(A))ha=c.toNumber(h.field(A)),h.setField(A,"++"===b.operator?ha+1:ha-1);else throw Error("Invalid Parameter");}else if(h instanceof f){if(!1===c.isString(A))throw Error("Feature accessor must be a string");if(!0===h.hasField(A))ha=c.toNumber(h.field(A)),h.setField(A,"++"===b.operator?ha+1:ha-1);else throw Error("Invalid Parameter");}else{if(c.isImmutableArray(h))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}B=!1===b.prefix?ha:"++"===b.operator?ha+1:ha-1}else if(h=b.argument.name.toLowerCase(),null!==a.localScope&&void 0!==a.localScope[h])ha=c.toNumber(a.localScope[h].value),a.localScope[h]={value:"++"===b.operator?ha+1:ha-1,valueset:!0,node:b},B=!1===b.prefix?ha:"++"===b.operator?ha+1:ha-1;else if(void 0!==a.globalScope[h])ha=c.toNumber(a.globalScope[h].value),a.globalScope[h]={value:"++"===b.operator?ha+1:ha-1,valueset:!0,node:b},B=!1===b.prefix?ha:"++"===b.operator?
ha+1:ha-1;else throw Error("Variable not recognised");return B;case "BreakStatement":return c.breakResult;case "ContinueStatement":return c.continueResult;case "ForStatement":null!==b.init&&C(a,b.init);A={testResult:!0,lastAction:c.voidOperation};do b:{x=a;y=b;B=A;if(null!==y.test){B.testResult=C(x,y.test);if(!1===B.testResult)break b;if(!0!==B.testResult)throw Error(g.nodeErrorMessage(y,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}B.lastAction=C(x,y.body);B.lastAction===c.breakResult?B.testResult=
!1:B.lastAction instanceof c.ReturnResult?B.testResult=!1:null!==y.update&&C(x,y.update)}while(!0===A.testResult);h=A.lastAction instanceof c.ReturnResult?A.lastAction:c.voidOperation;return h;case "ForInStatement":return O(a,b);case "Identifier":return la(a,b);case "MemberExpression":return da(a,b);case "Literal":return b.value;case "ThisExpression":throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "CallExpression":return Y(a,b);case "UnaryExpression":return ga(a,b);case "BinaryExpression":return T(a,
b);case "LogicalExpression":return M(a,b);case "ConditionalExpression":throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{for(h=[],A=0;A<b.elements.length;A++){var Aa=C(a,b.elements[A]);if(c.isFunctionParameter(Aa))throw Error(g.nodeErrorMessage(b,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));Aa===c.voidOperation?h.push(null):h.push(Aa)}}catch(Qa){throw Qa;}return h;case "ObjectExpression":h={};for(A=0;A<b.properties.length;A++){var G=C(a,b.properties[A]);if(c.isFunctionParameter(G.value))throw Error("Illegal Argument");
if(!1===c.isString(G.key))throw Error("Illegal Argument");h[G.key.toString()]=G.value===c.voidOperation?null:G.value}var F=new r(h);F.immutable=!1;return F;case "Property":return{key:"Identifier"===b.key.type?b.key.name:C(a,b.key),value:C(a,b.value)};case "Array":throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTED"));default:throw Error(g.nodeErrorMessage(b,"RUNTIME","UNREOGNISED"));}}catch(Qa){throw Qa;}}function O(a,b){var d=C(a,b.right);"VariableDeclaration"===b.left.type&&C(a,b.left);var e=
null,h="VariableDeclaration"===b.left.type?b.left.declarations[0].id.name:b.left.name;null!==a.localScope&&void 0!==a.localScope[h]&&(e=a.localScope[h]);null===e&&void 0!==a.globalScope[h]&&(e=a.globalScope[h]);if(null===e)throw Error(g.nodeErrorMessage(b,"RUNTIME","VARIABLENOTDECLARED"));if(c.isArray(d)||c.isString(d)){for(var d=d.length,k=0;k<d&&(e.value=k,h=C(a,b.body),h!==c.breakResult);k++)if(h instanceof c.ReturnResult)return h;return c.voidOperation}if(c.isImmutableArray(d)){for(k=0;k<d.length()&&
(e.value=k,h=C(a,b.body),h!==c.breakResult);k++)if(h instanceof c.ReturnResult)return h;return c.voidOperation}if(d instanceof r||d instanceof f)for(d=d.keys(),k=0;k<d.length&&(e.value=d[k],h=C(a,b.body),h!==c.breakResult);k++){if(h instanceof c.ReturnResult)return h}else return c.voidOperation}function E(a,b,d,e){switch(b){case "\x3d":return a===c.voidOperation?null:a;case "/\x3d":return c.toNumber(d)/c.toNumber(a);case "*\x3d":return c.toNumber(d)*c.toNumber(a);case "-\x3d":return c.toNumber(d)-
c.toNumber(a);case "+\x3d":return c.isString(d)||c.isString(a)?c.toString(d)+c.toString(a):c.toNumber(d)+c.toNumber(a);case "%\x3d":return c.toNumber(d)%c.toNumber(a);default:throw Error(g.nodeErrorMessage(e,"RUNTIME","OPERATORNOTRECOGNISED"));}}function P(a,b,d,e){b=b.toLowerCase();switch(b){case "hasz":return a=a.hasZ,void 0===a?!1:a;case "hasm":return a=a.hasM,void 0===a?!1:a;case "spatialreference":return b=a.spatialReference._arcadeCacheId,void 0===b&&(d=!0,Object.freeze&&Object.isFrozen(a.spatialReference)&&
(d=!1),d&&(Q++,b=a.spatialReference._arcadeCacheId=Q)),a=new r({wkt:a.spatialReference.wkt,wkid:a.spatialReference.wkid}),void 0!==b&&(a._arcadeCacheId="SPREF"+b.toString()),a}switch(a.type){case "extent":switch(b){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return a=a[b],void 0!==a?a:null;case "type":return"Extent"}break;case "polygon":switch(b){case "rings":return b=c.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===
b&&(Q++,b=Q,c.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new n(a.rings,a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polygon"}break;case "point":switch(b){case "x":case "y":case "z":case "m":return void 0!==a[b]?a[b]:null;case "type":return"Point"}break;case "polyline":switch(b){case "paths":return b=c.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(Q++,b=Q,c.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",
b)),a=new n(a.paths,a.spatialReference,!0===a.hasZ,!0===a.hasM,b);case "type":return"Polyline"}break;case "multipoint":switch(b){case "points":return b=c.isVersion4?a.cache._arcadeCacheId:a.getCacheValue("_arcadeCacheId"),void 0===b&&(Q++,b=Q,c.isVersion4?a.cache._arcadeCacheId=b:a.setCacheValue("_arcadeCacheId",b)),a=new l(a.points,a.spatialReference,!0===a.hasZ,!0===a.hasM,b,1);case "type":return"Multipoint"}}throw Error(g.nodeErrorMessage(e,"RUNTIME","PROPERTYNOTFOUND"));}function da(a,b){try{var d=
C(a,b.object);if(null===d)throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));if(!1===b.computed){if(d instanceof r||d instanceof f)return d.field(b.property.name);if(d instanceof w)return P(d,b.property.name,a,b);throw Error(g.nodeErrorMessage(b,"RUNTIME","INVALIDTYPE"));}var e=C(a,b.property);if(d instanceof r||d instanceof f){if(c.isString(e))return d.field(e)}else if(d instanceof w){if(c.isString(e))return P(d,e,a,b)}else if(c.isArray(d)){if(c.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){0>
e&&(e=d.length+e);if(e>=d.length||0>e)throw Error(g.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return d[e]}}else if(c.isString(d)){if(c.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){0>e&&(e=d.length+e);if(e>=d.length||0>e)throw Error(g.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return d[e]}}else if(c.isImmutableArray(d)&&c.isNumber(e)&&isFinite(e)&&Math.floor(e)===e){0>e&&(e=d.length()+e);if(e>=d.length()||0>e)throw Error(g.nodeErrorMessage(b,"RUNTIME","OUTOFBOUNDS"));return d.get(e)}throw Error(g.nodeErrorMessage(b,
"RUNTIME","INVALIDTYPE"));}catch(Oa){throw Oa;}}function ga(a,b){try{var d=C(a,b.argument);if(c.isBoolean(d)){if("!"===b.operator)return!d;if("-"===b.operator)return-1*c.toNumber(d);if("+"===b.operator)return 1*c.toNumber(d);throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===b.operator)return-1*c.toNumber(d);if("+"===b.operator)return 1*c.toNumber(d);throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(xa){throw xa;}}function T(a,b){try{var d=
[C(a,b.left),C(a,b.right)],e=d[0],f=d[1];switch(b.operator){case "\x3d\x3d":return c.equalityTest(e,f);case "\x3d":return c.equalityTest(e,f);case "!\x3d":return!c.equalityTest(e,f);case "\x3c":return c.greaterThanLessThan(e,f,b.operator);case "\x3e":return c.greaterThanLessThan(e,f,b.operator);case "\x3c\x3d":return c.greaterThanLessThan(e,f,b.operator);case "\x3e\x3d":return c.greaterThanLessThan(e,f,b.operator);case "+":return c.isString(e)||c.isString(f)?c.toString(e)+c.toString(f):c.toNumber(e)+
c.toNumber(f);case "-":return c.toNumber(e)-c.toNumber(f);case "*":return c.toNumber(e)*c.toNumber(f);case "/":return c.toNumber(e)/c.toNumber(f);case "%":return c.toNumber(e)%c.toNumber(f);default:throw Error(g.nodeErrorMessage(b,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(Ga){throw Ga;}}function M(a,b){try{if("AssignmentExpression"===b.left.type||"UpdateExpression"===b.left.type)throw Error(g.nodeErrorMessage(b.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===b.right.type||
"UpdateExpression"===b.right.type)throw Error(g.nodeErrorMessage(b.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));var d=C(a,b.left);if(c.isBoolean(d))switch(b.operator){case "||":if(!0===d)return d;var e=C(a,b.right);if(c.isBoolean(e))return e;throw Error(g.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));case "\x26\x26":if(!1===d)return d;e=C(a,b.right);if(c.isBoolean(e))return e;throw Error(g.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));default:throw Error(g.nodeErrorMessage(b,"RUNTIME","ONLYORORAND"));
}else throw Error(g.nodeErrorMessage(b,"RUNTIME","ONLYBOOLEAN"));}catch(Oa){throw Oa;}}function la(a,b){var c;try{var d=b.name.toLowerCase();if(null!==a.localScope&&void 0!==a.localScope[d])return c=a.localScope[d],!0!==c.valueset&&(c.value=C(a,c.node),c.valueset=!0),c.value;if(void 0!==a.globalScope[d])return c=a.globalScope[d],!0!==c.valueset&&(c.value=C(a,c.node),c.valueset=!0),c.value;throw Error(g.nodeErrorMessage(b,"RUNTIME","VARIABLENOTFOUND"));}catch(Oa){throw Oa;}}function Y(a,b){try{if("Identifier"!==
b.callee.type)throw Error(g.nodeErrorMessage(b,"RUNTIME","ONLYNODESSUPPORTED"));if(null!==a.localScope&&void 0!==a.localScope[b.callee.name.toLowerCase()]){var d=a.localScope[b.callee.name.toLowerCase()];if(d.value instanceof c.NativeFunction)return d.value.fn(a,b);if(d.value instanceof k)return Z(a,b,d.value.definition);throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTAFUNCTION"));}if(void 0!==a.globalScope[b.callee.name.toLowerCase()]){d=a.globalScope[b.callee.name.toLowerCase()];if(d.value instanceof
c.NativeFunction)return d.value.fn(a,b);if(d.value instanceof k)return Z(a,b,d.value.definition);throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTAFUNCTION"));}throw Error(g.nodeErrorMessage(b,"RUNTIME","NOTFOUND"));}catch(xa){throw xa;}}function ma(a){return null==a?"":c.isArray(a)||c.isImmutableArray(a)?"Array":c.isDate(a)?"Date":c.isString(a)?"String":c.isBoolean(a)?"Boolean":c.isNumber(a)?"Number":a instanceof r?"Dictionary":a instanceof f?"Feature":a instanceof y?"Point":a instanceof e?"Polygon":
a instanceof p?"Polyline":a instanceof m?"Multipoint":a instanceof A?"Extent":c.isFunctionParameter(a)?"Function":a===c.voidOperation?"":"number"===typeof a&&isNaN(a)?"Number":"Unrecognised Type"}function U(a,b,d,e){try{var f=C(a,b.arguments[d]);if(c.equalityTest(f,e))return C(a,b.arguments[d+1]);var g=b.arguments.length-d;return 1===g?C(a,b.arguments[d]):2===g?null:3===g?C(a,b.arguments[d+2]):U(a,b,d+2,e)}catch(Ka){throw Ka;}}function H(a,b,d,e){try{if(!0===e)return C(a,b.arguments[d+1]);if(3===
b.arguments.length-d)return C(a,b.arguments[d+2]);var f=C(a,b.arguments[d+2]);if(!1===c.isBoolean(f))throw Error("WHEN needs boolean test conditions");return H(a,b,d+2,f)}catch(Ga){throw Ga;}}function X(a,b){var c=a.length,d=Math.floor(c/2);if(0===c)return[];if(1===c)return[a[0]];var e=X(a.slice(0,d),b);a=X(a.slice(d,c),b);for(c=[];0<e.length||0<a.length;)0<e.length&&0<a.length?(d=b(e[0],a[0]),isNaN(d)&&(d=0),0>=d?(c.push(e[0]),e=e.slice(1)):(c.push(a[0]),a=a.slice(1))):0<e.length?(c.push(e[0]),e=
e.slice(1)):0<a.length&&(c.push(a[0]),a=a.slice(1));return c}function J(a,b,d){try{var e=a.body;if(d.length!==a.params.length)throw Error("Invalid Parameter calls to function.");for(var f=0;f<d.length;f++)b.localScope[a.params[f].name.toLowerCase()]={value:d[f],valueset:!0,node:null};var g=C(b,e);if(g instanceof c.ReturnResult)return g.value;if(g===c.breakResult)throw Error("Cannot Break from a Function");if(g===c.continueResult)throw Error("Cannot Continue from a Function");return g instanceof c.ImplicitResult?
g.value:g}catch(Ka){throw Ka;}}function Z(a,b,c){return G(a,b,function(b,d,e){b={spatialReference:a.spatialReference,applicationCache:void 0===a.applicationCache?null:a.applicationCache,globalScope:a.globalScope,depthCounter:a.depthCounter+1,console:a.console,localScope:{}};if(64<b.depthCounter)throw Error("Exceeded maximum function depth");return J(c,b,e)})}function W(a){return function(){var b={applicationCache:void 0===a.context.applicationCache?null:a.context.applicationCache,spatialReference:a.context.spatialReference,
console:a.context.console,localScope:{},depthCounter:a.context.depthCounter+1,globalScope:a.context.globalScope};if(64<b.depthCounter)throw Error("Exceeded maximum function depth");return J(a.definition,b,arguments)}}function ba(a){console.log(a)}Object.defineProperty(a,"__esModule",{value:!0});var Q=0,V={};h.registerFunctions(V,G);B.registerFunctions(V,G);z.registerFunctions(V,G);d.registerFunctions(V,G);t.registerFunctions(V,G);v.registerFunctions(V,G);V["typeof"]=function(a,b){return G(a,b,function(a,
b,d){c.pcCheck(d,1,1);a=ma(d[0]);if("Unrecognised Type"===a)throw Error("Unrecognised Type");return a})};V.iif=function(a,b){try{c.pcCheck(null===b.arguments?[]:b.arguments,3,3);var d=C(a,b.arguments[0]);if(!1===c.isBoolean(d))throw Error("IF Function must have a boolean test condition");return!0===d?C(a,b.arguments[1]):C(a,b.arguments[2])}catch(xa){throw xa;}};V.decode=function(a,b){try{if(2>b.arguments.length)throw Error("Missing Parameters");if(2===b.arguments.length)return C(a,b.arguments[1]);
if(0===(b.arguments.length-1)%2)throw Error("Must have a default value result.");var c=C(a,b.arguments[0]);return U(a,b,1,c)}catch(xa){throw xa;}};V.when=function(a,b){try{if(3>b.arguments.length)throw Error("Missing Parameters");if(0===b.arguments.length%2)throw Error("Must have a default value result.");var d=C(a,b.arguments[0]);if(!1===c.isBoolean(d))throw Error("WHEN needs boolean test conditions");return H(a,b,0,d)}catch(xa){throw xa;}};V.top=function(a,b){return G(a,b,function(a,b,d){c.pcCheck(d,
2,2);if(c.isArray(d[0]))return c.toNumber(d[1])>=d[0].length?d[0].slice(0):d[0].slice(0,c.toNumber(d[1]));if(c.isImmutableArray(d[0]))return c.toNumber(d[1])>=d[0].length()?d[0].slice(0):d[0].slice(0,c.toNumber(d[1]));throw Error("Top cannot accept this parameter type");})};V.first=function(a,b){return G(a,b,function(a,b,d){c.pcCheck(d,1,1);return c.isArray(d[0])?0===d[0].length?null:d[0][0]:c.isImmutableArray(d[0])?0===d[0].length()?null:d[0].get(0):null})};V.sort=function(a,b){return G(a,b,function(a,
b,d){c.pcCheck(d,1,2);a=d[0];c.isImmutableArray(a)&&(a=a.toArray());if(!1===c.isArray(a))throw Error("Illegal Argument");if(1<d.length){if(!1===c.isFunctionParameter(d[1]))throw Error("Illegal Argument");var e=W(d[1]);a=X(a,function(a,b){return e(a,b)})}else{if(0===a.length)return[];d={};for(b=0;b<a.length;b++){var f=ma(a[b]);""!==f&&(d[f]=!0)}if(!0===d.Array||!0===d.Dictionary||!0===d.Feature||!0===d.Point||!0===d.Polygon||!0===d.Polyline||!0===d.Multipoint||!0===d.Extent||!0===d.Function)return a.slice(0);
b=0;var f="",g;for(g in d)b++,f=g;a=1<b||"String"===f?X(a,function(a,b){if(null===a||void 0===a||a===c.voidOperation)return null===b||void 0===b||b===c.voidOperation?0:1;if(null===b||void 0===b||b===c.voidOperation)return-1;a=c.toString(a);b=c.toString(b);return a<b?-1:a===b?0:1}):"Number"===f?X(a,function(a,b){return a-b}):"Boolean"===f?X(a,function(a,b){return a===b?0:b?-1:1}):"Date"===f?X(a,function(a,b){return b-a}):a.slice(0)}return a})};for(var na in V)V[na]={value:new c.NativeFunction(V[na]),
valueset:!0,node:null};var pa=function(){};pa.prototype=V;pa.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};pa.prototype.pi={value:Math.PI,valueset:!0,node:null};a.functionHelper={fixSpatialReference:c.fixSpatialReference,parseArguments:F,standardFunction:G};a.extend=function(a){for(var b={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:G,evaluateIdentifier:la,arcadeCustomFunctionHandler:W},d=0;d<a.length;d++)a[d].registerFunctions(b);for(var e in b.functions)V[e]=
{value:new c.NativeFunction(b.functions[e]),valueset:!0,node:null},pa.prototype[e]=V[e];for(d=0;d<b.signatures.length;d++)g.addFunctionDeclaration(b.signatures[d],"f")};a.executeScript=function(a,b,d){d||(d=new x(102100));var e=b.vars,g=b.customfunctions,h=new pa;e||(e={});g||(g={});var l=new r({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});l.immutable=!1;h.textformatting={value:l,valueset:!0,node:null};for(var m in g)h[m]={value:new c.NativeFunction(g[m]),
native:!0,valueset:!0,node:null};for(m in e)h[m]=e[m]&&"esri.Graphic"===e[m].declaredClass?{value:f.createFromGraphic(e[m]),valueset:!0,node:null}:{value:e[m],valueset:!0,node:null};a=C({spatialReference:d,globalScope:h,localScope:null,console:b.console?b.console:ba,depthCounter:1,applicationCache:void 0===b.applicationCache?null:b.applicationCache},a.body[0].body);a instanceof c.ReturnResult&&(a=a.value);a instanceof c.ImplicitResult&&(a=a.value);a===c.voidOperation&&(a=null);if(a===c.breakResult)throw Error("Cannot return BREAK");
if(a===c.continueResult)throw Error("Cannot return CONTINUE");if(a instanceof k)throw Error("Cannot return FUNCTION");if(a instanceof c.NativeFunction)throw Error("Cannot return FUNCTION");return a};a.extractFieldLiterals=function(a,b){void 0===b&&(b=!1);return g.findFieldLiterals(a,b)};a.validateScript=function(a,b){return g.validateScript(a,b,"simple")};a.referencesMember=function(a,b){return g.referencesMember(a,b)};a.referencesFunction=function(a,b){return g.referencesFunction(a,b)};a.findFunctionCalls=
function(a){return g.findFunctionCalls(a,!1)}})},"esri/arcade/parser":function(){define(["require","exports","./treeAnalysis","./lib/esprima"],function(b,a,r,f){Object.defineProperty(a,"__esModule",{value:!0});a.parseScript=function(a){a=f.parse("function _() { "+a+"\n}");if(null===a.body||void 0===a.body)throw Error("No formula provided.");if(0===a.body.length)throw Error("No formula provided.");if(0===a.body.length)throw Error("No formula provided.");if("BlockStatement"!==a.body[0].body.type)throw Error("Invalid formula content.");
var b=r.validateLanguage(a);if(""!==b)throw Error(b);return a};a.scriptCheck=function(a,b,l,c){var g=[];try{var h=f.parse("function _() { "+a+"\n}",{tolerant:!0,loc:!0}),d=h.errors;if(0<d.length)for(var k=0;k<d.length;k++)g.push({line:d[k].lineNumber,character:d[k].column,reason:d[k].description});var n=r.checkScript(h,b,l,c);for(b=0;b<n.length;b++)g.push(n[b])}catch(t){try{"Unexpected token }"===t.description?(t.index=("function _() { "+a+"\n}").length-1,g.push({line:t.lineNumber,character:t.column,
reason:"Unexpected end of script"})):g.push({line:t.lineNumber,character:t.column,reason:t.description})}catch(B){}}return g};a.extractFieldLiterals=function(a,b){void 0===b&&(b=!1);return r.findFieldLiterals(a,b)};a.validateScript=function(a,b,f){void 0===f&&(f="full");return r.validateScript(a,b,f)};a.referencesMember=function(a,b){return r.referencesMember(a,b)};a.referencesFunction=function(a,b){return r.referencesFunction(a,b)}})},"esri/arcade/lib/esprima":function(){(function(b,a){"function"===
typeof define&&define.amd?define(["exports"],a):"undefined"!==typeof exports?a(exports):a(b.esprima={})})(this,function(b){function a(a,b){if(!a)throw Error("ASSERT: "+b);}function r(a){return 48<=a&&57>=a}function f(a){return 0<="0123456789abcdefABCDEF".indexOf(a)}function k(a){return 0<="01234567".indexOf(a)}function n(a){return 10===a||13===a||8232===a||8233===a}function l(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||92===a||128<=a&&bb.NonAsciiIdentifierStart.test(String.fromCharCode(a))}
function c(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=a||92===a||128<=a&&bb.NonAsciiIdentifierPart.test(String.fromCharCode(a))}function g(a){a=a.toLowerCase();switch(a.length){case 2:return"if"===a||"in"===a;case 3:return"var"===a||"for"===a;case 4:return"else"===a;case 5:return"break"===a;case 6:return"return"===a;case 8:return"function"===a.toLowerCase()||"continue"===a;default:return!1}}function h(b,c,d,e,f){a("number"===typeof d,"Comment must have valid position");ca.lastCommentStart>=
d||(ca.lastCommentStart=d,b={type:b,value:c},L.range&&(b.range=[d,e]),L.loc&&(b.loc=f),L.comments.push(b),L.attachComment&&(L.leadingComments.push(b),L.trailingComments.push(b)))}function d(a){var b,c,d;b=D-a;for(c={start:{line:ea,column:D-ka-a}};D<sa;)if(d=K.charCodeAt(D),++D,n(d)){L.comments&&(a=K.slice(b+a,D-1),c.end={line:ea,column:D-ka-1},h("Line",a,b,D-1,c));13===d&&10===K.charCodeAt(D)&&++D;++ea;ka=D;return}L.comments&&(a=K.slice(b+a,D),c.end={line:ea,column:D-ka},h("Line",a,b,D,c))}function v(){var a,
b;for(b=0===D;D<sa;)if(a=K.charCodeAt(D),32===a||9===a||11===a||12===a||160===a||5760<=a&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(a))++D;else if(n(a))++D,13===a&&10===K.charCodeAt(D)&&++D,++ea,ka=D,b=!0;else if(47===a)if(a=K.charCodeAt(D+1),47===a)++D,++D,d(2),b=!0;else if(42===a){++D;++D;a:{var c=a=void 0,e=void 0,e=void 0;L.comments&&(a=D-2,c={start:{line:ea,column:D-ka-2}});for(;D<sa;)if(e=K.charCodeAt(D),n(e))13===e&&10===K.charCodeAt(D+
1)&&++D,++ea,++D,ka=D,D>=sa&&Y();else{if(42===e&&47===K.charCodeAt(D+1)){++D;++D;L.comments&&(e=K.slice(a+2,D-2),c.end={line:ea,column:D-ka},h("Block",e,a,D,c));break a}++D}Y()}}else break;else if(b&&45===a)if(45===K.charCodeAt(D+1)&&62===K.charCodeAt(D+2))D+=3,d(3);else break;else if(60===a)if("!--"===K.slice(D+1,D+4))++D,++D,++D,++D,d(4);else break;else break}function z(a){var b,c,d=0;b="u"===a?4:2;for(a=0;a<b;++a)if(D<sa&&f(K[D]))c=K[D++],d=16*d+"0123456789abcdef".indexOf(c.toLowerCase());else return"";
return String.fromCharCode(d)}function t(){var a,b;a=K.charCodeAt(D++);b=String.fromCharCode(a);92===a&&(117!==K.charCodeAt(D)&&Y(),++D,(a=z("u"))&&"\\"!==a&&l(a.charCodeAt(0))||Y(),b=a);for(;D<sa;){a=K.charCodeAt(D);if(!c(a))break;++D;b+=String.fromCharCode(a);92===a&&(b=b.substr(0,b.length-1),117!==K.charCodeAt(D)&&Y(),++D,(a=z("u"))&&"\\"!==a&&c(a.charCodeAt(0))||Y(),b+=a)}return b}function B(){var a=D,b=K.charCodeAt(D),c,d=K[D];switch(b){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++D,
L.tokenize&&(40===b?L.openParenToken=L.tokens.length:123===b&&(L.openCurlyToken=L.tokens.length)),{type:R.Punctuator,value:String.fromCharCode(b),lineNumber:ea,lineStart:ka,start:a,end:D};default:if(c=K.charCodeAt(D+1),61===c)switch(b){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return D+=2,{type:R.Punctuator,value:String.fromCharCode(b)+String.fromCharCode(c),lineNumber:ea,lineStart:ka,start:a,end:D};case 33:case 61:return D+=2,61===K.charCodeAt(D)&&++D,{type:R.Punctuator,
value:K.slice(a,D),lineNumber:ea,lineStart:ka,start:a,end:D}}}b=K.substr(D,4);if("\x3e\x3e\x3e\x3d"===b)return D+=4,{type:R.Punctuator,value:b,lineNumber:ea,lineStart:ka,start:a,end:D};b=b.substr(0,3);if("\x3e\x3e\x3e"===b||"\x3c\x3c\x3d"===b||"\x3e\x3e\x3d"===b)return D+=3,{type:R.Punctuator,value:b,lineNumber:ea,lineStart:ka,start:a,end:D};b=b.substr(0,2);if(d===b[1]&&0<="+-\x3c\x3e\x26|".indexOf(d)||"\x3d\x3e"===b)return D+=2,{type:R.Punctuator,value:b,lineNumber:ea,lineStart:ka,start:a,end:D};
if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(d))return++D,{type:R.Punctuator,value:d,lineNumber:ea,lineStart:ka,start:a,end:D};Y()}function A(){var b,c,d;d=K[D];a(r(d.charCodeAt(0))||"."===d,"Numeric literal must start with a decimal digit or a decimal point");c=D;b="";if("."!==d){b=K[D++];d=K[D];if("0"===b){if("x"===d||"X"===d){++D;for(b="";D<sa&&f(K[D]);)b+=K[D++];0===b.length&&Y();l(K.charCodeAt(D))&&Y();return{type:R.NumericLiteral,value:parseInt("0x"+b,16),lineNumber:ea,lineStart:ka,start:c,end:D}}if("b"===
d||"B"===d){++D;for(d="";D<sa;){b=K[D];if("0"!==b&&"1"!==b)break;d+=K[D++]}0===d.length&&Y();D<sa&&(b=K.charCodeAt(D),(l(b)||r(b))&&Y());return{type:R.NumericLiteral,value:parseInt(d,2),lineNumber:ea,lineStart:ka,start:c,end:D}}if("o"===d||"O"===d){k(d)?(d=!0,b="0"+K[D++]):(d=!1,++D,b="");for(;D<sa&&k(K[D]);)b+=K[D++];d||0!==b.length||Y();(l(K.charCodeAt(D))||r(K.charCodeAt(D)))&&Y();return{type:R.NumericLiteral,value:parseInt(b,8),octal:d,lineNumber:ea,lineStart:ka,start:c,end:D}}}for(;r(K.charCodeAt(D));)b+=
K[D++];d=K[D]}if("."===d){for(b+=K[D++];r(K.charCodeAt(D));)b+=K[D++];d=K[D]}if("e"===d||"E"===d){b+=K[D++];d=K[D];if("+"===d||"-"===d)b+=K[D++];if(r(K.charCodeAt(D)))for(;r(K.charCodeAt(D));)b+=K[D++];else Y()}l(K.charCodeAt(D))&&Y();return{type:R.NumericLiteral,value:parseFloat(b),lineNumber:ea,lineStart:ka,start:c,end:D}}function w(){aa=null;v();T("Regular Expression language structures not supported")}function m(){v();w()}function y(){var a;a=L.tokens[L.tokens.length-1];if(!a)return m();if("Punctuator"===
a.type){if("]"===a.value)return B();if(")"===a.value)return a=L.tokens[L.openParenToken-1],!a||"Keyword"!==a.type||"if"!==a.value.toLowerCase()&&"while"!==a.value.toLowerCase()&&"for"!==a.value.toLowerCase()&&"with"!==a.value.toLowerCase()?B():m();if("}"===a.value){if(L.tokens[L.openCurlyToken-3]&&"Keyword"===L.tokens[L.openCurlyToken-3].type){if(a=L.tokens[L.openCurlyToken-4],!a)return B()}else if(L.tokens[L.openCurlyToken-4]&&"Keyword"===L.tokens[L.openCurlyToken-4].type){if(a=L.tokens[L.openCurlyToken-
5],!a)return m()}else return B();if(0<=za.indexOf(a.value))return B()}return m()}return"Keyword"===a.type&&"this"!==a.value?m():B()}function e(){var b;v();if(D>=sa)return{type:R.EOF,lineNumber:ea,lineStart:ka,start:D,end:D};b=K.charCodeAt(D);if(l(b)){var d;b=D;if(92===K.charCodeAt(D))d=t();else a:{var e;for(d=D++;D<sa;){e=K.charCodeAt(D);if(92===e){D=d;d=t();break a}if(c(e))++D;else break}d=K.slice(d,D)}return{type:1===d.length?R.Identifier:g(d)?R.Keyword:"null"===d.toLowerCase()?R.NullLiteral:"true"===
d.toLowerCase()||"false"===d.toLowerCase()?R.BooleanLiteral:R.Identifier,value:d,lineNumber:ea,lineStart:ka,start:b,end:D}}if(40===b||41===b||59===b)return B();if(39===b||34===b){var h="",m,p,q;e=!1;var w,x;w=ea;x=ka;b=K[D];a("'"===b||'"'===b,"String literal must starts with a quote");d=D;for(++D;D<sa;)if(m=K[D++],m===b){b="";break}else if("\\"===m)if((m=K[D++])&&n(m.charCodeAt(0)))++ea,"\r"===m&&"\n"===K[D]&&++D,ka=D;else switch(m){case "u":case "x":if("{"===K[D]){++D;p=m=void 0;m=K[D];p=0;for("}"===
m&&Y();D<sa;){m=K[D++];if(!f(m))break;p=16*p+"0123456789abcdef".indexOf(m.toLowerCase())}(1114111<p||"}"!==m)&&Y();m=65535>=p?String.fromCharCode(p):String.fromCharCode((p-65536>>10)+55296,(p-65536&1023)+56320);h+=m}else q=D,(p=z(m))?h+=p:(D=q,h+=m);break;case "n":h+="\n";break;case "r":h+="\r";break;case "t":h+="\t";break;case "b":h+="\b";break;case "f":h+="\f";break;case "v":h+="\x0B";break;default:k(m)?(p="01234567".indexOf(m),0!==p&&(e=!0),D<sa&&k(K[D])&&(e=!0,p=8*p+"01234567".indexOf(K[D++]),
0<="0123".indexOf(m)&&D<sa&&k(K[D])&&(p=8*p+"01234567".indexOf(K[D++]))),h+=String.fromCharCode(p)):h+=m}else if(n(m.charCodeAt(0)))break;else h+=m;""!==b&&Y();return{type:R.StringLiteral,value:h,octal:e,startLineNumber:w,startLineStart:x,lineNumber:ea,lineStart:ka,start:d,end:D}}return 46===b?r(K.charCodeAt(D+1))?A():B():r(b)?A():L.tokenize&&47===b?y():B()}function p(){var a,b,c;v();a={start:{line:ea,column:D-ka}};b=e();a.end={line:ea,column:D-ka};b.type!==R.EOF&&(c=K.slice(b.start,b.end),a={type:Na[b.type],
value:c,range:[b.start,b.end],loc:a},b.regex&&(a.regex={pattern:b.regex.pattern,flags:b.regex.flags}),L.tokens.push(a));return b}function x(){var a;a=aa;D=a.end;ea=a.lineNumber;ka=a.lineStart;aa="undefined"!==typeof L.tokens?p():e();D=a.end;ea=a.lineNumber;ka=a.lineStart;return a}function F(){var a,b,c;a=D;b=ea;c=ka;aa="undefined"!==typeof L.tokens?p():e();D=a;ea=b;ka=c}function G(){this.line=ea;this.column=D-ka}function C(){this.start=new G;this.end=null}function O(a){this.start=a.type===R.StringLiteral?
{line:a.startLineNumber,column:a.start-a.startLineStart}:{line:a.lineNumber,column:a.start-a.lineStart};this.end=null}function E(){D=aa.start;aa.type===R.StringLiteral?(ea=aa.startLineNumber,ka=aa.startLineStart):(ea=aa.lineNumber,ka=aa.lineStart);L.range&&(this.range=[D,0]);L.loc&&(this.loc=new C)}function P(a){L.range&&(this.range=[a.start,0]);L.loc&&(this.loc=new O(a))}function da(){var a,b,c,d;a=D;b=ea;c=ka;v();d=ea!==b;D=a;ea=b;ka=c;return d}function ga(a,b,c){var d=Error("Line "+a+": "+c);d.index=
b;d.lineNumber=a;d.column=b-ka+1;d.description=c;return d}function T(b){var c,d;c=Array.prototype.slice.call(arguments,1);d=b.replace(/%(\d)/g,function(b,d){a(d<c.length,"Message reference must be in range");return c[d]});throw ga(ea,D,d);}function M(b){var c,d;c=Array.prototype.slice.call(arguments,1);d=b.replace(/%(\d)/g,function(b,d){a(d<c.length,"Message reference must be in range");return c[d]});d=ga(ea,D,d);if(L.errors)L.errors.push(d);else throw d;}function la(a,b){var c=oa.UnexpectedToken;
a&&(c=b?b:a.type===R.EOF?oa.UnexpectedEOS:a.type===R.Identifier?oa.UnexpectedIdentifier:a.type===R.NumericLiteral?oa.UnexpectedNumber:a.type===R.StringLiteral?oa.UnexpectedString:oa.UnexpectedToken);c=c.replace("%0",a?a.value:"ILLEGAL");return a&&"number"===typeof a.lineNumber?ga(a.lineNumber,a.start,c):ga(ea,D,c)}function Y(a,b){throw la(a,b);}function ma(a,b){a=la(a,b);if(L.errors)L.errors.push(a);else throw a;}function U(a){var b=x();b.type===R.Punctuator&&b.value===a||Y(b)}function H(){var a;
L.errors?(a=aa,a.type===R.Punctuator&&","===a.value?x():a.type===R.Punctuator&&";"===a.value?(x(),ma(a)):ma(a,oa.UnexpectedToken)):U(",")}function X(a){var b=x();b.type===R.Keyword&&b.value.toLowerCase()===a.toLowerCase()||Y(b)}function J(a){return aa.type===R.Punctuator&&aa.value===a}function Z(a){return aa.type===R.Keyword&&aa.value.toLowerCase()===a.toLowerCase()}function W(){var a;59===K.charCodeAt(D)||J(";")?x():(a=ea,v(),ea===a&&(aa.type===R.EOF||J("}")||Y(aa)))}function ba(a){return a.type===
fa.Identifier||a.type===fa.MemberExpression}function Q(a,b){var c,d=new E;b=ta;c=Ra();ta=b;return d.finishFunctionExpression(null,a,[],c)}function V(){var a,b;a=ta;ta=!0;b=Ia();b=Q(b.params);ta=a;return b}function na(){var a,b=new E;a=x();return a.type===R.StringLiteral||a.type===R.NumericLiteral?(ta&&a.octal&&ma(a,oa.StrictOctalLiteral),b.finishLiteral(a)):b.finishIdentifier(a.value)}function pa(){var a,b,c,d=new E;a=aa;if(a.type===R.Identifier)return b=na(),"get"!==a.value||J(":")||J("(")?"set"!==
a.value||J(":")||J("(")?J(":")?(x(),a=q(),d.finishProperty("init",b,a,!1,!1)):J("(")?(a=V(),d.finishProperty("init",b,a,!0,!1)):d.finishProperty("init",b,b,!1,!0):(b=na(),U("("),a=aa,a.type!==R.Identifier?(U(")"),ma(a),a=Q([])):(c=[Za()],U(")"),a=Q(c,a)),d.finishProperty("set",b,a,!1,!1)):(b=na(),U("("),U(")"),a=Q([]),d.finishProperty("get",b,a,!1,!1));if(a.type===R.EOF||a.type===R.Punctuator)Y(a);else{b=na();if(J(":"))return x(),a=q(),d.finishProperty("init",b,a,!1,!1);if(J("("))return a=V(),d.finishProperty("init",
b,a,!0,!1);Y(x())}}function ha(a){var b=[],c,d,e={},f=String,g=new E;for(!0!==a&&U("{");!J("}");)a=pa(),c=a.key.type===fa.Identifier?a.key.name:f(a.key.value),d="init"===a.kind?Ja.Data:"get"===a.kind?Ja.Get:Ja.Set,c="$"+c,Object.prototype.hasOwnProperty.call(e,c)?(e[c]===Ja.Data?ta&&d===Ja.Data?M(oa.StrictDuplicateProperty):d!==Ja.Data&&M(oa.AccessorDataProperty):d===Ja.Data?M(oa.AccessorDataProperty):e[c]&d&&M(oa.AccessorGetSet),e[c]|=d):e[c]=d,b.push(a),J("}")||H();U("}");return g.finishObjectExpression(b)}
function Aa(){var a,b,c,d;if(J("("))return U("("),J(")")?(x(),b=mb.ArrowParameterPlaceHolder):(++ca.parenthesisCount,b=Ha(),U(")")),b;if(J("[")){b=[];var e=new E;for(U("[");!J("]");)J(",")?(x(),b.push(null)):(b.push(q()),J("]")||U(","));x();return e.finishArrayExpression(b)}if(J("{"))return ha();a=aa.type;d=new E;if(a===R.Identifier)c=d.finishIdentifier(x().value);else if(a===R.StringLiteral||a===R.NumericLiteral)ta&&aa.octal&&ma(aa,oa.StrictOctalLiteral),c=d.finishLiteral(x());else if(a===R.Keyword){if(Z("function")){d=
null;var f;c=[];var g=[],h,k=new E;X("function");J("(")||(d=Za());f=Ia(b);c=f.params;g=f.defaults;a=f.stricted;b=f.firstRestricted;f.message&&(e=f.message);h=ta;f=Ra();ta&&b&&Y(b,e);ta&&a&&ma(a,e);ta=h;return k.finishFunctionExpression(d,c,g,f)}Z("this")?(x(),c=d.finishThisExpression()):Y(x())}else a===R.BooleanLiteral?(b=x(),b.value="true"===b.value.toLowerCase(),c=d.finishLiteral(b)):a===R.NullLiteral?(b=x(),b.value=null,c=d.finishLiteral(b)):J("/")||J("/\x3d")?(c="undefined"!==typeof L.tokens?
d.finishLiteral(m()):d.finishLiteral(w()),F()):Y(x());return c}function ia(){var a=[];U("(");if(!J(")"))for(;D<sa;){a.push(q());if(J(")"))break;H()}U(")");return a}function xa(){U(".");var a,b=new E;a=x();a.type===R.Identifier||a.type===R.Keyword||a.type===R.BooleanLiteral||a.type===R.NullLiteral||Y(a);return b.finishIdentifier(a.value)}function Oa(){var a;U("[");a=Ha();U("]");return a}function Ga(){var b,c,d=new E;X("new");var e;a(ca.allowIn,"callee of new expression always allow in keyword.");e=
aa;for(b=Z("new")?Ga():Aa();;)if(J("["))c=Oa(),b=(new P(e)).finishMemberExpression("[",b,c);else if(J("."))c=xa(),b=(new P(e)).finishMemberExpression(".",b,c);else break;c=J("(")?ia():[];return d.finishNewExpression(b,c)}function Ka(){var a,b,c=aa,d,e=ca.allowIn;b=aa;ca.allowIn=!0;for(a=Z("new")?Ga():Aa();;)if(J("."))d=xa(),a=(new P(b)).finishMemberExpression(".",a,d);else if(J("("))d=ia(),a=(new P(b)).finishCallExpression(a,d);else if(J("["))d=Oa(),a=(new P(b)).finishMemberExpression("[",a,d);else break;
ca.allowIn=e;aa.type!==R.Punctuator||!J("++")&&!J("--")||da()||(ba(a)||M(oa.InvalidLHSInAssignment),b=x(),a=(new P(c)).finishPostfixExpression(b.value,a));return a}function N(){var a,b,c;aa.type!==R.Punctuator&&aa.type!==R.Keyword?b=Ka():J("++")||J("--")?(c=aa,a=x(),b=N(),ba(b)||M(oa.InvalidLHSInAssignment),b=(new P(c)).finishUnaryExpression(a.value,b)):J("+")||J("-")||J("~")||J("!")?(c=aa,a=x(),b=N(),b=(new P(c)).finishUnaryExpression(a.value,b)):Z("delete")||Z("void")||Z("typeof")?(c=aa,a=x(),b=
N(),b=(new P(c)).finishUnaryExpression(a.value,b),ta&&"delete"===b.operator&&b.argument.type===fa.Identifier&&M(oa.StrictDelete)):b=Ka();return b}function fb(a,b){var c=0;if(a.type!==R.Punctuator&&a.type!==R.Keyword)return 0;switch(a.value){case "||":c=1;break;case "\x26\x26":c=2;break;case "|":c=3;break;case "^":c=4;break;case "\x26":c=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":c=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":c=7;
break;case "in":c=b?7:0;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":c=8;break;case "+":case "-":c=9;break;case "*":case "/":case "%":c=11}return c}function qa(){var a,b,c,d,e,f;a=aa;b=N();if(b===mb.ArrowParameterPlaceHolder)return b;c=aa;d=fb(c,ca.allowIn);if(0===d)return b;c.prec=d;x();a=[a,aa];f=N();for(e=[b,c,f];0<(d=fb(aa,ca.allowIn));){for(;2<e.length&&d<=e[e.length-2].prec;)f=e.pop(),c=e.pop().value,b=e.pop(),a.pop(),b=(new P(a[a.length-1])).finishBinaryExpression(c,b,f),e.push(b);
c=x();c.prec=d;e.push(c);a.push(aa);b=N();e.push(b)}d=e.length-1;b=e[d];for(a.pop();1<d;)b=(new P(a.pop())).finishBinaryExpression(e[d-1].value,e[d-2],b),d-=2;return b}function Wa(a){var b,c,d,e,f,g,h;e=[];f=[];g=0;h={paramSet:{}};b=0;for(c=a.length;b<c;b+=1)if(d=a[b],d.type===fa.Identifier)e.push(d),f.push(null),jb(h,d,d.name);else if(d.type===fa.AssignmentExpression)e.push(d.left),f.push(d.right),++g,jb(h,d.left,d.left.name);else return null;h.message===oa.StrictParamDupe&&(a=ta?h.stricted:h.firstRestricted,
Y(a,h.message));0===g&&(f=[]);return{params:e,defaults:f,rest:null,stricted:h.stricted,firstRestricted:h.firstRestricted,message:h.message}}function q(){var a,b,c,d,e;a=ca.parenthesisCount;b=e=aa;var f,g;g=aa;c=qa();c!==mb.ArrowParameterPlaceHolder&&J("?")&&(x(),f=ca.allowIn,ca.allowIn=!0,b=q(),ca.allowIn=f,U(":"),f=q(),c=(new P(g)).finishConditionalExpression(c,b,f));if(c===mb.ArrowParameterPlaceHolder||J("\x3d\x3e"))if(ca.parenthesisCount===a||ca.parenthesisCount===a+1)if(c.type===fa.Identifier?
d=Wa([c]):c.type===fa.AssignmentExpression?d=Wa([c]):c.type===fa.SequenceExpression?d=Wa(c.expressions):c===mb.ArrowParameterPlaceHolder&&(d=Wa([])),d)return a=d,e=new P(e),U("\x3d\x3e"),d=ta,c=J("{")?Ra():q(),ta&&a.firstRestricted&&Y(a.firstRestricted,a.message),ta&&a.stricted&&ma(a.stricted,a.message),ta=d,e.finishArrowFunctionExpression(a.params,a.defaults,c,c.type!==fa.BlockStatement);aa.type!==R.Punctuator?a=!1:(a=aa.value,a="\x3d"===a||"*\x3d"===a||"/\x3d"===a||"%\x3d"===a||"+\x3d"===a||"-\x3d"===
a||"\x3c\x3c\x3d"===a||"\x3e\x3e\x3d"===a||"\x3e\x3e\x3e\x3d"===a||"\x26\x3d"===a||"^\x3d"===a||"|\x3d"===a);a&&(ba(c)||M(oa.InvalidLHSInAssignment),b=x(),a=q(),c=(new P(e)).finishAssignmentExpression(b.value,c,a));return c}function Ha(){var a,b=aa;a=q();if(J(",")){for(a=[a];D<sa&&J(",");)x(),a.push(q());a=(new P(b)).finishSequenceExpression(a)}return a}function Za(){var a,b=new E;a=x();a.type!==R.Identifier&&Y(a);return b.finishIdentifier(a.value)}function rb(a){var b=null,c,d=new E;c=Za();"const"===
a?(U("\x3d"),b=q()):J("\x3d")&&(x(),b=q());return d.finishVariableDeclarator(c,b)}function Cb(a){var b=[];do{b.push(rb(a));if(!J(","))break;x()}while(D<sa);return b}function Pa(a){var b=aa.type,c,d;b===R.EOF&&Y(aa);if(b===R.Punctuator&&"{"===aa.value){if(a){U("{");var e=aa;a=D;c=ea;d=ka;x();b=J(":");aa=e;D=a;ea=c;ka=d;if((aa.type===R.Identifier||aa.type===R.StringLiteral)&&b)return ha(!0);a=new E;for(c=[];D<sa&&!J("}");){d=Ba();if("undefined"===typeof d)break;c.push(d)}U("}");return a.finishBlockStatement(c)}return ha()}a=
new E;if(b===R.Punctuator)switch(aa.value){case ";":return a=new E,U(";"),a.finishEmptyStatement();case "(":return c=Ha(),W(),a.finishExpressionStatement(c)}else if(b===R.Keyword)switch(aa.value.toLowerCase()){case "break":return c=null,X("break"),59===K.charCodeAt(D)?(x(),ca.inIteration||ca.inSwitch||T(oa.IllegalBreak),a=a.finishBreakStatement(null)):da()?(ca.inIteration||ca.inSwitch||T(oa.IllegalBreak),a=a.finishBreakStatement(null)):(aa.type===R.Identifier&&(c=Za(),d="$"+c.name,Object.prototype.hasOwnProperty.call(ca.labelSet,
d)||T(oa.UnknownLabel,c.name)),W(),null!==c||ca.inIteration||ca.inSwitch||T(oa.IllegalBreak),a=a.finishBreakStatement(c)),a;case "continue":return c=null,X("continue"),59===K.charCodeAt(D)?(x(),ca.inIteration||T(oa.IllegalContinue),a=a.finishContinueStatement(null)):da()?(ca.inIteration||T(oa.IllegalContinue),a=a.finishContinueStatement(null)):(aa.type===R.Identifier&&(c=Za(),d="$"+c.name,Object.prototype.hasOwnProperty.call(ca.labelSet,d)||T(oa.UnknownLabel,c.name)),W(),null!==c||ca.inIteration||
T(oa.IllegalContinue),a=a.finishContinueStatement(c)),a;case "for":var f,g,h;g=ca.allowIn;f=b=e=null;X("for");U("(");if(J(";"))x();else{if(Z("var")){ca.allowIn=!1;var k=new E;f=x();h=Cb();f=k.finishVariableDeclaration(h,f.value);ca.allowIn=g;1===f.declarations.length&&Z("in")&&(x(),c=f,d=Ha(),f=null)}else ca.allowIn=!1,f=Ha(),ca.allowIn=g,Z("in")&&(ba(f)||M(oa.InvalidLHSInForIn),x(),c=f,d=Ha(),f=null);"undefined"===typeof c&&U(";")}"undefined"===typeof c&&(J(";")||(b=Ha()),U(";"),J(")")||(e=Ha()));
U(")");h=ca.inIteration;ca.inIteration=!0;g=Pa(!0);ca.inIteration=h;return"undefined"===typeof c?a.finishForStatement(f,b,e,g):a.finishForInStatement(c,d,g);case "function":return kb(a);case "if":return X("if"),U("("),c=Ha(),U(")"),d=Pa(!0),Z("else")?(x(),b=Pa(!0)):b=null,a.finishIfStatement(c,d,b);case "return":return c=null,X("return"),ca.inFunctionBody||M(oa.IllegalReturn),32===K.charCodeAt(D)&&l(K.charCodeAt(D+1))?(c=Ha(),W(),a=a.finishReturnStatement(c)):da()?a=a.finishReturnStatement(null):
(J(";")||J("}")||aa.type===R.EOF||(c=Ha()),W(),a=a.finishReturnStatement(c)),a;case "var":return X("var"),c=Cb(),W(),a.finishVariableDeclaration(c,"var")}c=Ha();if(c.type===fa.Identifier&&J(":"))return x(),b="$"+c.name,Object.prototype.hasOwnProperty.call(ca.labelSet,b)&&T(oa.Redeclaration,"Label",c.name),ca.labelSet[b]=!0,d=Pa(!1),delete ca.labelSet[b],a.finishLabeledStatement(c,d);W();return a.finishExpressionStatement(c)}function Ra(){var a,b=[],c,d,e,f,g,h=new E;for(U("{");D<sa&&aa.type===R.StringLiteral;){c=
aa;a=Ba();b.push(a);if(a.expression.type!==fa.Literal)break;a=K.slice(c.start+1,c.end-1);"use strict"===a?(ta=!0,d&&ma(d,oa.StrictOctalLiteral)):!d&&c.octal&&(d=c)}c=ca.labelSet;d=ca.inIteration;e=ca.inSwitch;f=ca.inFunctionBody;g=ca.parenthesizedCount;ca.labelSet={};ca.inIteration=!1;ca.inSwitch=!1;ca.inFunctionBody=!0;for(ca.parenthesizedCount=0;D<sa&&!J("}");){a=Ba();if("undefined"===typeof a)break;b.push(a)}U("}");ca.labelSet=c;ca.inIteration=d;ca.inSwitch=e;ca.inFunctionBody=f;ca.parenthesizedCount=
g;return h.finishBlockStatement(b)}function jb(a,b,c){c="$"+c;ta?Object.prototype.hasOwnProperty.call(a.paramSet,c)&&(a.stricted=b,a.message=oa.StrictParamDupe):!a.firstRestricted&&Object.prototype.hasOwnProperty.call(a.paramSet,c)&&(a.firstRestricted=b,a.message=oa.StrictParamDupe);a.paramSet[c]=!0}function Ia(a){a={params:[],defaultCount:0,defaults:[],firstRestricted:a};U("(");if(!J(")"))for(a.paramSet={};D<sa;){var b=a,c=void 0,d=void 0,e=void 0,c=aa,d=Za();jb(b,c,c.value);J("\x3d")&&(x(),e=q(),
++b.defaultCount);b.params.push(d);b.defaults.push(e);if(J(")"))break;U(",")}U(")");0===a.defaultCount&&(a.defaults=[]);return{params:a.params,defaults:a.defaults,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function kb(){var a,b=[],c=[],d,e,f,g,h,k=new E;X("function");a=Za();d=Ia(f);b=d.params;c=d.defaults;e=d.stricted;f=d.firstRestricted;d.message&&(g=d.message);h=ta;d=Ra();ta&&f&&Y(f,g);ta&&e&&ma(e,g);ta=h;return k.finishFunctionDeclaration(a,b,c,d)}function Ba(){if(aa.type===
R.Keyword)return"function"===aa.value.toLowerCase()?kb():Pa(!1);if(aa.type!==R.EOF)return Pa(!1)}function Qa(){var a,b,c,d=[];for(a=0;a<L.tokens.length;++a)b=L.tokens[a],c={type:b.type,value:b.value},b.regex&&(c.regex={pattern:b.regex.pattern,flags:b.regex.flags}),L.range&&(c.range=b.range),L.loc&&(c.loc=b.loc),d.push(c);L.tokens=d}var R,Na,za,fa,mb,Ja,oa,bb,K,ta,D,ea,ka,sa,aa,ca,L;R={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9};
Na={};Na[R.BooleanLiteral]="Boolean";Na[R.EOF]="\x3cend\x3e";Na[R.Identifier]="Identifier";Na[R.Keyword]="Keyword";Na[R.NullLiteral]="Null";Na[R.NumericLiteral]="Numeric";Na[R.Punctuator]="Punctuator";Na[R.StringLiteral]="String";Na[R.RegularExpression]="RegularExpression";za="( { [ in typeof instanceof new return case delete throw void \x3d +\x3d -\x3d *\x3d /\x3d %\x3d \x3c\x3c\x3d \x3e\x3e\x3d \x3e\x3e\x3e\x3d \x26\x3d |\x3d ^\x3d , + - * / % ++ -- \x3c\x3c \x3e\x3e \x3e\x3e\x3e \x26 | ^ ! ~ \x26\x26 || ? : \x3d\x3d\x3d \x3d\x3d \x3e\x3d \x3c\x3d \x3c \x3e !\x3d !\x3d\x3d".split(" ");
fa={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",
FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};mb={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}};
Ja={Data:1,Get:2,Set:4};oa={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",
MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",
StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",
AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"};bb={NonAsciiIdentifierStart:/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b2\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/,
NonAsciiIdentifierPart:/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u0487\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u0669\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07c0-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0966-\u096f\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09e6-\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a66-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b66-\u0b6f\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0be6-\u0bef\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c66-\u0c6f\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0ce6-\u0cef\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d66-\u0d6f\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0de6-\u0def\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e50-\u0e59\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1049\u1050-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1946-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u19d0-\u19d9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1aa7\u1ab0-\u1abd\u1b00-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1bf3\u1c00-\u1c37\u1c40-\u1c49\u1c4d-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200c\u200d\u203f\u2040\u2054\u2071\u207f\u2090-\u209c\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005-\u3007\u3021-\u302f\u3031-\u3035\u3038-\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua62b\ua640-\ua66f\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f7\ua8fb\ua900-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf-\ua9d9\ua9e0-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa50-\uaa59\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe33\ufe34\ufe4d-\ufe4f\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff3f\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/};
P.prototype=E.prototype={processComment:function(){var a,b,c,d=L.bottomRightStack,e,f,g=d[d.length-1];if(!(this.type===fa.Program&&0<this.body.length)){if(0<L.trailingComments.length){c=[];for(e=L.trailingComments.length-1;0<=e;--e)f=L.trailingComments[e],f.range[0]>=this.range[1]&&(c.unshift(f),L.trailingComments.splice(e,1));L.trailingComments=[]}else g&&g.trailingComments&&g.trailingComments[0].range[0]>=this.range[1]&&(c=g.trailingComments,delete g.trailingComments);if(g)for(;g&&g.range[0]>=this.range[0];)a=
g,g=d.pop();if(a)a.leadingComments&&a.leadingComments[a.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=a.leadingComments,a.leadingComments=void 0);else if(0<L.leadingComments.length)for(b=[],e=L.leadingComments.length-1;0<=e;--e)f=L.leadingComments[e],f.range[1]<=this.range[0]&&(b.unshift(f),L.leadingComments.splice(e,1));b&&0<b.length&&(this.leadingComments=b);c&&0<c.length&&(this.trailingComments=c);d.push(this)}},finish:function(){L.range&&(this.range[1]=D);L.loc&&(this.loc.end=
new G,L.source&&(this.loc.source=L.source));L.attachComment&&this.processComment()},finishArrayExpression:function(a){this.type=fa.ArrayExpression;this.elements=a;this.finish();return this},finishAssignmentExpression:function(a,b,c){this.type=fa.AssignmentExpression;this.operator=a;this.left=b;this.right=c;this.finish();return this},finishBinaryExpression:function(a,b,c){this.type="||"===a||"\x26\x26"===a?fa.LogicalExpression:fa.BinaryExpression;this.operator=a;this.left=b;this.right=c;this.finish();
return this},finishBlockStatement:function(a){this.type=fa.BlockStatement;this.body=a;this.finish();return this},finishBreakStatement:function(a){this.type=fa.BreakStatement;this.label=a;this.finish();return this},finishCallExpression:function(a,b){this.type=fa.CallExpression;this.callee=a;this.arguments=b;this.finish();return this},finishConditionalExpression:function(a,b,c){this.type=fa.ConditionalExpression;this.test=a;this.consequent=b;this.alternate=c;this.finish();return this},finishContinueStatement:function(a){this.type=
fa.ContinueStatement;this.label=a;this.finish();return this},finishEmptyStatement:function(){this.type=fa.EmptyStatement;this.finish();return this},finishExpressionStatement:function(a){this.type=fa.ExpressionStatement;this.expression=a;this.finish();return this},finishForStatement:function(a,b,c,d){this.type=fa.ForStatement;this.init=a;this.test=b;this.update=c;this.body=d;this.finish();return this},finishForInStatement:function(a,b,c){this.type=fa.ForInStatement;this.left=a;this.right=b;this.body=
c;this.each=!1;this.finish();return this},finishFunctionDeclaration:function(a,b,c,d){this.type=fa.FunctionDeclaration;this.id=a;this.params=b;this.defaults=c;this.body=d;this.rest=null;this.expression=this.generator=!1;this.finish();return this},finishFunctionExpression:function(a,b,c,d){this.type=fa.FunctionExpression;this.id=a;this.params=b;this.defaults=c;this.body=d;this.rest=null;this.expression=this.generator=!1;this.finish();return this},finishIdentifier:function(a){this.type=fa.Identifier;
this.name=a;this.finish();return this},finishIfStatement:function(a,b,c){this.type=fa.IfStatement;this.test=a;this.consequent=b;this.alternate=c;this.finish();return this},finishLiteral:function(a){this.type=fa.Literal;this.value=a.value;this.raw=K.slice(a.start,a.end);a.regex&&(this.regex=a.regex);this.finish();return this},finishMemberExpression:function(a,b,c){this.type=fa.MemberExpression;this.computed="["===a;this.object=b;this.property=c;this.finish();return this},finishObjectExpression:function(a){this.type=
fa.ObjectExpression;this.properties=a;this.finish();return this},finishPostfixExpression:function(a,b){this.type=fa.UpdateExpression;this.operator=a;this.argument=b;this.prefix=!1;this.finish();return this},finishProgram:function(a){this.type=fa.Program;this.body=a;this.finish();return this},finishProperty:function(a,b,c,d,e){this.type=fa.Property;this.key=b;this.value=c;this.kind=a;this.method=d;this.shorthand=e;this.finish();return this},finishReturnStatement:function(a){this.type=fa.ReturnStatement;
this.argument=a;this.finish();return this},finishUnaryExpression:function(a,b){this.type="++"===a||"--"===a?fa.UpdateExpression:fa.UnaryExpression;this.operator=a;this.argument=b;this.prefix=!0;this.finish();return this},finishVariableDeclaration:function(a,b){this.type=fa.VariableDeclaration;this.declarations=a;this.kind=b;this.finish();return this},finishVariableDeclarator:function(a,b){this.type=fa.VariableDeclarator;this.id=a;this.init=b;this.finish();return this}};b.version="2.0.0-dev";b.tokenize=
function(a,b){var c,d;c=String;"string"===typeof a||a instanceof String||(a=c(a));K=a;D=0;ea=0<K.length?1:0;ka=0;sa=K.length;aa=null;ca={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1};L={};b=b||{};b.tokens=!0;L.tokens=[];L.tokenize=!0;L.openParenToken=-1;L.openCurlyToken=-1;L.range="boolean"===typeof b.range&&b.range;L.loc="boolean"===typeof b.loc&&b.loc;"boolean"===typeof b.comment&&b.comment&&(L.comments=[]);"boolean"===typeof b.tolerant&&b.tolerant&&(L.errors=
[]);try{F();if(aa.type===R.EOF)return L.tokens;for(x();aa.type!==R.EOF;)try{x()}catch(nb){if(L.errors){L.errors.push(nb);break}else throw nb;}Qa();d=L.tokens;"undefined"!==typeof L.comments&&(d.comments=L.comments);"undefined"!==typeof L.errors&&(d.errors=L.errors)}catch(nb){throw nb;}finally{L={}}return d};b.parse=function(a,b){var c,d;d=String;"string"===typeof a||a instanceof String||(a=d(a));K=a;D=0;ea=0<K.length?1:0;ka=0;sa=K.length;aa=null;ca={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,
inIteration:!1,inSwitch:!1,lastCommentStart:-1};L={};"undefined"!==typeof b&&(L.range="boolean"===typeof b.range&&b.range,L.loc="boolean"===typeof b.loc&&b.loc,L.attachComment="boolean"===typeof b.attachComment&&b.attachComment,L.loc&&null!==b.source&&void 0!==b.source&&(L.source=d(b.source)),"boolean"===typeof b.tokens&&b.tokens&&(L.tokens=[]),"boolean"===typeof b.comment&&b.comment&&(L.comments=[]),"boolean"===typeof b.tolerant&&b.tolerant&&(L.errors=[]),L.attachComment&&(L.range=!0,L.comments=
[],L.bottomRightStack=[],L.trailingComments=[],L.leadingComments=[]));try{var e;v();F();e=new E;ta=!1;var f;a=[];for(var g,h,k;D<sa;){g=aa;if(g.type!==R.StringLiteral)break;f=Ba();a.push(f);if(f.expression.type!==fa.Literal)break;h=K.slice(g.start+1,g.end-1);"use strict"===h?(ta=!0,k&&ma(k,oa.StrictOctalLiteral)):!k&&g.octal&&(k=g)}for(;D<sa;){f=Ba();if("undefined"===typeof f)break;a.push(f)}c=e.finishProgram(a);"undefined"!==typeof L.comments&&(c.comments=L.comments);"undefined"!==typeof L.tokens&&
(Qa(),c.tokens=L.tokens);"undefined"!==typeof L.errors&&(c.errors=L.errors)}catch(pb){throw pb;}finally{L={}}return c};b.Syntax=function(){var a,b={};"function"===typeof Object.create&&(b=Object.create(null));for(a in fa)fa.hasOwnProperty(a)&&(b[a]=fa[a]);"function"===typeof Object.freeze&&Object.freeze(b);return b}()})},"esri/symbols/support/unitConversionUtils":function(){define(["require","exports","../../renderers/support/utils"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});
a.supportsUnit=function(a){return null!=r.meterIn[a]};a.getMetersPerUnit=function(a){return 1/(r.meterIn[a]||1)};a.supportedUnits=function(){var a=Object.keys(r.meterIn);a.sort();return a}()})},"esri/renderers/support/utils":function(){define("dojo/date/locale ../../Color ../../core/lang ../../core/numberUtils ../../core/unitUtils dojo/i18n!dojo/cldr/nls/gregorian".split(" "),function(b,a,r,f,k,n){function l(b){return b&&b.map(function(b){return new a(b)})}function c(a,b,c){var d="";0===b?d=h.lt+
" ":b===c&&(d=h.gt+" ");return d+a}var g={},h={lte:"\x3c\x3d",gte:"\x3e\x3d",lt:"\x3c",gt:"\x3e",pct:"%",ld:"\u2013"},d={millisecond:0,second:1,minute:2,hour:3,day:4,month:5,year:6},v={millisecond:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},second:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"medium"}},minute:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},hour:{dateOptions:{formatLength:"long"},timeOptions:{formatLength:"short"}},
day:{selector:"date",dateOptions:{formatLength:"long"}},month:{selector:"date",dateOptions:{formatLength:"long"}},year:{selector:"date",dateOptions:{selector:"year"}}},z={formatLength:"short",fullYear:!0},t={formatLength:"short"};r.mixin(g,{meterIn:{inches:k.convertUnit(1,"meters","inches"),feet:k.convertUnit(1,"meters","feet"),"us-feet":k.convertUnit(1,"meters","us-feet"),yards:k.convertUnit(1,"meters","yards"),miles:k.convertUnit(1,"meters","miles"),"nautical-miles":k.convertUnit(1,"meters","nautical-miles"),
millimeters:k.convertUnit(1,"meters","millimeters"),centimeters:k.convertUnit(1,"meters","centimeters"),decimeters:k.convertUnit(1,"meters","decimeters"),meters:k.convertUnit(1,"meters","meters"),kilometers:k.convertUnit(1,"meters","kilometers"),"decimal-degrees":1/k.lengthToDegrees(1,"meters")},timelineDateFormatOptions:{selector:"date",dateOptions:{formatLength:"short",fullYear:!0}},formatDate:function(a,c){var d=[];null==a||a instanceof Date||(a=new Date(a));c=c||{};c=r.mixin({},c);var f=c.selector?
c.selector.toLowerCase():null,g=!f||-1<f.indexOf("time"),f=!f||-1<f.indexOf("date");g&&(c.timeOptions=c.timeOptions||t,c.timeOptions&&(c.timeOptions=r.mixin({},c.timeOptions),c.timeOptions.selector=c.timeOptions.selector||"time",d.push(c.timeOptions)));f&&(c.dateOptions=c.dateOptions||z,c.dateOptions&&(c.dateOptions=r.mixin({},c.dateOptions),c.dateOptions.selector=c.dateOptions.selector||"date",d.push(c.dateOptions)));d&&d.length?(d=d.map(function(c){return b.format(a,c)}),c=1==d.length?d[0]:n["dateTimeFormat-medium"].replace(/\'/g,
"").replace(/\{(\d+)\}/g,function(a,b){return d[b]})):c=b.format(a);return c},createColorStops:function(a){var b=a.values,d=a.colors,h=a.labelIndexes,k=a.isDate,e=a.dateFormatOptions;a=[];return a=b.map(function(a,l){var m=null;if(!h||-1<h.indexOf(l)){var n;(n=k?g.formatDate(a,e):f.format(a))&&(m=c(n,l,b.length-1))}return{value:a,color:d[l],label:m}})},updateColorStops:function(a){var b=a.stops,d=a.changes,h=a.isDate,k=a.dateFormatOptions,e=[],l,n=b.map(function(a){return a.value});d.forEach(function(a){e.push(a.index);
n[a.index]=a.value});l=f.round(n,{indexes:e});b.forEach(function(a,d){a.value=n[d];if(null!=a.label){var e,m=null;(e=h?g.formatDate(l[d],k):f.format(l[d]))&&(m=c(e,d,b.length-1));a.label=m}})},createClassBreakLabel:function(a){var b=a.minValue,c=a.maxValue,d=a.isFirstBreak?"":h.gt+" ";a="percent-of-total"===a.normalizationType?h.pct:"";b=null==b?"":f.format(b);c=null==c?"":f.format(c);return d+b+a+" "+h.ld+" "+c+a},setLabelsForClassBreaks:function(a){var b=a.classBreakInfos,c=a.classificationMethod,
d=a.normalizationType,h=[];b&&b.length&&("standard-deviation"===c?console.log("setLabelsForClassBreaks: cannot set labels for class breaks generated using 'standard-deviation' method."):a.round?(h.push(b[0].minValue),b.forEach(function(a){h.push(a.maxValue)}),h=f.round(h),b.forEach(function(a,b){a.label=g.createClassBreakLabel({minValue:0===b?h[0]:h[b],maxValue:h[b+1],isFirstBreak:0===b,normalizationType:d})})):b.forEach(function(a,b){a.label=g.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,
isFirstBreak:0===b,normalizationType:d})}))},updateClassBreak:function(a){var b=a.classBreaks,c=a.normalizationType,d=a.change,f=d.index,d=d.value,e=-1,h=-1,k=b.length;"standard-deviation"===a.classificationMethod?console.log("updateClassBreak: cannot update labels for class breaks generated using 'standard-deviation' method."):(0===f?e=f:f===k?h=f-1:(h=f-1,e=f),-1<e&&e<k&&(a=b[e],a.minValue=d,a.label=g.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===e,normalizationType:c})),
-1<h&&h<k&&(a=b[h],a.maxValue=d,a.label=g.createClassBreakLabel({minValue:a.minValue,maxValue:a.maxValue,isFirstBreak:0===h,normalizationType:c})))},calculateDateFormatInterval:function(a){var b,c,f=a.length,g,e,h,k,l,n,t=Infinity,r;a=a.map(function(a){return new Date(a)});for(b=0;b<f-1;b++){g=a[b];h=[];l=Infinity;n="";for(c=b+1;c<f;c++)e=a[c],e=g.getFullYear()!==e.getFullYear()&&"year"||g.getMonth()!==e.getMonth()&&"month"||g.getDate()!==e.getDate()&&"day"||g.getHours()!==e.getHours()&&"hour"||g.getMinutes()!==
e.getMinutes()&&"minute"||g.getSeconds()!==e.getSeconds()&&"second"||"millisecond",k=d[e],k<l&&(l=k,n=e),h.push(e);l<t&&(t=l,r=n)}return r},createUniqueValueLabel:function(a){var b=a.value,c=a.fieldInfo,d=a.domain;a=a.dateFormatInterval;var h=String(b);(d=d&&d.codedValues?d.getName(b):null)?h=d:"number"===typeof b&&(h=c&&"date"===c.type?g.formatDate(b,a&&v[a]):f.format(b));return h},cloneColorVariable:function(b){var c;b&&(c=r.mixin({},b),c.colors=l(c.colors),c.stops=c.stops&&c.stops.map(function(b){b=
r.mixin({},b);b.color&&(b.color=new a(b.color));return b}),c.legendOptions&&(c.legendOptions=r.mixin({},c.legendOptions)));return c},cloneOpacityVariable:function(a){var b;if(a){b=r.mixin({},a);if(a=b.opacityValues)b.opacityValues=a.slice(0);if(a=b.stops)b.stops=a.map(function(a){return r.mixin({},a)});if(a=b.legendOptions)b.legendOptions=r.mixin({},a)}return b},cloneSizeVariable:function(a){var b;a&&(b=r.mixin({},a),b.stops&&(b.stops=b.stops.map(function(a){return r.mixin({},a)})),(a=b.minSize)&&
"object"===typeof a&&(b.minSize=g.cloneSizeVariable(a)),(a=b.maxSize)&&"object"===typeof a&&(b.maxSize=g.cloneSizeVariable(a)),a=b.legendOptions)&&(b.legendOptions=r.mixin({},a),a=a.customValues)&&(b.legendOptions.customValues=a.slice(0));return b}});return g})},"esri/core/numberUtils":function(){define(["dojo/number","dojo/i18n!dojo/cldr/nls/number"],function(b,a){function r(a,b){return a-b}var f=/^-?(\d+)(\.(\d+))?$/i,k=new RegExp("\\"+a.decimal+"0+$","g"),n=/(\d)0*$/g,l={numDigits:function(a){var b=
String(a),c=b.match(f);a={integer:0,fractional:0};c&&c[1]?(a.integer=c[1].split("").length,a.fractional=c[3]?c[3].split("").length:0):-1<b.toLowerCase().indexOf("e")&&(c=b.split("e"),b=c[0],c=c[1],b&&c&&(b=Number(b),c=Number(c),(a=0<c)||(c=Math.abs(c)),b=l.numDigits(b),a?(b.integer+=c,b.fractional=c>b.fractional?0:b.fractional-c):(b.fractional+=c,b.integer=c>b.integer?1:b.integer-c),a=b));return a},percentChange:function(a,b,f,d){var c={previous:null,next:null},g;null!=f&&(g=a-f,c.previous=Math.floor(Math.abs(100*
(b-f-g)/g)));null!=d&&(g=d-a,c.next=Math.floor(Math.abs(100*(d-b-g)/g)));return c},round:function(a,b){a=a.slice(0);var c,d,f,g,k,n,A,w,m=b&&null!=b.tolerance?b.tolerance:2,y=b&&b.indexes,e=b&&null!=b.strictBounds?b.strictBounds:!1;if(y)y.sort(r);else for(y=[],k=0;k<a.length;k++)y.push(k);for(k=0;k<y.length;k++)if(w=y[k],b=a[w],c=0===w?null:a[w-1],d=w===a.length-1?null:a[w+1],f=l.numDigits(b),f=f.fractional){n=0;for(A=!1;n<=f&&!A;){g=b;A=n;var p=void 0,x=void 0,p=Number(g.toFixed(A));p<g?x=p+1/Math.pow(10,
A):(x=p,p-=1/Math.pow(10,A));p=Number(p.toFixed(A));x=Number(x.toFixed(A));g=[p,x];g=e&&0===k?g[1]:g[0];A=m;var p=l.percentChange(b,g,c,d),F=x=void 0,x=void 0,x=null==p.previous||p.previous<=A,F=null==p.next||p.next<=A;A=x=x&&F||p.previous+p.next<=2*A;n++}A&&(a[w]=g)}return a},format:function(a,f){f=f||{places:20,round:-1};(a=b.format(a,f))&&(a=a.replace(n,"$1").replace(k,""));return a}};return l})},"esri/symbols/support/Symbol3DMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,r,f,k,n,l){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);c=b;b.prototype.clone=function(){return new c({color:this.color?this.color.clone():null})};var c;f([n.property(l.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=c=f([n.subclass("esri.symbols.support.Symbol3DMaterial")],b)}(n.declared(k));a.Symbol3DMaterial=b;a.default=b})},"esri/symbols/support/materialUtils":function(){define("require exports ../../Color ../../core/screenUtils ../../core/accessorSupport/ensureType ../../webdoc/support/opacityUtils".split(" "),
function(b,a,r,f,k,n){function l(a,b){a=null!=b.transparency?n.transparencyToOpacity(b.transparency):1;if((b=b.color)&&Array.isArray(b))return new r([b[0]||0,b[1]||0,b[2]||0,a])}function c(a,b){b.color=a.toJSON().slice(0,3);a=n.opacityToTransparency(a.a);0!==a&&(b.transparency=a)}Object.defineProperty(a,"__esModule",{value:!0});a.readColorAndTransparency=l;a.writeColorAndTransparency=c;a.colorAndTransparencyProperty={type:r,json:{type:[k.Integer],read:{source:["color","transparency"],reader:l},write:{target:{color:{type:[k.Integer]},
transparency:{type:k.Integer}},writer:c}}};a.screenSizeProperty={type:Number,cast:f.toPt,json:{write:!0}}})},"esri/core/screenUtils":function(){define(["require","exports"],function(b,a){function r(b){return b?72*b/a.DPI:0}Object.defineProperty(a,"__esModule",{value:!0});var f=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i;a.DPI=96;a.pt2px=function(b){return b?b/72*a.DPI:0};a.px2pt=r;a.toPt=function(a){if("string"===typeof a){if(f.test(a)){var b=a.match(f),k=Number(b[1]),b=b[3]&&b[3].toLowerCase();a="-"===a.charAt(0);
k="px"===b?r(k):k;return a?-k:k}console.warn("screenUtils.toPt: input not recognized!");return null}return a}})},"esri/webdoc/support/opacityUtils":function(){define(["require","exports","../../core/accessorSupport/ensureType"],function(b,a,r){Object.defineProperty(a,"__esModule",{value:!0});a.opacityToTransparency=function(a){a=r.ensureInteger(100*(1-a));return Math.max(0,Math.min(a,100))};a.transparencyToOpacity=function(a){return Math.max(0,Math.min(1-a/100,1))}})},"esri/symbols/edges/utils":function(){define(["require",
"exports","./Edges3D","./SketchEdges3D","./SolidEdges3D"],function(b,a,r,f,k){function n(a,b,g){if(!a)return a;switch(a.type){case "solid":return b=new k,b.read(a,g),b;case "sketch":return b=new f,b.read(a,g),b}}Object.defineProperty(a,"__esModule",{value:!0});a.read=n;a.symbol3dEdgesProperty={types:{key:"type",base:r,typeMap:{solid:k,sketch:f}},json:{read:n,write:!0}}})},"esri/symbols/edges/Edges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/tsSupport/assignHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d){return function(a){function b(b){b=a.call(this)||this;b.color=new n([0,0,0,1]);b.extensionLength=0;b.size=g.px2pt(1);return b}r(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=k({},a),delete a.type);return a};b.prototype.clone=function(){};b.prototype.cloneProperties=function(){return{color:c.clone(this.color),size:this.size,extensionLength:this.extensionLength}};f([h.property({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],
b.prototype,"type",void 0);f([h.property(d.colorAndTransparencyProperty)],b.prototype,"color",void 0);f([h.property(k({},d.screenSizeProperty,{json:{write:{overridePolicy:function(a){return{enabled:!!a}}}}}))],b.prototype,"extensionLength",void 0);f([h.property(d.screenSizeProperty)],b.prototype,"size",void 0);return b=f([h.subclass("esri.symbols.edges.Edges3D")],b)}(h.declared(l))})},"esri/symbols/edges/SketchEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(b,a,r,f,k,n){return function(a){function b(b){b=a.call(this)||this;b.type="sketch";return b}r(b,a);g=b;b.prototype.clone=function(){return new g(this.cloneProperties())};var g;f([k.property({type:["sketch"]})],b.prototype,"type",void 0);return b=g=f([k.subclass("esri.symbols.edges.SketchEdges3D")],b)}(k.declared(n))})},"esri/symbols/edges/SolidEdges3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Edges3D".split(" "),
function(b,a,r,f,k,n){return function(a){function b(b){b=a.call(this)||this;b.type="solid";return b}r(b,a);g=b;b.prototype.clone=function(){return new g(this.cloneProperties())};var g;f([k.property({type:["solid"]})],b.prototype,"type",void 0);return b=g=f([k.subclass("esri.symbols.support.SolidEdges3D")],b)}(k.declared(n))})},"esri/symbols/FillSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./edges/utils ./support/Symbol3DFillMaterial ./support/Symbol3DOutline".split(" "),
function(b,a,r,f,k,n,l,c,g){return function(a){function b(b){b=a.call(this)||this;b.type="fill";b.material=null;b.outline=null;b.edges=null;return b}r(b,a);h=b;b.prototype.clone=function(){return new h({edges:this.edges&&this.edges.clone(),enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone()})};var h;f([k.enumeration.serializable()({Fill:"fill"})],b.prototype,"type",void 0);f([k.property({type:c.default})],
b.prototype,"material",void 0);f([k.property({type:g.default,json:{write:!0}})],b.prototype,"outline",void 0);f([k.property(l.symbol3dEdgesProperty)],b.prototype,"edges",void 0);return b=h=f([k.subclass("esri.symbols.FillSymbol3DLayer")],b)}(k.declared(n))})},"esri/symbols/support/Symbol3DFillMaterial":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/accessorSupport/decorators ./Symbol3DMaterial".split(" "),function(b,a,r,
f,k,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);g=b;b.prototype.clone=function(){return new g({color:this.color?this.color.clone():null,colorMixMode:this.colorMixMode})};var g;f([k.enumeration.serializable()({multiply:"multiply",replace:"replace",tint:"tint"})],b.prototype,"colorMixMode",void 0);return b=g=f([k.subclass("esri.symbols.support.Symbol3DFillMaterial")],b)}(k.declared(n.default));a.Symbol3DFillMaterial=
b;a.default=b})},"esri/symbols/support/Symbol3DOutline":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/screenUtils ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(b,a,r,f,k,n,l,c,g){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new k([0,0,0,1]);b.size=l.px2pt(1);return b}r(b,a);
h=b;b.prototype.clone=function(){return new h({color:this.color?this.color.clone():null,size:this.size})};var h;f([c.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);f([c.property(g.screenSizeProperty)],b.prototype,"size",void 0);return b=h=f([c.subclass("esri.symbols.support.Symbol3DOutline")],b)}(c.declared(n));a.Symbol3DOutline=b;a.default=b})},"esri/symbols/IconSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/IconSymbol3DLayerResource ./support/materialUtils ./support/Symbol3DOutline".split(" "),
function(b,a,r,f,k,n,l,c,g){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type="icon";b.size=12;b.anchor=void 0;b.outline=void 0;return b}r(b,a);h=b;b.prototype.clone=function(){return new h({anchor:this.anchor,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),outline:this.outline&&this.outline.clone(),resource:this.resource&&this.resource.clone(),size:this.size})};var h;f([k.property()],
b.prototype,"material",void 0);f([k.property({type:l.default,json:{write:!0}})],b.prototype,"resource",void 0);f([k.enumeration.serializable()({Icon:"icon"})],b.prototype,"type",void 0);f([k.property(c.screenSizeProperty)],b.prototype,"size",void 0);f([k.enumeration.serializable()({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right"})],b.prototype,"anchor",void 0);f([k.property({type:g.default,
json:{write:!0}})],b.prototype,"outline",void 0);return b=h=f([k.subclass("esri.symbols.IconSymbol3DLayer")],b)}(k.declared(n))})},"esri/symbols/support/IconSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(b,a,r,f,k,n,l,c){Object.defineProperty(a,"__esModule",{value:!0});var g=n.strict()({circle:"circle",
square:"square",cross:"cross",x:"x",kite:"kite"});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);h=b;b.prototype.readHref=function(a,b,c){return a?l.read(a,c):b.dataURI};b.prototype.writeHref=function(a,b,c,d){a&&(l.isDataProtocol(a)?b.dataURI=a:(b.href=l.write(a,d),l.isAbsolute(b.href)&&(b.href=l.normalize(b.href))))};b.prototype.clone=function(){return new h({href:this.href,primitive:this.primitive})};var h;f([c.property({type:String,json:{write:!0,read:{source:["href",
"dataURI"]}}})],b.prototype,"href",void 0);f([c.reader("href")],b.prototype,"readHref",null);f([c.writer("href",{href:{type:String},dataURI:{type:String}})],b.prototype,"writeHref",null);f([c.enumeration.serializable()(g)],b.prototype,"primitive",void 0);return b=h=f([c.subclass("esri.symbols.support.IconSymbol3DLayerResource")],b)}(c.declared(k));a.IconSymbol3DLayerResource=b;a.default=b})},"esri/symbols/LineSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/screenUtils ../core/accessorSupport/decorators ./Symbol3DLayer ./support/materialUtils".split(" "),
function(b,a,r,f,k,n,l,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.type="line";b.size=k.px2pt(1);return b}r(b,a);d=b;b.prototype.clone=function(){return new d({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};var d;f([n.property()],b.prototype,"material",void 0);f([n.enumeration.serializable()({Line:"line"})],b.prototype,"type",void 0);f([n.property(c.screenSizeProperty)],
b.prototype,"size",void 0);return b=d=f([n.subclass("esri.symbols.LineSymbol3DLayer")],b)}(n.declared(l))})},"esri/symbols/ObjectSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer ./support/ObjectSymbol3DLayerResource ./support/Symbol3DMaterial".split(" "),function(b,a,r,f,k,n,l,c){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.resource=null;b.type="object";
b.width=void 0;b.height=void 0;b.depth=void 0;b.anchor=void 0;b.heading=void 0;b.tilt=void 0;b.roll=void 0;return b}r(b,a);d=b;b.prototype.clone=function(){return new d({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,depth:this.depth,enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),height:this.height,material:this.material&&this.material.clone(),resource:this.resource&&this.resource.clone(),width:this.width})};Object.defineProperty(b.prototype,
"isPrimitive",{get:function(){return!this.resource||"string"!==typeof this.resource.href},enumerable:!0,configurable:!0});var d;f([k.property({type:c.default})],b.prototype,"material",void 0);f([k.property({type:l.default,json:{write:!0}})],b.prototype,"resource",void 0);f([k.enumeration.serializable()({Object:"object"})],b.prototype,"type",void 0);f([k.property({type:Number,json:{write:!0}})],b.prototype,"width",void 0);f([k.property({type:Number,json:{write:!0}})],b.prototype,"height",void 0);f([k.property({type:Number,
json:{write:!0}})],b.prototype,"depth",void 0);f([k.enumeration.serializable()({center:"center",top:"top",bottom:"bottom",origin:"origin"})],b.prototype,"anchor",void 0);f([k.property({type:Number,json:{write:!0}})],b.prototype,"heading",void 0);f([k.property({type:Number,json:{write:!0}})],b.prototype,"tilt",void 0);f([k.property({type:Number,json:{write:!0}})],b.prototype,"roll",void 0);f([k.property({readOnly:!0,dependsOn:["resource","resource.href"]})],b.prototype,"isPrimitive",null);return b=
d=f([k.subclass("esri.symbols.ObjectSymbol3DLayer")],b)}(k.declared(n))})},"esri/symbols/support/ObjectSymbol3DLayerResource":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/kebabDictionary ../../core/urlUtils ../../core/accessorSupport/decorators".split(" "),function(b,a,r,f,k,n,l,c){Object.defineProperty(a,"__esModule",{value:!0});var g=n.strict()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",
diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);h=b;b.prototype.readHref=function(a,b,c){return l.read(a,c)};b.prototype.writeHref=function(a,b,c,d){a&&(b.href=l.write(a,d),l.isAbsolute(b.href)&&(b.href=l.normalize(b.href)))};b.prototype.clone=function(){return new h({href:this.href,primitive:this.primitive})};var h;f([c.property({type:String,json:{write:!0}})],b.prototype,"href",void 0);f([c.reader("href")],
b.prototype,"readHref",null);f([c.writer("href")],b.prototype,"writeHref",null);f([c.enumeration.serializable()(g)],b.prototype,"primitive",void 0);return b=h=f([c.subclass("esri.symbols.support.ObjectSymbol3DLayerResource")],b)}(c.declared(k));a.ObjectSymbol3DLayerResource=b;a.default=b})},"esri/symbols/PathSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/accessorSupport/decorators ./Symbol3DLayer".split(" "),function(b,
a,r,f,k,n){return function(a){function b(b){b=a.call(this)||this;b.material=null;b.type="path";b.size=void 0;return b}r(b,a);g=b;b.prototype.readSize=function(a,b){return a||b.width||0};b.prototype.clone=function(){return new g({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),material:this.material&&this.material.clone(),size:this.size})};var g;f([k.property()],b.prototype,"material",void 0);f([k.enumeration.serializable()({Path:"path"})],b.prototype,"type",void 0);
f([k.property({type:Number,json:{write:{enabled:!0,target:{size:{type:Number},width:{type:Number}}}}})],b.prototype,"size",void 0);f([k.reader("size",["size","width"])],b.prototype,"readSize",null);return b=g=f([k.subclass("esri.symbols.PathSymbol3DLayer")],b)}(k.declared(n))})},"esri/symbols/Symbol":function(){define(["../core/kebabDictionary","../core/JSONSupport","../Color"],function(b,a,r){b=b({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",
esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d"});var f=0;return a.createSubclass({declaredClass:"esri.symbols.Symbol",constructor:function(){this.id="sym"+f++},properties:{type:{type:String,value:null,json:{read:b.read,write:{ignoreOrigin:!0,writer:b.write}}},color:{type:r,value:new r([0,0,0,1]),json:{read:function(a){return a&&null!=a[0]?[a[0],a[1],a[2],a[3]/255]:a},write:{allowNull:!0}}}}})})},
"esri/symbols/TextSymbol3DLayer":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/tsSupport/assignHelper ../core/lang ../core/accessorSupport/decorators ./Font ./Symbol3DLayer ./support/materialUtils ./support/Symbol3DHalo".split(" "),function(b,a,r,f,k,n,l,c,g,h,d){return function(a){function b(b){b=a.call(this)||this;b.font=null;b.halo=null;b.material=null;b.size=9;b.text=void 0;b.type="text";return b}r(b,a);g=b;b.prototype.writeFont=
function(a,b,c,d){c=k({},d,{textSymbol3D:!0});b.font=a.write({},c)};b.prototype.clone=function(){return new g({enabled:this.enabled,elevationInfo:this.elevationInfo&&this.elevationInfo.clone(),font:this.font&&n.clone(this.font),halo:this.halo&&n.clone(this.halo),material:this.material&&this.material.clone(),size:this.size,text:this.text})};var g;f([l.property({type:c,json:{write:!0}})],b.prototype,"font",void 0);f([l.writer("font")],b.prototype,"writeFont",null);f([l.property({type:d.default,json:{write:!0}})],
b.prototype,"halo",void 0);f([l.property()],b.prototype,"material",void 0);f([l.property(h.screenSizeProperty)],b.prototype,"size",void 0);f([l.property({type:String,json:{write:!0}})],b.prototype,"text",void 0);f([l.enumeration.serializable()({Text:"text"})],b.prototype,"type",void 0);return b=g=f([l.subclass("esri.symbols.TextSymbol3DLayer")],b)}(l.declared(g))})},"esri/symbols/Font":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/screenUtils ../core/accessorSupport/decorators ../core/accessorSupport/write".split(" "),
function(b,a,r,f,k,n,l,c){return function(a){function b(b){b=a.call(this)||this;b.decoration="none";b.family="sans-serif";b.size=9;b.style="normal";b.weight="normal";return b}r(b,a);d=b;b.prototype.castSize=function(a){return n.toPt(a)};b.prototype.clone=function(){return new d({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})};var d;f([l.property({type:["underline","line-through","none"],json:{write:{overridePolicy:c.disableWriteDefaultPolicy("none")}}})],
b.prototype,"decoration",void 0);f([l.property({type:String,json:{write:!0}})],b.prototype,"family",void 0);f([l.property({type:Number,json:{write:{overridePolicy:function(a,b,c){return{enabled:!c||!c.textSymbol3D}}}}})],b.prototype,"size",void 0);f([l.cast("size")],b.prototype,"castSize",null);f([l.property({type:["normal","italic","oblique"],json:{write:{overridePolicy:c.disableWriteDefaultPolicy("normal")}}})],b.prototype,"style",void 0);f([l.property({type:["normal","bold","bolder","lighter"],
json:{write:{overridePolicy:c.disableWriteDefaultPolicy("normal")}}})],b.prototype,"weight",void 0);return b=d=f([l.subclass("esri.symbols.Font")],b)}(l.declared(k))})},"esri/symbols/support/Symbol3DHalo":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ./materialUtils".split(" "),function(b,a,r,f,k,n,l,c,g){Object.defineProperty(a,"__esModule",{value:!0});
b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new k([0,0,0,1]);b.size=0;return b}r(b,a);h=b;b.prototype.clone=function(){return new h({color:l.clone(this.color),size:this.size})};var h;f([c.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);f([c.property(g.screenSizeProperty)],b.prototype,"size",void 0);return b=h=f([c.subclass("esri.symbols.support.Symbol3DHalo")],b)}(c.declared(n));a.Symbol3DHalo=b;a.default=b})},"esri/symbols/support/StyleOrigin":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators ../../portal/Portal".split(" "),
function(b,a,r,f,k,n,l){return function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.portal=null;return b}r(b,a);c=b;b.prototype.clone=function(){return new c({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};var c;f([n.property({type:String})],b.prototype,"name",void 0);f([n.property({type:String})],b.prototype,"styleUrl",void 0);f([n.property({type:String})],b.prototype,"styleName",void 0);f([n.property({type:l})],b.prototype,"portal",void 0);
return b=c=f([n.subclass("esri.symbols.support.StyleOrigin")],b)}(n.declared(k))})},"esri/symbols/support/Thumbnail":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/Accessor ../../core/accessorSupport/decorators".split(" "),function(b,a,r,f,k,n){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}r(b,a);g=b;b.prototype.clone=function(){return new g({url:this.url})};
var g;f([n.property({type:String})],b.prototype,"url",void 0);return b=g=f([n.subclass("esri.symbols.support.Thumbnail")],b)}(n.declared(k));a.Thumbnail=b;a.default=b})},"esri/symbols/callouts/calloutUtils":function(){define(["require","exports","./Callout3D","./LineCallout3D"],function(b,a,r,f){function k(a){if(!a)return!1;a=a.verticalOffset;return!a||0>=a.screenLength||0>=a.maxWorldLength?!1:!0}function n(a,b,g){if(!a)return a;switch(a.type){case "line":return b=new f,b.read(a,g),b}}Object.defineProperty(a,
"__esModule",{value:!0});a.hasVisibleVerticalOffset=k;a.hasVisibleCallout=function(a){if(!a||!a.supportsCallout||!a.supportsCallout())return!1;var b=a.callout;return b&&b.visible?k(a)?!0:!1:!1};a.isCalloutSupport=function(a){return"point-3d"===a.type||"label-3d"===a.type};a.read=n;a.calloutProperty={types:{key:"type",base:r,typeMap:{line:f}},json:{read:n,write:!0}}})},"esri/symbols/callouts/Callout3D":function(){define("require exports ../../core/tsSupport/assignHelper ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n,l){return function(a){function b(b){b=a.call(this)||this;b.visible=!0;return b}f(b,a);b.prototype.normalizeCtorArgs=function(a){a&&a.type&&(a=r({},a),delete a.type);return a};b.prototype.clone=function(){};k([l.property({type:["line"],readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],b.prototype,"type",void 0);k([l.property({readOnly:!0})],b.prototype,"visible",void 0);return b=k([l.subclass("esri.symbols.callouts.Callout3D")],b)}(l.declared(n))})},"esri/symbols/callouts/LineCallout3D":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/lang ../../core/screenUtils ../../core/accessorSupport/decorators ./Callout3D ./LineCallout3DBorder ../support/materialUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d){return function(a){function b(b){b=a.call(this)||this;b.type="line";b.color=new k([0,0,0,1]);b.size=l.px2pt(1);b.border=null;return b}r(b,a);g=b;Object.defineProperty(b.prototype,"visible",{get:function(){return 0<this.size&&0<this.color.a},enumerable:!0,configurable:!0});b.prototype.clone=function(){return new g({color:n.clone(this.color),size:this.size,border:n.clone(this.border)})};var g;f([c.property({type:["line"]})],b.prototype,"type",void 0);f([c.property(d.colorAndTransparencyProperty)],
b.prototype,"color",void 0);f([c.property(d.screenSizeProperty)],b.prototype,"size",void 0);f([c.property({type:h.default,json:{write:!0}})],b.prototype,"border",void 0);f([c.property({dependsOn:["size","color"],readOnly:!0})],b.prototype,"visible",null);return b=g=f([c.subclass("esri.symbols.callouts.LineCallout3D")],b)}(c.declared(g))})},"esri/symbols/callouts/LineCallout3DBorder":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../Color ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators ../support/materialUtils".split(" "),
function(b,a,r,f,k,n,l,c,g){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.color=new k("white");return b}r(b,a);h=b;b.prototype.clone=function(){return new h({color:l.clone(this.color)})};var h;f([c.property(g.colorAndTransparencyProperty)],b.prototype,"color",void 0);return b=h=f([c.subclass("esri.symbols.callouts.LineCallout3DBorder")],b)}(c.declared(n));a.LineCallout3DBorder=b;a.default=b})},"esri/symbols/support/Symbol3DVerticalOffset":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators ./materialUtils".split(" "),
function(b,a,r,f,k,n,l){Object.defineProperty(a,"__esModule",{value:!0});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.screenLength=0;b.minWorldLength=0;return b}r(b,a);c=b;b.prototype.writeMinWorldLength=function(a,b,c){a&&(b[c]=a)};b.prototype.clone=function(){return new c({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})};var c;f([n.property(l.screenSizeProperty)],b.prototype,"screenLength",void 0);f([n.property({type:Number,
json:{write:!0}})],b.prototype,"minWorldLength",void 0);f([n.writer("minWorldLength")],b.prototype,"writeMinWorldLength",null);f([n.property({type:Number,json:{write:!0}})],b.prototype,"maxWorldLength",void 0);return b=c=f([n.subclass("esri.symbols.support.Symbol3DVerticalOffset")],b)}(n.declared(k));a.Symbol3DVerticalOffset=b;a.default=b})},"esri/symbols/LineSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./LineSymbol3DLayer ./PathSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d){var v=k.ofType({base:null,key:"type",typeMap:{line:c,text:d,path:g}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new v;b.type="line-3d";return b}r(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:n.clone(this.styleOrigin),symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};var c;f([l.property({type:v})],b.prototype,"symbolLayers",void 0);f([l.enumeration.serializable()({LineSymbol3D:"line-3d"})],b.prototype,
"type",void 0);return b=c=f([l.subclass("esri.symbols.LineSymbol3D")],b)}(l.declared(h))})},"esri/symbols/MeshSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/lang ../core/accessorSupport/decorators ./FillSymbol3DLayer ./Symbol3D".split(" "),function(b,a,r,f,k,n,l,c,g){var h=k.ofType({base:null,key:"type",typeMap:{fill:c}});return function(a){function b(b){b=a.call(this)||this;b.symbolLayers=new h;b.type=
"mesh-3d";return b}r(b,a);c=b;b.prototype.clone=function(){return new c({styleOrigin:n.clone(this.styleOrigin),symbolLayers:n.clone(this.symbolLayers),thumbnail:n.clone(this.thumbnail)})};var c;f([l.property({type:h})],b.prototype,"symbolLayers",void 0);f([l.enumeration.serializable()({MeshSymbol3D:"mesh-3d"})],b.prototype,"type",void 0);return b=c=f([l.subclass("esri.symbols.MeshSymbol3D")],b)}(l.declared(g))})},"esri/symbols/PictureFillSymbol":function(){define(["../core/declare","../core/lang",
"../core/screenUtils","./FillSymbol","./support/urlUtils"],function(b,a,r,f,k){var n={xscale:1,yscale:1,xoffset:0,yoffset:0,width:12,height:12},l=b(f,{declaredClass:"esri.symbols.PictureFillSymbol",properties:{type:"picture-fill",url:k.urlPropertyDefinition,xscale:{value:1,json:{write:!0}},yscale:{value:1,json:{write:!0}},width:{value:12,cast:r.toPt,json:{write:!0}},height:{value:12,cast:r.toPt,json:{write:!0}},xoffset:{value:0,cast:r.toPt,json:{write:!0}},yoffset:{value:0,cast:r.toPt,json:{write:!0}},
source:k.sourcePropertyDefinition},getDefaults:function(){return a.mixin(this.inherited(arguments),n)},normalizeCtorArgs:function(a,b,f,d){if(a&&"string"!==typeof a&&null==a.imageData)return a;var c={};a&&(c.url=a);b&&(c.outline=b);null!=f&&(c.width=r.toPt(f));null!=d&&(c.height=r.toPt(d));return c},clone:function(){var b=new l({color:a.clone(this.color),height:this.height,outline:this.outline&&this.outline.clone(),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,
yscale:this.yscale});b._set("source",a.clone(this.source));return b}});l.defaultProps=n;return l})},"esri/symbols/FillSymbol":function(){define(["./Symbol","./SimpleLineSymbol"],function(b,a){return b.createSubclass({declaredClass:"esri.symbols.FillSymbol",properties:{outline:{type:a,json:{read:{default:null},write:!0}},type:null}})})},"esri/symbols/SimpleLineSymbol":function(){define(["../core/declare","../core/lang","../core/screenUtils","./LineSymbol"],function(b,a,r,f){var k={STYLE_SOLID:"solid",
STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dash-dot",STYLE_DASHDOTDOT:"long-dash-dot-dot",STYLE_NULL:"none",STYLE_SHORTDASH:"short-dash",STYLE_SHORTDOT:"short-dot",STYLE_SHORTDASHDOT:"short-dash-dot",STYLE_SHORTDASHDOTDOT:"short-dash-dot-dot",STYLE_LONGDASH:"long-dash",STYLE_LONGDASHDOT:"long-dash-dot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"},n={color:[0,0,0,1],style:k.STYLE_SOLID,width:.75,cap:k.CAP_ROUND,join:k.JOIN_ROUND,
miterLimit:7.5},l=b(f,{declaredClass:"esri.symbols.SimpleLineSymbol",properties:{type:"simple-line",style:{value:k.STYLE_SOLID,json:{read:function(b,f){return a.valueOf(this._jsonStyles,b)||void 0},write:function(a,b){b.style=this._jsonStyles[a]}}},cap:{value:k.CAP_ROUND,json:{write:{overridePolicy:function(a,b,f){return{enabled:"round"!==a&&(null==f||null==f.origin)}}}}},join:{value:k.JOIN_ROUND,json:{write:{overridePolicy:function(a,b,f){return{enabled:"round"!==a&&(null==f||null==f.origin)}}}}},
miterLimit:{value:7.5,cast:r.toPt,json:{read:!1,write:!1}}},_jsonStyles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot","dash-dot":"esriSLSDashDot","long-dash-dot-dot":"esriSLSDashDotDot",none:"esriSLSNull","inside-frame":"esriSLSInsideFrame","short-dash":"esriSLSShortDash","short-dot":"esriSLSShortDot","short-dash-dot":"esriSLSShortDashDot","short-dash-dot-dot":"esriSLSShortDashDotDot","long-dash":"esriSLSLongDash","long-dash-dot":"esriSLSLongDashDot"},getDefaults:function(){return a.mixin(this.inherited(arguments),
n)},normalizeCtorArgs:function(a,b,f,d,k,l){if(a&&"string"!==typeof a)return a;var c={};null!=a&&(c.style=a);null!=b&&(c.color=b);null!=f&&(c.width=r.toPt(f));null!=d&&(c.cap=d);null!=k&&(c.join=k);null!=l&&(c.miterLimit=r.toPt(l));return c},clone:function(){return new l({color:a.clone(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit})}});a.mixin(l,k);l.defaultProps=n;return l})},"esri/symbols/LineSymbol":function(){define(["../core/declare","../core/screenUtils",
"./Symbol"],function(b,a,r){return b(r,{declaredClass:"esri.symbols.LineSymbol",properties:{color:{},type:"simple-line",width:{value:.75,cast:a.toPt,json:{write:!0}}}})})},"esri/symbols/support/urlUtils":function(){define(["require","exports","../../core/urlUtils"],function(b,a,r){function f(a,b,f){return b.imageData?r.makeData({mediaType:b.contentType||"image/png",isBase64:!0,data:b.imageData}):k(b.url,f)}function k(a,b){return!b||"service"!==b.origin&&"portal-item"!==b.origin||!b.layer||"feature"!==
b.layer.type&&"stream"!==b.layer.type||r.isAbsolute(a)||!b.layer.parsedUrl?r.read(a,b):r.join(b.layer.parsedUrl.path,"images",a)}function n(a,b,f,d){r.isDataProtocol(a)?(a=r.dataComponents(a),b.contentType=a.mediaType,b.imageData=a.data,f&&f.imageData===b.imageData&&f.url&&(b.url=l(f.url,d))):b.url=l(a,d)}function l(a,b){return r.write(a,b)}Object.defineProperty(a,"__esModule",{value:!0});a.readImageDataOrUrl=f;a.read=k;a.writeImageDataAndUrl=n;a.write=l;a.urlPropertyDefinition={json:{read:{source:["imageData",
"url"],reader:f},write:{writer:function(a,b,f,d){n(a,b,this.source,d)}}}};a.sourcePropertyDefinition={readOnly:!0,json:{read:{source:["imageData","url"],reader:function(a,b,f){a={};b.imageData&&(a.imageData=b.imageData);b.contentType&&(a.contentType=b.contentType);b.url&&(a.url=k(b.url,f));return a}}}}})},"esri/symbols/PictureMarkerSymbol":function(){define(["../core/declare","../core/lang","../core/screenUtils","./MarkerSymbol","./support/urlUtils"],function(b,a,r,f,k){var n={width:12,height:12,
angle:0,xoffset:0,yoffset:0},l=b(f,{declaredClass:"esri.symbols.PictureMarkerSymbol",properties:{color:{json:{write:!1}},type:"picture-marker",url:k.urlPropertyDefinition,source:k.sourcePropertyDefinition,height:{json:{read:{source:["height","size"],reader:function(a,b){return b.size||a}},write:!0},cast:r.toPt},width:{json:{read:{source:["width","size"],reader:function(a,b){return b.size||a}},write:!0},cast:r.toPt},size:{json:{write:!1}}},getDefaults:function(){return a.mixin(this.inherited(arguments),
n)},normalizeCtorArgs:function(a,b,f){if(a&&"string"!==typeof a&&null==a.imageData)return a;var c={};a&&(c.url=a);null!=b&&(c.width=r.toPt(b));null!=f&&(c.height=r.toPt(f));return c},clone:function(){var b=new l({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});b._set("source",a.clone(this.source));return b}});l.defaultProps=n;return l})},"esri/symbols/MarkerSymbol":function(){define(["../core/declare","../core/screenUtils","./Symbol"],
function(b,a,r){return b(r,{declaredClass:"esri.symbols.MarkerSymbol",properties:{angle:{value:0,json:{read:function(a){return a&&-1*a},write:function(a,b){b.angle=a&&-1*a}}},type:{},xoffset:{value:0,cast:a.toPt,json:{write:!0}},yoffset:{value:0,cast:a.toPt,json:{write:!0}},size:{value:9,cast:function(b){return"auto"===b?b:a.toPt(b)},json:{write:!0}}}})})},"esri/symbols/PointSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./IconSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer ./callouts/calloutUtils ./support/Symbol3DVerticalOffset".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t){var B=k.ofType({base:null,key:"type",typeMap:{icon:g,object:h,text:v}});return function(a){function b(b){b=a.call(this)||this;b.verticalOffset=null;b.callout=null;b.symbolLayers=new B;b.type="point-3d";return b}r(b,a);d=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new n("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PointSymbol3D",
{symbolLayer:a})));b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.supportsCallout=function(){if(1!==(this.symbolLayers?this.symbolLayers.length:0))return!1;switch(this.symbolLayers.getItemAt(0).type){case "icon":case "text":case "object":return!0}return!1};b.prototype.hasVisibleCallout=function(){return z.hasVisibleCallout(this)};b.prototype.hasVisibleVerticalOffset=function(){return z.hasVisibleVerticalOffset(this)};b.prototype.clone=function(){return new d({verticalOffset:l.clone(this.verticalOffset),
callout:l.clone(this.callout),styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};var d;f([c.property({type:t.default,json:{write:!0}})],b.prototype,"verticalOffset",void 0);f([c.property(z.calloutProperty)],b.prototype,"callout",void 0);f([c.property({type:B})],b.prototype,"symbolLayers",void 0);f([c.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);f([c.enumeration.serializable()({PointSymbol3D:"point-3d"})],
b.prototype,"type",void 0);return b=d=f([c.subclass("esri.symbols.PointSymbol3D")],b)}(c.declared(d))})},"esri/symbols/PolygonSymbol3D":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Collection ../core/Error ../core/lang ../core/accessorSupport/decorators ./ExtrudeSymbol3DLayer ./FillSymbol3DLayer ./IconSymbol3DLayer ./LineSymbol3DLayer ./ObjectSymbol3DLayer ./Symbol3D ./TextSymbol3DLayer".split(" "),function(b,a,r,f,k,n,l,c,g,h,
d,v,z,t,B){var A=k.ofType({base:null,key:"type",typeMap:{extrude:g,fill:h,icon:d,line:v,object:z,text:B}});return function(a){function b(b){b=a.call(this)||this;b.type="polygon-3d";return b}r(b,a);d=b;b.prototype.writeSymbolLayers=function(a,b,c,d){var e=a.filter(function(a){return"text"!==a.type});d&&d.messages&&e.length<a.length&&(a=a.find(function(a){return"text"===a.type}),d.messages.push(new n("symbol-layer:unsupported","Symbol layers of type 'text' cannot be persisted in PolygonSymbol3D",{symbolLayer:a})));
b[c]=e.map(function(a){return a.write({},d)}).toArray()};b.prototype.clone=function(){return new d({styleOrigin:l.clone(this.styleOrigin),symbolLayers:l.clone(this.symbolLayers),thumbnail:l.clone(this.thumbnail)})};b.fromJSON=function(a){var b=new d;b.read(a);if(2===b.symbolLayers.length&&"fill"===b.symbolLayers.getItemAt(0).type&&"line"===b.symbolLayers.getItemAt(1).type){var c=b.symbolLayers.getItemAt(0),e=b.symbolLayers.getItemAt(1);!e.enabled||a.symbolLayers&&a.symbolLayers[1]&&!1===a.symbolLayers[1].enable||
(c.outline={size:e.size,color:e.material.color});b.symbolLayers.removeAt(1)}return b};var d;f([c.property({type:A})],b.prototype,"symbolLayers",void 0);f([c.writer("web-scene","symbolLayers")],b.prototype,"writeSymbolLayers",null);f([c.enumeration.serializable()({PolygonSymbol3D:"polygon-3d"})],b.prototype,"type",void 0);return b=d=f([c.subclass("esri.symbols.PolygonSymbol3D")],b)}(c.declared(t))})},"esri/symbols/SimpleFillSymbol":function(){define(["../core/declare","../core/lang","./FillSymbol",
"./SimpleLineSymbol"],function(b,a,r,f){var k={style:"solid",outline:new f,color:[0,0,0,.25]},n=b(r,{declaredClass:"esri.symbols.SimpleFillSymbol",properties:{color:{},type:"simple-fill",style:{value:"solid",type:String,json:{read:function(b){return a.valueOf(this._styles,b)||void 0},write:function(a,b){b.style=this._styles[a]}}}},_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical","forward-diagonal":"esriSFSForwardDiagonal","backward-diagonal":"esriSFSBackwardDiagonal",
cross:"esriSFSCross","diagonal-cross":"esriSFSDiagonalCross"},getDefaults:function(){return a.mixin(this.inherited(arguments),k)},normalizeCtorArgs:function(a,b,f){if(a&&"string"!==typeof a)return a;var c={};a&&(c.style=a);b&&(c.outline=b);f&&(c.color=f);return c},clone:function(){return new n({color:a.clone(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}});a.mixin(n,{STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forward-diagonal",
STYLE_BACKWARD_DIAGONAL:"backward-diagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonal-cross"});n.defaultProps=k;return n})},"esri/symbols/SimpleMarkerSymbol":function(){define("../core/declare ../core/lang ../core/screenUtils ./MarkerSymbol ./SimpleLineSymbol ./support/simpleMarkerStyles".split(" "),function(b,a,r,f,k,n){var l={style:"circle",color:[255,255,255,.25],outline:new k,size:12,angle:0,xoffset:0,yoffset:0},c=b(f,{declaredClass:"esri.symbols.SimpleMarkerSymbol",properties:{color:{json:{write:function(a,
b){a&&"x"!==this.style&&"cross"!==this.style&&(b.color=a.toJSON())}}},type:"simple-marker",size:{value:12},style:{type:String,value:"circle",json:{read:function(b){return a.valueOf(this._styles,b)},write:function(a,b){b.style=this._styles[a]}}},path:{type:String,value:null,set:function(a){this.style="path";this._set("path",a)},json:{write:!0}},outline:{type:k,json:{write:!0}}},_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",triangle:"esriSMSTriangle",
path:"esriSMSPath"},getDefaults:function(){return a.mixin(this.inherited(arguments),l)},normalizeCtorArgs:function(a,b,c,f){if(a&&"string"!==typeof a)return a;var d={};a&&(d.style=a);null!=b&&(d.size=r.toPt(b));c&&(d.outline=c);f&&(d.color=f);return d},clone:function(){return new c({angle:this.angle,color:a.clone(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})},read:function h(b,c){return this.getInherited(h,
arguments).call(this,a.mixin({outline:null},b),c)}});a.mixin(c,n);c.defaultProps=l;return c})},"esri/symbols/support/simpleMarkerStyles":function(){define(["require","exports"],function(b,a){Object.defineProperty(a,"__esModule",{value:!0});a.STYLE_CIRCLE="circle";a.STYLE_SQUARE="square";a.STYLE_CROSS="cross";a.STYLE_X="x";a.STYLE_DIAMOND="diamond";a.STYLE_PATH="path";a.STYLE_TARGET="target"})},"esri/symbols/TextSymbol":function(){define("../core/declare ../core/lang ../core/screenUtils ../Color ./Symbol ./Font".split(" "),
function(b,a,r,f,k,n){var l={text:"",rotated:!1,kerning:!0,color:[0,0,0,1],font:{},angle:0,xoffset:0,yoffset:0,horizontalAlignment:"center"},c=b(k,{declaredClass:"esri.symbols.TextSymbol",properties:{backgroundColor:{type:f,json:{write:!0}},borderLineColor:{type:f,json:{write:!0}},borderLineSize:{type:Number,json:{write:!0}},color:{},font:{type:n,json:{write:!0}},horizontalAlignment:{value:"center",json:{write:!0}},kerning:{value:!0,json:{write:!0}},haloColor:{type:f,json:{write:!0}},haloSize:{type:Number,
cast:r.toPt,json:{write:!0}},rightToLeft:{json:{write:!0}},rotated:{value:!1,json:{write:!0}},text:{type:String,json:{write:!0}},type:"text",verticalAlignment:{type:String,json:{write:!0}},xoffset:{value:0,type:Number,cast:r.toPt,json:{write:!0}},yoffset:{value:0,type:Number,cast:r.toPt,json:{write:!0}},angle:{type:Number,value:0,json:{read:function(a){return a&&-1*a},write:function(a,b){b.angle=a&&-1*a}}},width:{json:{write:!0}}},getDefaults:function(){return a.mixin(this.inherited(arguments),l)},
normalizeCtorArgs:function(a,b,c){if(a&&"string"!==typeof a)return a;var d={};a&&(d.text=a);b&&(d.font=b);c&&(d.color=c);return d},clone:function(){return new c({angle:this.angle,backgroundColor:a.clone(this.backgroundColor),borderLineColor:a.clone(this.borderLineColor),borderLineSize:this.borderLineSize,color:a.clone(this.color),font:this.font&&this.font.clone(),haloColor:a.clone(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,rightToLeft:this.rightToLeft,
rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}});a.mixin(c,{ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"});c.defaultProps=l;return c})},"esri/symbols/WebStyleSymbol":function(){define("require exports ../core/tsSupport/extendsHelper ../core/tsSupport/decorateHelper ../core/kebabDictionary ../core/Logger ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators ../portal/Portal ./Symbol ./support/Thumbnail".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v){var z=n.getLogger("esri.symbols.WebStyleSymbol"),t=k.strict()({styleSymbolReference:"web-style"});return function(a){function d(b){b=a.call(this,b)||this;b.styleName=null;b.portal=null;b.styleUrl=null;b.thumbnail=null;b.name=null;b.type="web-style";return b}r(d,a);k=d;d.prototype._readStyleUrl=function(a,b,d){return c.read(a,d)};d.prototype._writeStyleUrl=function(a,b,d,f){b.styleUrl=c.write(a,f);c.isAbsolute(b.styleUrl)&&(b.styleUrl=c.normalize(b.styleUrl))};d.prototype.read=
function(a,b){this.portal=b?b.portal:void 0;this.inherited(arguments,[a,b]);return this};d.prototype.clone=function(){return new k({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})};d.prototype.fetchSymbol=function(){var a=this;return l.create(function(a){return b(["./support/styleUtils"],a)}).then(function(b){b=b.resolveWebStyleSymbol(a,{portal:a.portal});b.catch(function(a){z.error("#fetchSymbol()","Failed to create symbol from style",a)});return b})};var k;f([g.property({json:{write:!1}})],
d.prototype,"color",void 0);f([g.property({type:String,json:{write:!0}})],d.prototype,"styleName",void 0);f([g.property({type:h,json:{write:!1}})],d.prototype,"portal",void 0);f([g.property({type:String,json:{write:!0}})],d.prototype,"styleUrl",void 0);f([g.reader("styleUrl")],d.prototype,"_readStyleUrl",null);f([g.writer("styleUrl")],d.prototype,"_writeStyleUrl",null);f([g.property({type:v.default,json:{read:!1}})],d.prototype,"thumbnail",void 0);f([g.property({type:String,json:{write:!0}})],d.prototype,
"name",void 0);f([g.property({type:t.apiValues,readOnly:!0,json:{type:t.jsonValues,read:!1,write:t.write}})],d.prototype,"type",void 0);return d=k=f([g.subclass("esri.symbols.WebStyleSymbol")],d)}(g.declared(d))})},"esri/symbols/support/symbolConversion":function(){define("require exports ../../Color ../../symbols ../../core/Error ../../core/lang ../Font ./simpleMarkerStyles".split(" "),function(b,a,r,f,k,n,l,c){function g(a){var b=a.color?a.color.clone():new r([255,255,255]),c,d,g;a instanceof f.PictureMarkerSymbol?
(a.color&&0===a.color.r&&0===a.color.g&&0===a.color.b&&(b=new r([255,255,255])),c={href:a.url},d=a.width<=a.height?a.height:a.width):(c=a.style,c in h?c=h[c]:(console.log(c+' cannot be mapped to Icon symbol. Fallback to "circle"'),c="circle"),c={primitive:c},d=a.size,a.outline&&0<a.outline.width&&(g={size:a.outline.width,color:a.outline.color?a.outline.color.clone():[255,255,255]}));return new f.PointSymbol3D(new f.IconSymbol3DLayer({size:d,resource:c,material:{color:b},outline:g}))}Object.defineProperty(a,
"__esModule",{value:!0});var h={};h[c.STYLE_CIRCLE]="circle";h[c.STYLE_CROSS]="cross";h[c.STYLE_DIAMOND]="kite";h[c.STYLE_SQUARE]="square";h[c.STYLE_X]="x";a.to3D=function(a,b,c,h){void 0===b&&(b=!1);void 0===c&&(c=!1);void 0===h&&(h=!0);if(!a)return{symbol:null};if(f.isSymbol3D(a)||a instanceof f.WebStyleSymbol)h=a.clone();else if(a instanceof f.SimpleLineSymbol)h=new f.LineSymbol3D(new f.LineSymbol3DLayer({size:a.width||1,material:{color:a.color?a.color.clone():[255,255,255]}}));else if(a instanceof
f.SimpleMarkerSymbol)h=g(a);else if(a instanceof f.PictureMarkerSymbol)h=g(a);else if(a instanceof f.SimpleFillSymbol)h=new f.FillSymbol3DLayer({material:{color:a.color?a.color.clone():[255,255,255,0]}}),a.outline&&(h.outline={size:a.outline.width||0,color:a.outline.color?a.outline.color.clone():[255,255,255]}),h=new f.PolygonSymbol3D(h);else if(a instanceof f.TextSymbol){var d;d=a.haloColor;var r=a.haloSize;d=d&&0<r?{color:n.clone(d),size:r}:null;r=a.font?a.font.clone():new l;h=new (h?f.LabelSymbol3D:
f.PointSymbol3D)(new f.TextSymbol3DLayer({size:r.size,font:r,halo:d,material:{color:a.color.clone()},text:a.text}))}else return{error:new k("symbol-conversion:unsupported-2d-symbol","2D symbol of type '"+(a.type||a.declaredClass)+"' is unsupported in 3D",{symbol:a})};b&&(h.id=a.id);if(c&&f.isSymbol3D(h))for(a=0;a<h.symbolLayers.length;++a)h.symbolLayers.getItemAt(a)._ignoreDrivers=!0;return{symbol:h}}})},"esri/symbols":function(){define("require exports ./symbols/ExtrudeSymbol3DLayer ./symbols/FillSymbol ./symbols/FillSymbol3DLayer ./symbols/Font ./symbols/IconSymbol3DLayer ./symbols/LabelSymbol3D ./symbols/LineSymbol3D ./symbols/LineSymbol3DLayer ./symbols/MarkerSymbol ./symbols/MeshSymbol3D ./symbols/ObjectSymbol3DLayer ./symbols/PathSymbol3DLayer ./symbols/PictureFillSymbol ./symbols/PictureMarkerSymbol ./symbols/PointSymbol3D ./symbols/PolygonSymbol3D ./symbols/SimpleFillSymbol ./symbols/SimpleLineSymbol ./symbols/SimpleMarkerSymbol ./symbols/Symbol ./symbols/Symbol3D ./symbols/Symbol3DLayer ./symbols/TextSymbol ./symbols/TextSymbol3DLayer ./symbols/WebStyleSymbol ./symbols/callouts/LineCallout3D ./symbols/callouts/LineCallout3DBorder ./symbols/support/Symbol3DVerticalOffset ./symbols/support/jsonUtils".split(" "),
function(b,a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y,e,p,x,F,G,C,O,E,P,da,ga,T){Object.defineProperty(a,"__esModule",{value:!0});a.ExtrudeSymbol3DLayer=r;a.BaseFillSymbol=f;a.FillSymbol3DLayer=k;a.Font=n;a.IconSymbol3DLayer=l;a.LabelSymbol3D=c;a.LineSymbol3D=g;a.LineSymbol3DLayer=h;a.BaseMarkerSymbol=d;a.MeshSymbol3D=v;a.ObjectSymbol3DLayer=z;a.PathSymbol3DLayer=t;a.PictureFillSymbol=B;a.PictureMarkerSymbol=A;a.PointSymbol3D=w;a.PolygonSymbol3D=m;a.SimpleFillSymbol=y;a.SimpleLineSymbol=e;a.SimpleMarkerSymbol=
p;a.BaseSymbol=x;a.BaseSymbol3D=F;a.BaseSymbol3DLayer=G;a.TextSymbol=C;a.TextSymbol3DLayer=O;a.WebStyleSymbol=E;a.LineCallout3D=P;a.LineCallout3DBorder=da;a.Symbol3DVerticalOffset=ga.Symbol3DVerticalOffset;a.fromJSON=T.fromJSON;a.isSymbol=function(b){return b instanceof a.BaseSymbol};a.isSymbol2D=function(a){if(!a)return!1;switch(a.type){case "picture-fill":case "picture-marker":case "simple-fill":case "simple-line":case "simple-marker":case "text":return!0;default:return!1}};a.isSymbol3D=function(a){if(!a)return!1;
switch(a.type){case "label-3d":case "line-3d":case "mesh-3d":case "point-3d":case "polygon-3d":return!0;default:return!1}}})},"esri/symbols/support/typeUtils":function(){define("require exports ../../core/accessorSupport/ensureType ../LabelSymbol3D ../LineSymbol3D ../MeshSymbol3D ../PictureFillSymbol ../PictureMarkerSymbol ../PointSymbol3D ../PolygonSymbol3D ../SimpleFillSymbol ../SimpleLineSymbol ../SimpleMarkerSymbol ../Symbol ../TextSymbol ../WebStyleSymbol".split(" "),function(b,a,r,f,k,n,l,c,
g,h,d,v,z,t,B,A){Object.defineProperty(a,"__esModule",{value:!0});a.types={base:t,key:"type",typeMap:{"simple-fill":d,"picture-fill":l,"picture-marker":c,"simple-line":v,"simple-marker":z,text:B,"label-3d":f,"line-3d":k,"mesh-3d":n,"point-3d":g,"polygon-3d":h,"web-style":A}};a.rendererTypes={base:t,key:"type",typeMap:{"simple-fill":d,"picture-fill":l,"picture-marker":c,"simple-line":v,"simple-marker":z,text:B,"line-3d":k,"mesh-3d":n,"point-3d":g,"polygon-3d":h,"web-style":A}};a.labelTypes={base:t,
key:"type",typeMap:{text:B,"label-3d":f}};a.types3D={base:t,key:"type",typeMap:{"label-3d":f,"line-3d":k,"mesh-3d":n,"point-3d":g,"polygon-3d":h,"web-style":A}};a.rendererTypes3D={base:t,key:"type",typeMap:{"line-3d":k,"mesh-3d":n,"point-3d":g,"polygon-3d":h,"web-style":A}};a.labelTypes3D={base:t,key:"type",typeMap:{"label-3d":f}};a.ensureType=r.ensureOneOfType(a.types)})},"esri/tasks/support/QuantizationParameters":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../geometry ../../core/JSONSupport ../../core/kebabDictionary ../../core/lang ../../core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n,l,c,g){Object.defineProperty(a,"__esModule",{value:!0});var h=l({upperLeft:"upper-left",lowerLeft:"lower-left"});b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;b.extent=null;b.mode="view";b.originPosition="upper-left";return b}r(b,a);d=b;b.prototype.clone=function(){return new d(c.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};var d;f([g.property({type:k.Extent,json:{write:!0}})],b.prototype,"extent",
void 0);f([g.property({type:String,json:{write:!0}})],b.prototype,"mode",void 0);f([g.property({type:String,json:{read:h.read,write:h.write}})],b.prototype,"originPosition",void 0);f([g.property({type:Number,json:{write:!0}})],b.prototype,"tolerance",void 0);return b=d=f([g.subclass("esri.tasks.support.QuantizationParameters")],b)}(g.declared(n));a.default=b})},"esri/tasks/support/StatisticDefinition":function(){define("require exports ../../core/tsSupport/declareExtendsHelper ../../core/tsSupport/decorateHelper ../../core/JSONSupport ../../core/accessorSupport/decorators".split(" "),
function(b,a,r,f,k,n){return function(a){function b(b){b=a.call(this)||this;b.maxPointCount=void 0;b.maxRecordCount=void 0;b.maxVertexCount=void 0;b.onStatisticField=null;b.outStatisticFieldName=null;b.statisticType=null;return b}r(b,a);g=b;b.prototype.clone=function(){return new g({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType})};
var g;f([n.property({type:Number,json:{write:!0}})],b.prototype,"maxPointCount",void 0);f([n.property({type:Number,json:{write:!0}})],b.prototype,"maxRecordCount",void 0);f([n.property({type:Number,json:{write:!0}})],b.prototype,"maxVertexCount",void 0);f([n.property({type:String,json:{write:!0}})],b.prototype,"onStatisticField",void 0);f([n.property({type:String,json:{write:!0}})],b.prototype,"outStatisticFieldName",void 0);f([n.property({type:String,json:{write:!0}})],b.prototype,"statisticType",
void 0);return b=g=f([n.subclass("esri.tasks.support.StatisticDefinition")],b)}(n.declared(k))})},"*noref":1}});
define("require exports ../../../../core/tsSupport/generatorHelper @dojo/framework/shim/Set dojo/number dstore/Csv ../../../../geometry ../../../../request ../../../../core/Error ../../../../core/has ../../../../core/lang ../../../../core/promiseUtils ../../../../core/urlUtils ../../../../geometry/projection ../../../../geometry/support/spatialReferenceUtils ../../../../geometry/support/webMercatorUtils ../../OptimizedFeature ../../OptimizedGeometry ../../data/DefaultSpatialIndex ../../data/QueryEngine ../../../../tasks/support/Query".split(" "),function(b,
a,r,f,k,n,l,c,g,h,d,v,z,t,B,A,w,m,y,e,p){Object.defineProperty(a,"__esModule",{value:!0});var x=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong"];a.csvLatitudeFieldNames="lat latitude y ycenter latitude83 latdecdeg point-y".split(" ");a.csvLongitudeFieldNames="lon lng long longitude x xcenter longitude83 longdecdeg point-x".split(" ");a.csvDetectedDelimiters=[","," ",";","|","\t"];var F=/^((jan(uary)?)|(feb(ruary)?)|(mar(ch)?)|(apr(il)?)|(may)|(jun(e)?)|(jul(y)?)|(aug(ust)?)|(sep(tember)?)|(oct(ober)?)|(nov(ember)?)|(dec(ember)?)|(am)|(pm)|(gmt)|(utc))$/i,
G=[0,0],C=function(){return function(a,b){this.x=a;this.y=b}}(),O=function(){var a=k._parseInfo(),b=new RegExp("^"+a.regexp+"$"),c=new RegExp("["+a.group+"\\s\\xa0]","g"),d=a.factor;return function(e){e=b.exec(e);a.factor=d;if(!e)return NaN;var f=e[1];if(!e[1]){if(!e[2])return NaN;f=e[2];a.factor*=-1}f=f.replace(c,"").replace(a.decimal,".");return+f*a.factor}}();b=function(){function b(){this._queryEngine=null}b.prototype.load=function(a){var b=this;return v.all([this._fetch(a.url),this._checkProjection(a)]).then(function(c){c=
c[0];var d=b._parse(c,a.parsing);b._queryEngine=b._createQueryEngine(c,d);d.layerDefinition.extent=b._queryEngine.fullExtent;return d})};b.prototype.applyEdits=function(a){return v.reject(new g("csv-source:editing-not-supported","applyEdits() is not supported on CSVLayer"))};b.prototype.queryFeatures=function(a){void 0===a&&(a={});return this._queryEngine.executeQuery(p.fromJSON(a))};b.prototype.queryFeatureCount=function(a){void 0===a&&(a={});return this._queryEngine.executeQueryForCount(p.fromJSON(a))};
b.prototype.queryObjectIds=function(a){void 0===a&&(a={});return this._queryEngine.executeQueryForIds(p.fromJSON(a))};b.prototype.queryExtent=function(a){void 0===a&&(a={});return this._queryEngine.executeQueryForExtent(p.fromJSON(a))};b.prototype._fetch=function(a){if(!a)return v.reject(new g("csv-source:invalid-source","url not defined"));a=z.urlToObject(a);return c(a.path,{query:a.query,responseType:"text"}).then(function(a){return a.data})};b.prototype._parse=function(a,b){void 0===b&&(b={});
for(var c={columnDelimiter:b.columnDelimiter,layerDefinition:null,locationInfo:{latitudeFieldName:b.latitudeField,longitudeFieldName:b.longitudeField}};a&&"\n"===a[0];)a=a.slice(1);"\n"!==a[a.length-1]&&(a+="\n");var e=this._readFirstLine(a);if(!e)throw new g("csv","CSV is empty",{csv:a});if(!b.columnDelimiter){var f=this._inferDelimiter(e);if(!f)throw new g("csv-source:invalid-delimiter","Unable to detect the delimiter from CSV");c.columnDelimiter=f}var e=e.split(c.columnDelimiter),h=c.layerDefinition=
{name:"csv",geometryType:"esriGeometryPoint",objectIdField:null,fields:[],extent:{xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,spatialReference:b.spatialReference||{wkid:102100}}};if(!b.latitudeField||!b.longitudeField){f=this._inferLocationInfo(e);if(!b.longitudeField&&!f.longitudeFieldName||!b.latitudeField&&!f.latitudeFieldName)throw new g("csv","Unable to identify latitudeField and/or longitudeField from CSV");c.locationInfo=
{longitudeFieldName:b.longitudeField||f.longitudeFieldName,latitudeFieldName:b.latitudeField||f.latitudeFieldName}}a=this._inferFields(a,c.columnDelimiter,e,c.locationInfo);if(b.fields&&b.fields.length){for(var e=new Map,f=0,k=b.fields;f<k.length;f++)b=k[f],e.set(b.name.toLowerCase(),b);for(f=0;f<a.length;f++)if(b=a[f],k=e.get(b.name.toLowerCase())){var l=b.name;d.mixin(b,k);b.name=l}}h.fields=a;h.fields.some(function(a){return"esriFieldTypeOID"===a.type?(h.objectIdField=a.name,!0):!1})||(h.objectIdField=
"__OBJECTID",h.fields.unshift({name:"__OBJECTID",alias:"__OBJECTID",type:"esriFieldTypeOID",editable:!1,nullable:!1}));return c};b.prototype._inferLocationInfo=function(b){var c=null,d=null;b.forEach(function(b){var e=b.toLowerCase(),f;f=a.csvLatitudeFieldNames.indexOf(e);-1===f||d||(d=b);f=a.csvLongitudeFieldNames.indexOf(e);-1===f||c||(c=b)});return{longitudeFieldName:c,latitudeFieldName:d}};b.prototype._inferFields=function(a,b,c,d){var e=[],f=this._sampleLines(a).map(function(a){return a.split(b).map(function(a){return a.trim()})});
a=function(a){var b=c[a];if(b===d.longitudeFieldName||b===d.latitudeFieldName)e.push({name:b,type:"esriFieldTypeDouble",alias:b});else{var h=f.map(function(b){return b[a]}),h=g._inferFieldType(h),b={name:b.replace(/[\s\'\u2019\u2018\.\-\/\(\)]+/g,"_"),type:null,alias:b};switch(h){case "integer":b.type="esriFieldTypeInteger";break;case "double":b.type="esriFieldTypeDouble";break;case "date":b.type="esriFieldTypeDate";b.length=36;break;default:b.type="esriFieldTypeString",b.length=255}e.push(b)}};for(var g=
this,h=0;h<c.length;h++)a(h);return e};b.prototype._inferFieldType=function(a){var b=this;if(!a.length)return"string";var c=/[^+-.,0-9]/;return a.map(function(a){var d=!1;if(""===a||c.test(a))d=!0;else if(d=O(a),isNaN(d))if(-1===a.indexOf("E"))d=!0;else if(d=Number(a),isNaN(d))if(-1===a.indexOf(","))d=!0;else if(a=a.replace(",","."),d=Number(a),isNaN(d))d=!0;else return"double";else return"double";else return/[.,]/.test(a)?"double":214783647<d||-214783648>d?"double":"integer";return d&&!/^[-]?\d*[.,]?\d*$/.test(a)&&
b._isValidDate(new Date(a),a)?"date":"string"}).reduce(function(a,b){if(a===b)return b;if("string"===a||"string"===b)return"string";if("double"===a||"double"===b)return"double"})};b.prototype._isValidDate=function(a,b){if(!a||"[object Date]"!==Object.prototype.toString.call(a)||isNaN(a.getTime()))return!1;a=!0;if(h("chrome")&&/\d+\W*$/.test(b)&&(b=b.match(/[a-zA-Z]{2,}/))){a=!1;for(var c=0;!a&&c<=b.length;)a=!F.test(b[c]),c++;a=!a}return a};b.prototype._readFirstLine=function(a){return a.substring(0,
a.indexOf("\n")).trim()};b.prototype._sampleLines=function(a,b){void 0===b&&(b=10);for(var c=!1,d=[],e=a.indexOf("\n")+1;!c&&d.length<b;){var f=a.indexOf("\n",e);if(-1===f)c=!0;else{var g=void 0;(g=-1===f&&e<a.length-1?a.substring(e).trim():a.substring(e,f).trim())&&d.push(g);e=f+1}}return d};b.prototype._inferDelimiter=function(b){var c=0,d="";a.csvDetectedDelimiters.forEach(function(a){var e=b.split(a).length;e>c&&(c=e,d=a)});return""===d?null:d};b.prototype._createQueryEngine=function(a,b){var c,
d=b.locationInfo;c=d.latitudeFieldName;for(var g=d.longitudeFieldName,h=b.layerDefinition,d=h.objectIdField,k=h.fields,p=h.extent,h=[],r=[],v=new f.Set,z=new f.Set,E=[],F=0;F<k.length;F++){var P=k[F],ba=P.name,P=P.type;"esriFieldTypeDate"===P?v.add(ba):-1<x.indexOf(P)&&z.add(ba);ba!==d&&E.push(ba)}k=new n;k.delimiter=b.columnDelimiter;k.fieldNames=E;k.newline="\n";a=k.parse(a);k=0;a.shift();for(E=0;E<a.length;E++)if(F=a[E],ba=this._parseCoordinateValue(F[c]),P=this._parseCoordinateValue(F[g]),null!=
P&&null!=ba&&!isNaN(ba)&&!isNaN(P)){F[c]=ba;F[g]=P;for(var Q in F)if(Q!==c&&Q!==g)if(v.has(Q)){var V=new Date(F[Q]);F[Q]=this._isValidDate(V,F[Q])?V.getTime():null}else z.has(Q)&&(V=O(F[Q]),isNaN(V)?F[Q]=null:F[Q]=V);F[d]=k;k++;h.push(new C(P,ba));r.push(F)}if(!B.equals({wkid:4326},p.spatialReference))if(B.isWebMercator(p.spatialReference))for(Q=0,g=h;Q<g.length;Q++)v=g[Q],c=A.lngLatToXY(v.x,v.y,G),v.x=c[0],v.y=c[1];else h=t.projectMany(h,l.SpatialReference.WGS84,p.spatialReference,null,!0);c=new y.default({geometryType:"esriGeometryPoint",
hasM:!1,hasZ:!1});b=new e.default({fields:b.layerDefinition.fields,geometryType:"esriGeometryPoint",hasM:!1,hasZ:!1,objectIdField:d,spatialReference:p.spatialReference||{wkid:4326},cacheSpatialQueries:!0,spatialIndex:c});p=[];for(Q=0;Q<h.length;Q++)v=h[Q],g=v.x,v=v.y,z=r[Q],z[d]=Q+1,p.push(new w.default(new m.default([],[g,v]),z,null,z[d]));c.addMany(p);return b};b.prototype._parseCoordinateValue=function(a){if(null==a||""===a)return null;var b=O(a);if(isNaN(b)||181<Math.abs(b))b=parseFloat(a);return b};
b.prototype._checkProjection=function(a){if(!a||!a.parsing||!a.parsing.spatialReference)return v.resolve();a=a.parsing&&a.parsing.spatialReference;return!a||A.canProject(l.SpatialReference.WGS84,a)?v.resolve():t.isSupported()?t.load():v.reject(new g("csv-layer","Projection not supported"))};return b}();a.default=b});