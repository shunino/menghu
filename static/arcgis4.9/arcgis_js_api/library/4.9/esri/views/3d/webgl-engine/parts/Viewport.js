// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.9/esri/copyright.txt for details.
//>>built
define("require exports ../../../../core/has ../../lib/gl-matrix ../lib/Camera ../lib/PerformanceTimer ./Visualizer".split(" "),function(k,l,m,f,g,n,h){var b={fbo:null,lightDirection:null,camera:null,pixelRatio:1};return function(){function a(c,a,e,d,b){this._content=new Map;this._stats={renderGeometriesTotal:0,renderGeometriesVisible:0,visualizerRenderTimer:null,viewportRenderTimer:null};this._needsRender=!0;this._rctx=b;this._gl=b.gl;this._visualizer=new h(c,a,e,d,this._rctx);this._camera=new g(f.vec3.createFrom(0,
100,-100),f.vec3.createFrom(0,0,0))}Object.defineProperty(a.prototype,"isLoadingResources",{get:function(){return this._visualizer.isLoadingResources},enumerable:!0,configurable:!0});a.prototype.getCombinedStats=function(){var c={},a=this._visualizer.getCombinedStats(),b;for(b in a)c[b]=a[b];c.renderGeometriesTotal=this._stats.renderGeometriesTotal;c.renderGeometriesVisible=this._stats.renderGeometriesVisible;void 0!==this._gl.getUsedTextureMemory&&(c.textureMemory=this._gl.getUsedTextureMemory());
void 0!==this._gl.getUsedRenderbufferMemory&&(c.renderbufferMemory=this._gl.getUsedRenderbufferMemory());void 0!==this._gl.getUsedVBOMemory&&(c.VBOMemory=this._gl.getUsedVBOMemory());if(void 0!==this._gl.getUsedTextureMemoryStats){var a=this._gl.getUsedTextureMemoryStats(),d;for(d in a)c["texMem type: "+d]=a[d]}return c};a.prototype.dispose=function(){this._visualizer.dispose();this._visualizer=null};a.prototype.setLighting=function(a){this._visualizer.setLighting(a)};a.prototype.setRenderParams=
function(a){this._visualizer.setRenderParams(a)};a.prototype.getRenderParams=function(){return this._visualizer.getRenderParams()};a.prototype.getEdgeView=function(){return this._visualizer.getEdgeView()};a.prototype.modify=function(a,b,e,d){this._visualizer.modify(a,b,e,d);this._content=this._visualizer.getContent()};a.prototype.getContent=function(){return this._content};a.prototype.setCamera=function(a){this._camera.copyFrom(a);this._needsRender=!0};a.prototype.getCamera=function(){return this._camera};
Object.defineProperty(a.prototype,"renderPlugins",{get:function(){return this._visualizer.renderPlugins},enumerable:!0,configurable:!0});a.prototype.getFramebufferTexture=function(a){return this._visualizer.getFramebufferTexture(a)};a.prototype.render=function(a){b.camera=a.camera||this._camera;b.fbo=a.fbo;b.lightDirection=a.lightDirection;b.pixelRatio=a.pixelRatio||1;this._visualizer.render(b)};a.prototype.resetNeedsRender=function(){this._needsRender=!1;this._visualizer.resetNeedsRender()};a.prototype.needsRender=
function(){return this._needsRender||this._visualizer.needsRender()};return a}()});