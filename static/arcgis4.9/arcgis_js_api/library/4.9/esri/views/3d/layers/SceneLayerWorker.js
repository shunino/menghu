// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.9/esri/copyright.txt for details.
//>>built
require({cache:{"esri/geometry/SpatialReference":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/lang ../core/accessorSupport/decorators ./support/spatialReferenceUtils".split(" "),function(a,b,d,q,t,k,r,u){a=function(a){function b(c){c=a.call(this)||this;c.latestWkid=null;c.wkid=null;c.wkt=null;return c}d(b,a);c=b;b.fromJSON=function(a){if(!a)return null;if(a.wkid){if(102100===a.wkid)return c.WebMercator;if(4326===
a.wkid)return c.WGS84}var b=new c;b.read(a);return b};b.prototype.normalizeCtorArgs=function(a){var c;return a&&"object"===typeof a?a:(c={},c["string"===typeof a?"wkt":"wkid"]=a,c)};Object.defineProperty(b.prototype,"isWGS84",{get:function(){return u.isWGS84(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWebMercator",{get:function(){return u.isWebMercator(this)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isGeographic",{get:function(){return u.isGeographic(this)},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"isWrappable",{get:function(){return u.isWrappable(this)},enumerable:!0,configurable:!0});b.prototype.writeWkt=function(a,c){this.wkid||(c.wkt=a)};b.prototype.clone=function(){if(this===c.WGS84)return c.WGS84;if(this===c.WebMercator)return c.WebMercator;var a=new c;null!=this.wkid?(a.wkid=this.wkid,null!=this.latestWkid&&(a.latestWkid=this.latestWkid),null!=this.vcsWkid&&(a.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(a.latestVcsWkid=
this.latestVcsWkid)):null!=this.wkt&&(a.wkt=this.wkt);return a};b.prototype.equals=function(a){return u.equals(this,a)};b.prototype.toJSON=function(a){return this.write(null,a)};var c;b.GCS_NAD_1927=null;b.WGS84=null;b.WebMercator=null;q([r.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWGS84",null);q([r.property({dependsOn:["wkid"],readOnly:!0})],b.prototype,"isWebMercator",null);q([r.property({dependsOn:["wkid","wkt"],readOnly:!0})],b.prototype,"isGeographic",null);q([r.property({dependsOn:["wkid"],
readOnly:!0})],b.prototype,"isWrappable",null);q([r.property({type:Number,json:{write:!0}})],b.prototype,"latestWkid",void 0);q([r.property({type:Number,json:{write:!0,origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkt?!0:!1}}}}}}})],b.prototype,"wkid",void 0);q([r.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy:function(){return{isRequired:null===this.wkid?!0:!1}}}}}}})],b.prototype,"wkt",void 0);q([r.writer("wkt"),r.writer("web-scene",
"wkt")],b.prototype,"writeWkt",null);q([r.property({type:Number,json:{write:!0}})],b.prototype,"vcsWkid",void 0);q([r.property({type:Number,json:{write:!0}})],b.prototype,"latestVcsWkid",void 0);return b=c=q([r.subclass("esri.geometry.SpatialReference")],b)}(r.declared(t));a.prototype.toJSON.isDefaultToJSON=!0;a.GCS_NAD_1927=new a({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'});
a.WGS84=new a(4326);a.WGS84.wkt=k.substitute({Central_Meridian:"0.0"},u.getInfo(a.WGS84).wkTemplate);a.WebMercator=new a({wkid:102100,latestWkid:3857});Object.freeze&&(Object.freeze(a.GCS_NAD_1927),Object.freeze(a.WGS84),Object.freeze(a.WebMercator));return a})},"esri/core/tsSupport/declareExtendsHelper":function(){define(["require","exports"],function(a,b){return function(a,b){a.__bases__=b.__bases__}})},"esri/core/tsSupport/decorateHelper":function(){define([],function(){return function(a,b,d,q){var t=
arguments.length,k=3>t?b:null===q?q=Object.getOwnPropertyDescriptor(b,d):q,r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)k=Reflect.decorate(a,b,d,q);else for(var u=a.length-1;0<=u;u--)if(r=a[u])k=(3>t?r(k):3<t?r(b,d,k):r(b,d))||k;return 3<t&&k&&Object.defineProperty(b,d,k),k}})},"esri/core/JSONSupport":function(){define("require exports ./tsSupport/declareExtendsHelper ./tsSupport/decorateHelper ./Accessor ./declare ./accessorSupport/decorators ./accessorSupport/read ./accessorSupport/write".split(" "),
function(a,b,d,q,t,k,r,u,w){function m(a,c){if(!a)return null;if(a.declaredClass)throw Error("JSON object is already hydrated");var b=new this;b.read(a,c);return b}var c=function(a){function c(){return null!==a&&a.apply(this,arguments)||this}d(c,a);c.prototype.read=function(a,c){u.default(this,a,c);return this};c.prototype.write=function(a,c){return w.default(this,a||{},c)};c.prototype.toJSON=function(a){return this.write(null,a)};c.fromJSON=function(a,c){return m.call(this,a,c)};return c=q([r.subclass("esri.core.JSONSupport")],
c)}(r.declared(t));c.prototype.toJSON.isDefaultToJSON=!0;k.after(function(a){k.hasMixin(a,c)&&(a.fromJSON=m.bind(a))});return c})},"esri/core/Accessor":function(){define("./declare ./accessorSupport/Properties ./accessorSupport/get ./accessorSupport/introspection ./accessorSupport/set ./accessorSupport/watch".split(" "),function(a,b,d,q,t,k){b=b.default;a.before(function(b,d){a.hasMixin(b,r)&&q.processPrototype(d)});a.after(function(b){a.hasMixin(b,r)&&(q.processClass(b),Object.defineProperties(b.prototype,
{initialized:{get:function(){return this.__accessor__&&this.__accessor__.initialized||!1}},constructed:{get:function(){return this.__accessor__&&2===this.__accessor__.lifecycle||!1}},destroyed:{get:function(){return this.__accessor__&&this.__accessor__.destroyed||!1}}}))});var r=a(null,{declaredClass:"esri.core.Accessor","-chains-":{initialize:"after",destroy:"before"},constructor:function(){if(this.constructor===r)throw Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");
Object.defineProperty(this,"__accessor__",{value:new b(this)});if(0<arguments.length&&this.normalizeCtorArgs){for(var a=[],d=0;d<arguments.length;d++)a.push(arguments[d]);this.__accessor__.ctorArgs=this.normalizeCtorArgs.apply(this,a)}},__accessor__:null,postscript:function(a){var b=this.__accessor__;a=b.ctorArgs||a;var m;null!=this.getDefaults&&(m=this.getDefaults(a||{}),this.set(m));b.initialize();a&&(this.set(a),b.ctorArgs=null);b.constructed();this.initialize()},initialize:function(){},destroy:function(){if(this.destroyed)try{throw Error("instance is already destroyed");
}catch(u){console.warn(u.stack)}else k.removeTarget(this),this.__accessor__.destroy()},get:function(a){return d.get(this,a)},hasOwnProperty:function(a){return this.__accessor__?this.__accessor__.has(a):Object.prototype.hasOwnProperty.call(this,a)},keys:function(){return this.__accessor__?this.__accessor__.keys():[]},set:function(a,b){t.set(this,a,b);return this},watch:function(a,b,m){return k.watch(this,a,b,m)},_clearOverride:function(a){return this.__accessor__.clearOverride(a)},_override:function(a,
b){return this.__accessor__.override(a,b)},_isOverridden:function(a){return this.__accessor__.isOverridden(a)},notifyChange:function(a){this.__accessor__.propertyInvalidated(a)},_get:function(a){return this.__accessor__.internalGet(a)},_set:function(a,b){return this.__accessor__.internalSet(a,b)}});return r})},"esri/core/declare":function(){define(["require","exports","dojo/_base/declare"],function(a,b,d){function q(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);a=a||[];b=b||{};return t([this].concat(a),
b)}function t(a,b){a&&!Array.isArray(a)&&"function"!==typeof a&&(b=a,a=null);"function"===typeof a?a=[a]:a||(a=[]);b=b||{};var m,c;m=0;for(c=k.length;m<c;m++)k[m](a,b);a=d(a,b);a.createSubclass=q;m=0;for(c=r.length;m<c;m++)r[m](a);return a}var k=[],r=[];(function(a){a.hasMixin=function(a,b){a=Array.isArray(a)?a.reduce(function(a,c){return c._meta?a.concat(c._meta.bases):a},[]):a._meta?a._meta.bases:a;if(!a)return!1;if("string"===typeof b)for(var c=a.length-1;0<=c;c--)if(a[c].prototype.declaredClass===
b)return!0;return-1!==a.indexOf(b)};a.safeMixin=function(a,b){return d.safeMixin(a,b)};a.before=function(a){k.push(a)};a.after=function(a){r.push(a)}})(t||(t={}));return t})},"esri/core/accessorSupport/Properties":function(){define("require exports ../has ../Logger ../ObjectPool ./extensions ./PropertyOrigin ./Store".split(" "),function(a,b,d,q,t,k,r,u){Object.defineProperty(b,"__esModule",{value:!0});q.getLogger("esri.core.accessorSupport.Properties");a=function(){function a(a){this.host=a;this._origin=
r.OriginId.USER;this.ctorArgs=this.cursors=null;this.destroyed=!1;this.dirties={};this.lifecycle=0;this.overridden=null;this.store=new u.default;a=this.host.constructor.__accessorMetadata__;this.metadatas=a.properties;this.autoDestroy=a.autoDestroy}a.prototype.initialize=function(){this.lifecycle=1;k.instanceCreated(this.host,this.metadatas)};a.prototype.constructed=function(){this.lifecycle=2};a.prototype.destroy=function(){this.destroyed=!0;var a=this.cursors;if(this.cursors)for(var b=0,g=Object.getOwnPropertyNames(a);b<
g.length;b++){var e=g[b],l=a[e];if(l){for(;0<l.length;)l.pop().propertyDestroyed(this,e);a[e]=null}}if(this.autoDestroy)for(e in this.metadatas)(a=this.internalGet(e))&&a&&"function"===typeof a.destroy&&(a.destroy(),this.metadatas[e].nonNullable||this.internalSet(e,null))};Object.defineProperty(a.prototype,"initialized",{get:function(){return 0!==this.lifecycle},enumerable:!0,configurable:!0});a.prototype.clearOverride=function(a){this.isOverridden(a)&&(this.overridden[a]=!1,this.propertyInvalidated(a))};
a.prototype.get=function(a){var b=this.metadatas[a];if(this.store.has(a)&&!this.dirties[a])return this.store.get(a);var c=b.get;return c?(b=c.call(this.host),this.store.set(a,b,r.OriginId.COMPUTED),this.propertyCommitted(a),b):b.value};a.prototype.originOf=function(a){var b=this.store.originOf(a);return void 0===b&&(a=this.metadatas[a])&&a.hasOwnProperty("value")?"defaults":r.idToName(b)};a.prototype.has=function(a){return this.metadatas[a]?this.store.has(a):!1};a.prototype.internalGet=function(a){if(this.metadatas[a]){var b=
this.store;return b.has(a)?b.get(a):this.metadatas[a].value}};a.prototype.internalSet=function(a,b){if(this.metadatas[a]){var c=this.initialized?this._origin:r.OriginId.DEFAULTS,h=this.store.get(a,c);if(b!==h||!this.store.has(a,c)||this.isOverridden(a))this.propertyInvalidated(a),this.store.set(a,b,c),this.propertyCommitted(a)}};a.prototype.isOverridden=function(a){return null!=this.overridden&&!0===this.overridden[a]};a.prototype.keys=function(){return this.store.keys()};a.prototype.override=function(a,
b){if(this.metadatas[a]){this.overridden||(this.overridden={});var c=this.metadatas[a];if(!c.nonNullable||null!=b){if(c=c.cast){b=this.cast(c,b);var c=b.valid,h=b.value;w.release(b);if(!c)return;b=h}this.overridden[a]=!0;this.internalSet(a,b)}}};a.prototype.set=function(a,b){if(this.metadatas[a]){var c=this.metadatas[a];if(!c.nonNullable||null!=b){var h=c.set;if(c=c.cast){b=this.cast(c,b);var c=b.valid,l=b.value;w.release(b);if(!c)return;b=l}h?h.call(this.host,b):this.internalSet(a,b)}}};a.prototype.setDefaultOrigin=
function(a){this._origin=r.nameToId(a)};a.prototype.propertyInvalidated=function(a){var b=this.dirties,c=this.isOverridden(a),e=this.cursors&&this.cursors[a],l=this.metadatas[a].computes;if(e)for(var m=0;m<e.length;m++)e[m].propertyInvalidated(this,a);c||(b[a]=!0);if(l)for(a=0;a<l.length;a++)this.propertyInvalidated(l[a])};a.prototype.propertyCommitted=function(a){var b=this.cursors&&this.cursors[a];this.dirties[a]=!1;if(b)for(var c=0;c<b.length;c++)b[c].propertyCommitted(this,a)};a.prototype.addCursor=
function(a,b){this.cursors||(this.cursors={});var c=this.cursors[a];c||(this.cursors[a]=c=[]);c.push(b)};a.prototype.removeCursor=function(a,b){var c=this.cursors[a];this.cursors[a]&&(c.splice(c.indexOf(b),1),0===c.length&&(this.cursors[a]=null))};a.prototype.cast=function(a,b){var c=w.acquire();c.valid=!0;c.value=b;a&&(c.value=a.call(this.host,b,c));return c};return a}();d=function(){function a(){this.value=null;this.valid=!0}a.prototype.acquire=function(){this.valid=!0};a.prototype.release=function(){this.value=
null};return a}();var w=new t(d);b.default=a})},"esri/core/Logger":function(){define(["require","exports","./has"],function(a,b,d){var q={info:0,warn:1,error:2};a=function(){function a(b){void 0===b&&(b={});this.module=b.module||"";this.writer=b.writer||null;this.level=b.level||null;null!=b.enabled&&(this.enabled=!!b.enabled);a._loggers[this.module]=this;b=this.module.lastIndexOf(".");-1!==b&&(this.parent=a.getLogger(this.module.slice(0,b)))}a.prototype.log=function(a){for(var b=[],u=1;u<arguments.length;u++)b[u-
1]=arguments[u];this._isEnabled()&&this._matchLevel(a)&&(u=this._inheritedWriter())&&u.apply(void 0,[a,this.module].concat(b))};a.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];this.log.apply(this,["info"].concat(a))};
a.prototype.getLogger=function(b){return a.getLogger(this.module+"."+b)};a.getLogger=function(b){var d=a._loggers[b];d||(d=new a({module:b}));return d};a.prototype._parentWithMember=function(a,b){for(var d=this;d&&null==d[a];)d=d.parent;return d?d[a]:b};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,b){for(var d=[],k=2;k<arguments.length;k++)d[k-2]=arguments[k];console[a].apply(console,["["+b+"]"].concat(d))};
a.prototype._matchLevel=function(a){return q[this._parentWithMember("level","error")]<=q[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();a.getLogger("esri").level="warn";return a})},"esri/core/ObjectPool":function(){define(["require","exports"],function(a,b){var d=function(){return function(){}}();return function(){function a(a,b,d,u,w){void 0===u&&(u=1);void 0===w&&(w=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=b;this.releaseFunction=
d;this.growthSize=u;!0===b?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof b&&(this.acquireFunction=b);this._pool=Array(w);this._set=new Set;this._initialSize=w;for(a=0;a<w;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(u,1)}a.prototype.acquire=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];b=this.classConstructor||d;if(0===this._pool.length)for(var r=this.growthSize,u=0;u<r;u++)this._pool[u]=new b;b=this._pool.pop();this.acquireFunction?
this.acquireFunction.apply(this,[b].concat(a)):b&&b.acquire&&"function"===typeof b.acquire&&b.acquire.apply(b,a);this._set.delete(b);return b};a.prototype.release=function(a){a&&!this._set.has(a)&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a),this._set.add(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(this._pool.length<=a))for(var b;a>this._pool.length;)b=this._pool.shift(),this._set.delete(b),
b.dispose&&"function"===typeof b.dispose&&b.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];var u;(u=this.classConstructor).call.apply(u,[a].concat(b))};return a}()})},"esri/core/accessorSupport/extensions":function(){define(["require","exports","./extensions/aliasedProperty","./extensions/computedProperty","./extensions/serializableProperty"],function(a,b,d,q,t){Object.defineProperty(b,"__esModule",{value:!0});var k=[d.default,
q.default,t.default];b.processPrototypeMetadatas=function(a,b){for(var d=Object.getOwnPropertyNames(a),m=0;m<k.length;m++){var c=k[m];if(c.processPrototypePropertyMetadata)for(var h=0,g=d;h<g.length;h++){var e=g[h];c.processPrototypePropertyMetadata(e,a[e],a,b)}}};b.processClassMetadatas=function(a,b){for(var d=Object.getOwnPropertyNames(a),m=0;m<k.length;m++){var c=k[m];if(c.processClassPropertyMetadata)for(var h=0,g=d;h<g.length;h++){var e=g[h];c.processClassPropertyMetadata(e,a[e],a,b)}}};b.instanceCreated=
function(a,b){for(var d=Object.getOwnPropertyNames(b),m=0;m<k.length;m++){var c=k[m];c.instanceCreated&&c.instanceCreated(a,b,d)}}})},"esri/core/accessorSupport/extensions/aliasedProperty":function(){define("require exports ../../has ../get ../set ../utils ../wire".split(" "),function(a,b,d,q,t,k,r){function u(a,b,c){var h=k.getProperties(a);return r.wire(a,c.aliasOf,function(){h.propertyInvalidated(b)})}Object.defineProperty(b,"__esModule",{value:!0});b.AliasedPropertyExtension={processClassPropertyMetadata:function(a,
b,c,h){var g=b.aliasOf;if(g&&(a=g.split(".")[0],null!=c[a]&&!b.set&&!b.get)){var e;b.get=function(){var a=q.default(this,g);if("function"===typeof a){e||(e=g.split(".").slice(0,-1).join("."));var b=q.default(this,e);b&&(a=a.bind(b))}return a};b.readOnly||(b.set=function(a){return t.default(this,g,a)})}},instanceCreated:function(a,b,c){for(var h=0;h<c.length;h++){var g=c[h],e=b[g];e.aliasOf&&u(a,g,e)}}};b.default=b.AliasedPropertyExtension})},"esri/core/accessorSupport/get":function(){define(["require",
"exports","./utils"],function(a,b,d){function q(a,b,m){if(null!=m.getItemAt||Array.isArray(m)){var c=parseInt(a,10);if(!isNaN(c))return Array.isArray(m)?m[c]:m.getItemAt(c)}c=d.getProperties(m);return b?d.isPropertyDeclared(c,a)?c.get(a):m[a]:d.isPropertyDeclared(c,a)?c.internalGet(a):m[a]}function t(a,b,m,c){if(null==a)return a;if((a=q(b[c],m,a))||!(c<b.length-1))return c===b.length-1?a:t(a,b,m,c+1)}function k(a,b,m,c){void 0===m&&(m=!1);void 0===c&&(c=0);return"string"===typeof b&&-1===b.indexOf(".")?
q(b,m,a):t(a,d.pathToArray(b),m,c)}function r(a,b){return k(a,b,!0)}Object.defineProperty(b,"__esModule",{value:!0});b.valueOf=k;b.get=r;b.exists=function(a,b){return void 0!==k(b,a,!0)};b.default=r})},"esri/core/accessorSupport/utils":function(){define(["require","exports","../lang"],function(a,b,d){function q(a,b,m){return b?Object.keys(b).reduce(function(a,h){var c=null,e="merge";m&&(c=m.path?m.path+"."+h:h,e=m.policy(c));if("replace"===e)return a[h]=b[h],a;if(void 0===a[h])return a[h]=d.clone(b[h]),
a;var l=a[h],e=b[h];if(l===e)return a;if(Array.isArray(e)||Array.isArray(a))l=l?Array.isArray(l)?a[h]=l.concat():a[h]=[l]:a[h]=[],e&&(Array.isArray(e)||(e=[e]),e.forEach(function(a){-1===l.indexOf(a)&&l.push(a)}));else if(e&&"object"===typeof e)if(m){var x=m.path;m.path=c;a[h]=q(l,e,m);m.path=x}else a[h]=q(l,e,null);else if(!a.hasOwnProperty(h)||b.hasOwnProperty(h))a[h]=e;return a},a||{}):a}function t(a){return Array.isArray(a)?a:a.split(".")}function k(a){if(Array.isArray(a)||-1<a.indexOf(",")){a=
Array.isArray(a)?a:a.split(",");for(var b=0;b<a.length;b++)a[b]=a[b].trim();return 1===a.length?a[0]:a}return a.trim()}function r(a){var b=!1;return function(){b||(b=!0,a())}}Object.defineProperty(b,"__esModule",{value:!0});b.getProperties=function(a){return a?a.__accessor__?a.__accessor__:a.propertyInvalidated?a:null:null};b.isPropertyDeclared=function(a,b){return a&&a.metadatas&&null!=a.metadatas[b]};b.merge=function(a,b,m){return m?q(a,b,{policy:m,path:""}):q(a,b,null)};b.pathToStringOrArray=function(a){return a?
"string"===typeof a&&-1===a.indexOf(".")?a:t(a):a};b.pathToArray=t;b.splitPath=k;b.parseConditionalPath=function(a){if(-1===a.indexOf("?"))return null;a=t(a);for(var b=Array(a.length),m=0;m<a.length;m++){var c=a[m];b[m]="?"===c[c.length-1];b[m]&&(a[m]=c.slice(0,-1))}return{fullPath:a.join("."),conditional:b}};b.parse=function(a,b,m,c){b=k(b);if(Array.isArray(b)){var h=b.map(function(b){return c(a,b.trim(),m)});return{remove:r(function(){return h.forEach(function(a){return a.remove()})})}}return c(a,
b.trim(),m)};b.once=r})},"esri/core/accessorSupport/set":function(){define(["require","exports","../has","../Logger","./get"],function(a,b,d,q,t){function k(a,b,d){if(a&&b)if("object"===typeof b){d=0;for(var m=Object.getOwnPropertyNames(b);d<m.length;d++){var c=m[d];k(a,c,b[c])}}else"_"!==b[0]&&(-1!==b.indexOf(".")?(b=b.split("."),c=b.splice(b.length-1,1)[0],k(t.default(a,b),c,d)):a[b]=d)}Object.defineProperty(b,"__esModule",{value:!0});q.getLogger("esri.core.accessorSupport.set");b.set=k;b.default=
k})},"esri/core/accessorSupport/wire":function(){define(["require","exports","./utils"],function(a,b,d){function q(a,b,h){b=d.splitPath(b);if(Array.isArray(b)){for(var c=[],e=0;e<b.length;e++)c.push((new t(b[e],h)).install(a));return new u(c)}a=(new t(b,h)).install(a);return new w(a)}Object.defineProperty(b,"__esModule",{value:!0});var t=function(){function a(a,b){this.path=a;this.callback=b;this.conditional=this.chain=null;if(-1<a.indexOf(".")){if(a=d.parseConditionalPath(a))this.path=a.fullPath,
this.conditional=a.conditional;this.chain=d.pathToArray(this.path)}this.callback=b;return this}a.prototype.install=function(a){a=this.chain?new r(this,a):new k(this,a);return a};a.prototype.notify=function(a){this.callback(a,this.path)};return a}(),k=function(){function a(a,b){this.binding=a;this.target=b;d.getProperties(b).addCursor(this.binding.path,this)}a.prototype.destroy=function(){this.target&&(d.getProperties(this.target).removeCursor(this.binding.path,this),this.target=this.binding=null)};
a.prototype.propertyDestroyed=function(a,b){d.getProperties(this.target).removeCursor(b,this)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&this.binding.notify(this.target)};return a}(),r=function(){function a(a,b){this.binding=a;this.target=b;this.stack=[];this.properties=d.getProperties(b);this.stack.push({properties:this.properties,propertyName:a.chain[0]});this.properties.addCursor(a.chain[0],
this);this.moveForward();return this}a.prototype.destroy=function(){for(;;){var a=this.stack.pop();if(null==a)break;a.properties.removeCursor(a.propertyName,this)}this.target=this.binding=null};a.prototype.propertyDestroyed=function(a,b){this.moveBackward(a,b)};a.prototype.propertyInvalidated=function(a,b){this.binding&&this.binding.notify(this.target)};a.prototype.propertyCommitted=function(a,b){this.binding&&(this.moveBackward(a,b),this.moveForward(),this.binding.notify(this.target))};a.prototype.moveBackward=
function(a,b){for(var c=this.stack,e=c[c.length-1];e.properties!==a&&e.propertyName!==b;)e.properties.removeCursor(e.propertyName,this),c.pop(),e=c[c.length-1]};a.prototype.moveForward=function(){var a=this.stack,b=a[a.length-1],b=b.properties.internalGet(b.propertyName);if((b=d.getProperties(b))&&a.length<this.binding.chain.length){var g=this.binding.chain[a.length];this.binding.conditional&&this.binding.conditional[a.length]&&!b.metadatas[g]||(this.stack.push({properties:b,propertyName:g}),b.addCursor(g,
this),this.moveForward())}};return a}(),u=function(){function a(a){this.cursors=a}a.prototype.remove=function(){for(var a=this.cursors;0<a.length;)a.pop().destroy();this.cursors=null};return a}(),w=function(){function a(a){this.cursor=a}a.prototype.remove=function(){this.cursor.destroy();this.cursor=null};return a}();b.create=function(a,b){a=d.splitPath(a);if(Array.isArray(a)){for(var c=[],g=0;g<a.length;g++)c.push(new t(a[g],b));return function(a){for(var b=[],e=0;e<c.length;e++)b[e]=c[e].install(a);
return new u(b)}}var e=new t(a,b);return function(a){return new w(e.install(a))}};b.wire=q;b.default=q})},"esri/core/accessorSupport/extensions/computedProperty":function(){define("require exports ../../has ../../Logger ../utils ../wire".split(" "),function(a,b,d,q,t,k){Object.defineProperty(b,"__esModule",{value:!0});q.getLogger("esri.core.accessorSupport.extensions.computedProperty");b.ComputedPropertyExtension={processClassPropertyMetadata:function(a,b,d,m){b.dependsOn&&(d=void 0,d=b.dependsOn.slice())&&
(b.wire=k.create(d,function(b){return t.getProperties(b).propertyInvalidated(a)}))},instanceCreated:function(a,b,d){for(var m=0;m<d.length;m++){var c=b[d[m]];c.wire&&c.wire(a)}}};b.default=b.ComputedPropertyExtension})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define("require exports ../ensureType ./serializableProperty/originAliases ./serializableProperty/reader ./serializableProperty/shorthands ./serializableProperty/writer".split(" "),function(a,b,d,q,t,k,r){function u(a,
b,c){var h=a&&a.json;a&&a.json&&a.json.origins&&c&&(a=a.json.origins[c.origin])&&b in a&&(h=a);return h}Object.defineProperty(b,"__esModule",{value:!0});b.originSpecificReadPropertyDefinition=function(a,b){return u(a,"read",b)};b.originSpecificWritePropertyDefinition=function(a,b){return u(a,"write",b)};b.SerializablePropertyExtension={processPrototypePropertyMetadata:function(a,b,c,h){if(k.process(b)){q.process(b);c=b.type;h=0;if(!d.isOneOf(c))for(;Array.isArray(c);)c=c[0],h++;if(b.json.origins)for(var g in b.json.origins){var e=
b.json.origins[g];t.create(c,h,a,e);r.create(c,h,a,e)}t.create(c,h,a,b.json);r.create(c,h,a,b.json)}}};b.default=b.SerializablePropertyExtension})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(a,b,d){function q(a,f){return f.isInstanceOf?f.isInstanceOf(a):f instanceof a}function t(a){return null==a?a:new Date(a)}function k(a){return null==a?a:!!a}function r(a){return null==a?a:a.toString()}function u(a){return null==a?a:parseFloat(a)}function w(a){return null==
a?a:Math.round(parseFloat(a))}function m(a){return a&&a.constructor&&void 0!==a.constructor._meta}function c(a,f){return null!=f&&a&&!q(a,f)}function h(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function g(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function e(a,f){if(!f||!f.constructor||!h(f.constructor))return l(a,f)?f:new a(f);var n=g(a.prototype.itemType),b=g(f.constructor.prototype.itemType);
if(!n)return f;if(!b)return new a(f);if(n===b)return f;if((b=b._meta&&b._meta.bases)&&-1!==b.indexOf(n))return new a(f);l(a,f);return f}function l(a,f){return m(f)?(D.error("Accessor#set","Assigning an instance of '"+(f.declaredClass||"unknown")+"' which is not a subclass of '"+(a&&a.prototype&&a.prototype.declaredClass||"unknown")+"'"),!0):!1}function x(a,f){return null==f?f:h(a)?e(a,f):c(a,f)?l(a,f)?f:new a(f):f}function p(a){switch(a){case Number:return u;case E:return w;case Boolean:return k;
case String:return r;case Date:return t;default:return x.bind(null,a)}}function y(a,f){var n=p(a);return 1===arguments.length?n:n(f)}function z(a,f){return 1===arguments.length?z.bind(null,a):f?Array.isArray(f)?f.map(a):[a(f)]:f}function f(a,n,b){return 0!==n&&Array.isArray(b)?b.map(function(b){return f(a,n-1,b)}):a(b)}function n(a,b,v){if(2===arguments.length)return n.bind(null,a,b);if(!v)return v;v=f(a,b,v);for(var c=b,e=v;0<c&&Array.isArray(e);)c--,e=e[0];if(void 0!==e)for(e=0;e<c;e++)v=[v];return v}
function v(a,f){if(2===arguments.length)return v(a).call(null,f);for(var n=new Set,b=0;b<a.length;b++)n.add(a[b]);var c=null;return function(f,b){if(null==f)return f;n.has(f)||(c||(c=a.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),D.error("Accessor#set","'"+f+"' is not a valid value for this property, only the following values are valid: "+c),b&&(b.valid=!1));return f}}function B(a,f){if(2===arguments.length)return B(a).call(null,f);var n={},b=[],v=[],e;for(e in a.typeMap){var p=
a.typeMap[e];n[e]=y(p);b.push(p&&p.prototype&&p.prototype.declaredClass||"unknown");v.push(e)}var g="string"===typeof a.key?function(f){return f[a.key]}:a.key;return function(f){if(a.base&&!c(a.base,f))return f;var e=g(f)||a.defaultKeyValue,p=n[e];if(!p)return D.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+b.join("', '")+"'")+", or a plain object that can autocast (having .type \x3d "+("'"+v.join("', '")+"'")+")"),null;if(!c(a.typeMap[e],f))return f;if("string"!==
typeof a.key||m(f))return p(f);var e={},h;for(h in f)h!==a.key&&(e[h]=f[h]);return p(e)}}Object.defineProperty(b,"__esModule",{value:!0});var D=d.getLogger("esri.core.Accessor");b.isInstanceOf=q;b.ensureDate=t;b.ensureBoolean=k;b.ensureString=r;b.ensureNumber=u;b.ensureInteger=w;b.isClassedType=m;b.requiresType=c;b.ensureClass=x;b.ensureType=y;b.ensureArrayTyped=z;b.ensureArray=function(a,f){return 1===arguments.length?z(y.bind(null,a)):z(y.bind(null,a),f)};b.ensureNArrayTyped=n;b.ensureNArray=function(a,
f,b){return 2===arguments.length?n(y.bind(null,a),f):n(y.bind(null,a),f,b)};b.isOneOf=function(a){if(!Array.isArray(a))return!1;a=typeof a[0];return"string"===a||"number"===a};b.ensureOneOf=v;b.ensureOneOfType=B;var E=function(){return function(){}}();b.Integer=E;b.default=y})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){if(a.json&&a.json.origins){var b=
a.json.origins,d={"web-document":["web-scene","web-map"]};a=function(a){if(b[a]){var k=b[a];d[a].forEach(function(a){b[a]=k});delete b[a]}};for(var k in d)a(k)}}})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["require","exports","../../../object","./type"],function(a,b,d,q){function t(a,b,c,l){if(1<b)return u(a,b);if(1===b)return w(a);if(m(a)){var e=w(a.prototype.itemType.Type);return function(b,c,g){return(b=e(b,c,g))?new a(b):b}}return k(a)}function k(a){return a.prototype.read?
function(b,c,h){return null==b?b:(new a).read(b,h)}:a.fromJSON}function r(a,b,c,l){return 0!==l&&Array.isArray(b)?b.map(function(b){return r(a,b,c,l-1)}):a(b,null,c)}function u(a,b){a=k(a);var c=r.bind(null,a);return function(a,e,p){if(null==a)return a;a=c(a,p,b);e=b;for(p=a;0<e&&Array.isArray(p);)e--,p=p[0];if(void 0!==p)for(p=0;p<e;p++)a=[a];return a}}function w(a){var b=k(a);return function(a,c,h){return null==a?a:Array.isArray(a)?a.map(function(a){return b(a,null,h)}):[b(a,null,h)]}}function m(a){return q.isCollection(a)?
(a=a.prototype.itemType)&&a.Type&&"function"===typeof a.Type?c(a.Type):!1:!1}function c(a){return Array.isArray(a)?!1:!!a&&a.prototype&&("read"in a.prototype||"fromJSON"in a||m(a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,e,l){(!l.read||!l.read.reader&&!1!==l.read.enabled)&&c(a)&&d.setDeepValue("read.reader",t(a,b,e,l),l)}})},"esri/core/object":function(){define(["require","exports"],function(a,b){function d(a,b,d){for(var k=0;k<a.length;k++){var u=a[k];if(!(u in d))if(b)d[u]=
{};else return;d=d[u]}return d}Object.defineProperty(b,"__esModule",{value:!0});b.getDeepValue=function(a,b){return d(a.split("."),!1,b)};b.setDeepValue=function(a,b,k){var r=a.split(".");a=r.pop();(k=d(r,!0,k))&&a&&(k[a]=b)}})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.isCollection=function(a){return!!a&&a.prototype&&a.prototype.declaredClass&&0===a.prototype.declaredClass.indexOf("esri.core.Collection")}})},
"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["require","exports"],function(a,b){function d(a){"boolean"===typeof a.read?a.read={enabled:a.read}:"function"===typeof a.read?a.read={enabled:!0,reader:a.read}:a.read&&"object"===typeof a.read&&void 0===a.read.enabled&&(a.read.enabled=!0)}function q(a){"boolean"===typeof a.write?a.write={enabled:a.write}:"function"===typeof a.write?a.write={enabled:!0,writer:a.write}:a.write&&"object"===typeof a.write&&void 0===
a.write.enabled&&(a.write.enabled=!0)}Object.defineProperty(b,"__esModule",{value:!0});b.process=function(a){a.json||(a.json={});d(a.json);q(a.json);if(a.json.origins)for(var b in a.json.origins)d(a.json.origins[b]),q(a.json.origins[b]);return!0}})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["require","exports","../../../object","./type"],function(a,b,d,q){function t(a,b,h,g){d.setDeepValue(h,k(a,g),b)}function k(a,b){return a&&"function"===typeof a.write?
a.write({},b):a&&"function"===typeof a.toJSON?a.toJSON():"number"===typeof a?-Infinity===a?-Number.MAX_VALUE:Infinity===a?Number.MAX_VALUE:isNaN(a)?null:a:a}function r(a,b,h,g){null===a?a=null:a&&"function"===typeof a.map?(a=a.map(function(a){return k(a,g)}),"function"===typeof a.toArray&&(a=a.toArray())):a=[k(a,g)];d.setDeepValue(h,a,b)}function u(a,b,h){return 0!==h&&Array.isArray(a)?a.map(function(a){return u(a,b,h-1)}):k(a,b)}function w(a){return function(b,h,g,e){if(null===b)b=null;else{b=u(b,
e,a);e=a;for(var c=b;0<e&&Array.isArray(c);)e--,c=c[0];if(void 0!==c)for(c=0;c<e;c++)b=[b]}d.setDeepValue(g,b,h)}}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,h,g){g.write&&!g.write.writer&&!1!==g.write.enabled&&(1===b||q.isCollection(a)?g.write.writer=r:g.write.writer=1<b?w(b):t)}})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["require","exports"],function(a,b){function d(a){switch(a){case "defaults":return t.DEFAULTS;case "service":return t.SERVICE;case "portal-item":return t.PORTAL_ITEM;
case "web-scene":return t.WEB_SCENE;case "web-map":return t.WEB_MAP;case "user":return t.USER}}function q(a){switch(a){case t.DEFAULTS:return"defaults";case t.SERVICE:return"service";case t.PORTAL_ITEM:return"portal-item";case t.WEB_SCENE:return"web-scene";case t.WEB_MAP:return"web-map";case t.USER:return"user"}}Object.defineProperty(b,"__esModule",{value:!0});var t;(function(a){a[a.DEFAULTS=0]="DEFAULTS";a[a.COMPUTED=1]="COMPUTED";a[a.SERVICE=2]="SERVICE";a[a.PORTAL_ITEM=3]="PORTAL_ITEM";a[a.WEB_SCENE=
4]="WEB_SCENE";a[a.WEB_MAP=5]="WEB_MAP";a[a.USER=6]="USER";a[a.NUM=7]="NUM"})(t=b.OriginId||(b.OriginId={}));b.nameToId=d;b.idToName=q;b.readableNameToId=function(a){return d(a)};b.idToReadableName=function(a){return q(a)};b.writableNameToId=function(a){return d(a)};b.idToWritableName=function(a){return q(a)}})},"esri/core/accessorSupport/Store":function(){define(["require","exports","./PropertyOrigin"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});a=function(){function a(){this._values=
{}}a.prototype.get=function(a){return this._values[a]};a.prototype.originOf=function(a){return d.OriginId.USER};a.prototype.keys=function(){return Object.keys(this._values)};a.prototype.set=function(a,b){this._values[a]=b};a.prototype.clear=function(a){delete this._values[a]};a.prototype.has=function(a){return a in this._values};return a}();b.default=a})},"esri/core/accessorSupport/introspection":function(){define("require exports ../object ./ensureType ./extensions ./metadata ./utils ./decorators/cast".split(" "),
function(a,b,d,q,t,k,r,u){function w(a){return e.test(a)?"replace":"merge"}Object.defineProperty(b,"__esModule",{value:!0});var m=Object.prototype.hasOwnProperty,c=/^_([a-zA-Z0-9]+)(Getter|Setter|Reader|Writer|Caster)$/,h={Getter:"get",Setter:"set",Reader:"json.read.reader",Writer:"json.write.writer",Caster:"cast"},g=/^_(set|get)([a-zA-Z0-9]+)Attr$/;b.processPrototype=function(a){for(var b=a.declaredClass,e=a.properties||{},y=0,l=Object.getOwnPropertyNames(e);y<l.length;y++){var f=l[y],n=e[f],v=typeof n;
null==n?k.setPropertyMetadata(a,f,{value:n}):Array.isArray(n)?k.setPropertyMetadata(a,f,{type:[n[0]],value:null}):"object"===v?r.getProperties(n)||n instanceof Date?k.setPropertyMetadata(a,f,{type:n.constructor,value:n}):k.setPropertyMetadata(a,f,n):"boolean"===v?k.setPropertyMetadata(a,f,{type:Boolean,value:n}):"string"===v?k.setPropertyMetadata(a,f,{type:String,value:n}):"number"===v?k.setPropertyMetadata(a,f,{type:Number,value:n}):"function"===v&&k.setPropertyMetadata(a,f,{type:n,value:null})}y=
0;for(l=Object.getOwnPropertyNames(a);y<l.length;y++){var v=l[y],n=a[v],e=f=void 0,B=c.exec(v);if(B)f=B[1],e=h[B[2]];else if(B=g.exec(v))f=B[2][0].toLowerCase()+B[2].substr(1),e=B[1].toLowerCase();f&&e&&(f=k.getPropertyMetadata(a,f),d.setDeepValue(e,n,f))}y=0;for(l=Object.getOwnPropertyNames(k.getPropertiesMetadata(a));y<l.length;y++)if(f=l[y],n=k.getPropertyMetadata(a,f),e=n.type,v=n.types,void 0===n.value&&m.call(a,f)&&(n.value=a[f]),!n.cast&&e){f=n;if(q.isOneOf(e))e=q.ensureOneOf(e);else{n=0;for(v=
e;Array.isArray(v);)v=v[0],n++;e=1===n?q.ensureArray(v):1<n?q.ensureNArray(v,n):q.ensureType(e)}f.cast=e}else!n.cast&&v&&(Array.isArray(v)?n.cast=q.ensureArrayTyped(q.ensureOneOfType(v[0])):n.cast=q.ensureOneOfType(v));t.processPrototypeMetadatas(k.getPropertiesMetadata(a),b);return k.getPropertiesMetadata(a)};var e=/^properties\.[^.]+\.(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;b.processClass=function(a){for(var b=a.prototype,c=b.declaredClass,e=a._meta.bases,g={},f=e.length-1;0<=
f;f--)r.merge(g,k.getMetadata(e[f].prototype),w);var n=g.properties;t.processClassMetadatas(n,c);Object.defineProperty(a,"__accessorMetadata__",{value:{properties:n,autoDestroy:!!g.autoDestroy}});for(var v={},c=function(a){var f=n[a];v[a]={enumerable:!0,configurable:!0,get:function(){return this.__accessor__?this.__accessor__.get(a):f.value},set:function(b){var n=this.__accessor__;if(!n)Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b});else if(!Object.isFrozen(this)){if(n.initialized&&
f.readOnly)throw new TypeError("[accessor] cannot assign to read-only property '"+a+"' of "+this.declaredClass);if(2===n.lifecycle&&f.constructOnly)throw new TypeError("[accessor] cannot assign to construct-only property '"+a+"' of "+this.declaredClass);n.set(a,b)}}}},e=0,f=Object.getOwnPropertyNames(n);e<f.length;e++)c(f[e]);Object.defineProperties(a.prototype,v);if(g.parameters)for(a=0,c=Object.getOwnPropertyNames(g.parameters);a<c.length;a++)e=c[a],f=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},
(f=u.autocastMethod(b,e,f))&&Object.defineProperty(b,e,f);return g}})},"esri/core/accessorSupport/metadata":function(){define(["require","exports"],function(a,b){function d(a){return null!=a.__accessorMetadata__}function q(a){return d(a)&&null!=t(a).properties}function t(a){a.__accessorMetadata__||Object.defineProperty(a,"__accessorMetadata__",{value:{},enumerable:!0,configurable:!0,writable:!0});return a.__accessorMetadata__}function k(a){a=t(a);var b=a.properties;b||(b=a.properties={});return b}
function r(a,b){var m=t(a);a=m.parameters;a||(a=m.parameters={});m=a[b];m||(m=[],a[b]=m);return m}Object.defineProperty(b,"__esModule",{value:!0});b.hasMetadata=d;b.hasPropertiesMetadata=q;b.hasPropertyMetadata=function(a,b){return q(a)&&null!=k(a)[b]};b.hasParametersMetadata=function(a,b){return d(a)&&null!=t(a).parameters&&null!=t(a).parameters[b]};b.getMetadata=t;b.getPropertiesMetadata=k;b.getPropertyMetadata=function(a,b){a=k(a);var m=a[b];m||(m=a[b]={});return m};b.setPropertyMetadata=function(a,
b,m){k(a)[b]=m};b.getParametersMetadata=r;b.getParameterMetadata=function(a,b,m){var c=r(a,b)[m];c||(r(a,b)[m]=c={index:m});return c}})},"esri/core/accessorSupport/decorators/cast":function(){define(["require","exports","../ensureType","../metadata"],function(a,b,d,q){function t(a){var b="_meta"in a?d.ensureType(a):a;return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];a.push(b);return"number"===typeof a[2]?r.apply(this,a):k.apply(this,a)}}function k(a,b,h,g){q.getPropertyMetadata(a,
b).cast=g}function r(a,b,h,g){q.getParameterMetadata(a,b,h).cast=g}function u(a){return function(b,h,g){q.getPropertyMetadata(b,a).cast=b[h]}}Object.defineProperty(b,"__esModule",{value:!0});var w=Object.prototype.toString;b.autocastMethod=function(a,b,h){if(q.hasParametersMetadata(a,b)){var c=q.getParametersMetadata(a,b).filter(function(a){return null!=a.cast});if(c.length){var e=h.value;h.value=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];for(b=0;b<c.length;b++){var p=c[b];
a[p.index]=p.cast(a[p.index])}return e.apply(this,a)};return h}console.warn("Method "+a.declaredClass+"::"+b+" is decorated with @cast but no parameters are decorated")}};b.cast=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if(3!==a.length||"string"!==typeof a[1]){if(1===a.length&&"[object Function]"===w.call(a[0]))return t(a[0]);if(1===a.length&&"string"===typeof a[0])return u(a[0])}}})},"esri/core/accessorSupport/watch":function(){define("require exports ../ArrayPool ../lang ../ObjectPool ../scheduling ./get ./utils ./wire".split(" "),
function(a,b,d,q,t,k,r,u,w){function m(a){y.has(a)?z.splice(z.indexOf(a),1):y.add(a);z.push(a);f||(f=k.schedule(h))}function c(a){if(!a.removed){var f=a.callback,b=a.path,n=a.oldValue,v=a.target,c=r.valueOf(v,a.propertyPath,!0);q.equals(n,c)||(a.oldValue=c,f.call(v,c,n,b,v))}}function h(){if(f){f=null;var a=z;z=p.acquire();y.clear();for(var b=p.acquire(),e=0;e<a.length;e++){var g=a[e];c(g);g.removed&&b.push(g)}for(e=0;e<z.length;e++)g=z[e],g.removed&&(b.push(g),y.delete(g),z.splice(e,1),--e);for(e=
0;e<b.length;e++)x.pool.release(b[e]);p.release(a);p.release(b);n.forEach(function(a){return a()})}}function g(a,f,b){var n=u.parse(a,f,b,function(a,f,b){var v=r.valueOf(a,f,!0),c,e=w.wire(a,f,function(a,f){a.__accessor__.destroyed?n.remove():(c||(c=x.pool.acquire(a,f,v,b),v=null),m(c))});return{remove:u.once(function(){e.remove();c&&(c.removed=!0,m(c),c=null);n=e=v=null})}});return n}function e(a,f,b){var n=u.parse(a,f,b,function(a,f,b){var v=r.valueOf(a,f,!0),c=!1;return w.wire(a,f,function(a,f){if(a.__accessor__.destroyed)n.remove();
else if(!c){c=!0;var e=r.valueOf(a,f,!0);q.equals(v,e)||b.call(a,e,v,f,a);v=r.valueOf(a,f,!0);c=!1}})});return n}function l(a,f,b,n){void 0===n&&(n=!1);return!a.__accessor__||a.__accessor__.destroyed?{remove:function(){}}:n?e(a,f,b):g(a,f,b)}Object.defineProperty(b,"__esModule",{value:!0});var x=function(){function a(a,f,b,n){this.target=a;this.path=f;this.oldValue=b;this.callback=n;this.removed=!1;this.propertyPath=u.pathToStringOrArray(f)}a.prototype.release=function(){this.target=this.path=this.propertyPath=
this.callback=this.oldValue=null;this.removed=!0};a.pool=new t(a,!0);return a}(),p=new d,y=new Set,z=p.acquire(),f;b.dispatchTarget=function(a){for(var f=p.copy(z),b=0;b<f.length;b++){var n=f[b];n.target===a&&(c(n),y.delete(n),z.splice(z.indexOf(n),1))}};b.removeTarget=function(a){for(var f=0;f<z.length;f++){var b=z[f];b.target===a&&(b.removed=!0)}};b.dispatch=h;var n=new Set;b.afterDispatch=function(a){n.add(a);return{remove:function(){n.delete(a)}}};b.watch=l;b.isValueInUse=function(a){return z.some(function(f){return f.oldValue===
a})};b.default=l})},"esri/core/ArrayPool":function(){define(["require","exports","./ObjectPool"],function(a,b,d){function q(a){a.length=0}var t=Array.prototype.splice;a=function(){function a(a,b){void 0===a&&(a=50);void 0===b&&(b=50);this._pool=new d(Array,!1,q,b,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var b=this.acquire();a.unshift(0,0);t.apply(b,a);a.splice(0,2);return b};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return k.acquire()};
a.copy=function(a){return k.copy(a)};a.release=function(a){return k.release(a)};return a}();var k=new a(100);return a})},"esri/core/scheduling":function(){define(["require","exports","./nextTick","./now","./requestAnimationFrame"],function(a,b,d,q,t){function k(a){void 0===a&&(a=b.now());b.debug.rafId=null;0<f.length&&(b.debug.rafId=r());if(0<g){var n=a-g;x=Math.min(n,x);if(n<e)return}b.debug.executeFrameTasks(a)}function r(){return b.debug.requestNextFrame?b.debug.requestNextFrame(m):m()}function u(){for(var a=
0;a<f.length;){var b=f[a];a++;if(b.removed){f.splice(a-1,1);for(var v=0;v<y.length;v++){var c=y[v];if(b.phases[c]){var c=n[c],e=c.indexOf(b);-1!==e&&c.splice(e,1)}}}}}function w(){for(;z.length;){var a=z.shift();a.isActive&&(a.isActive=!1,a.callback())}b.debug.willDispatch=!1}function m(){return t(k)}Object.defineProperty(b,"__esModule",{value:!0});b.now=q;var c=function(){return function(a){this.phases=a;this.paused=!1;this.pausedAt=0;this.epoch=-1;this.dt=0;this.ticks=-1;this.removed=!1}}(),h=function(){function a(a){this.callback=
a;this.isActive=!0}a.prototype.remove=function(){this.isActive=!1};return a}(),g=-1,e=0,l=0,x=Number.POSITIVE_INFINITY,p={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0,spendInTask:0},y=["prepare","preRender","render","postRender","update"],z=[],f=[],n={prepare:[],preRender:[],render:[],postRender:[],update:[]},v=function(){function a(a){this._task=a}a.prototype.remove=function(){this._task.removed=!0};a.prototype.pause=function(){this._task.paused||(this._task.paused=!0,this._task.pausedAt=
b.now())};a.prototype.resume=function(){this._task.paused&&(this._task.paused=!1,-1!==this._task.epoch&&(this._task.epoch+=b.now()-this._task.pausedAt))};return a}();b.FrameTaskHandle=v;b.debug={frameTasks:f,rafId:null,requestNextFrame:null,willDispatch:!1,clearFrameTasks:function(a){void 0===a&&(a=!1);for(var b=0;b<f.length;b++)f[b].removed=!0;a&&u()},dispatch:w,executeFrameTasks:function(a){void 0===a&&(a=b.now());0>g&&(g=a);var v=a-g,c=0<l?l:x,e=Math.max(0,v-c);g=a;for(var h=0;h<f.length;h++){var d=
f[h];-1!==d.epoch&&(d.dt=v)}for(h=0;h<y.length;h++)for(var v=y[h],m=n[v],z=0;z<m.length;z++)d=m[(z+B)%m.length],d.paused||d.removed||(0===h&&d.ticks++,-1===d.epoch&&(d.epoch=a),p.time=a,p.deltaTime=d.dt,p.elapsedFrameTime=b.now()-a,p.frameDuration=c-e,p.spendInTask=a-d.epoch,d.phases[v].call(d,p));u();++B}};b.schedule=function(a){a=new h(a);z.push(a);b.debug.willDispatch||(b.debug.willDispatch=!0,d(w));return a};b.addFrameTask=function(a){var e=new c(a);f.push(e);for(var p=0,h=y;p<h.length;p++){var l=
h[p];a[l]&&n[l].push(e)}b.debug.rafId||(g=-1,b.debug.rafId=r());return new v(e)};b.setFrameRate=function(a){if(0>=a)l=e=0;else{var f=1.05*x;a=Math.ceil(1E3/a/f);e=(a-1)*f;l=a*x}};var B=0;b.requestNextFrame=r})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(a,b,d){function q(){if(d.postMessage&&!d.importScripts){var a=d.onmessage,b=!0;d.onmessage=function(){b=!1};d.postMessage("","*");d.onmessage=a;return b}return!1}var t=d.MutationObserver||d.WebKitMutationObserver;
return function(){var a;if(d.process&&d.process.nextTick)a=function(a){d.process.nextTick(a)};else if(d.Promise)a=function(a){d.Promise.resolve().then(a)};else if(t){var b=[],u=document.createElement("div");(new t(function(){for(;0<b.length;)b.shift()()})).observe(u,{attributes:!0});a=function(a){b.push(a);u.setAttribute("queueStatus","1")}}else if(q()){var w=[];d.addEventListener("message",function(a){if(a.source===d&&"esri-nexttick-message"===a.data)for(a.stopPropagation();w.length;)w.shift()()},
!0);a=function(a){w.push(a);d.postMessage("esri-nexttick-message","*")}}else a=d.setImmediate?function(a){return d.setImmediate(a)}:function(a){return d.setTimeout(a,0)};return a}()})},"esri/core/now":function(){define(["require","exports","./global"],function(a,b,d){return function(){var a=d.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};
if(a.oNow)return function(){return a.oNow()};var b;b=a.timing&&a.timing.navigationStart?a.timing.navigationStart:Date.now();return function(){return Date.now()-b}}()})},"esri/core/requestAnimationFrame":function(){define(["require","exports","./global","./now"],function(a,b,d,q){var t=q();a=d.requestAnimationFrame;if(!a){b=["ms","moz","webkit","o"];for(var k=0;k<b.length&&!a;++k)a=d[b[k]+"RequestAnimationFrame"];a||(a=function(a){var b=q(),k=Math.max(0,16-(b-t)),m=d.setTimeout(function(){a(q())},
k);t=b+k;return m})}return a})},"esri/core/accessorSupport/decorators":function(){define("require exports ./decorators/aliasOf ./decorators/autoDestroy ./decorators/cast ./decorators/declared ./decorators/enumeration ./decorators/property ./decorators/reader ./decorators/shared ./decorators/subclass ./decorators/writer".split(" "),function(a,b,d,q,t,k,r,u,w,m,c,h){function g(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0});g(d);g(q);g(t);g(k);g(r);
g(u);g(w);g(m);g(c);g(h)})},"esri/core/accessorSupport/decorators/aliasOf":function(){define(["require","exports","../metadata"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.aliasOf=function(a){return function(b,k){d.getPropertyMetadata(b,k).aliasOf=a}}})},"esri/core/accessorSupport/decorators/autoDestroy":function(){define(["require","exports","../metadata"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.autoDestroy=function(){return function(a,b,k){d.getMetadata(a).autoDestroy=
!0;return a[b]}}})},"esri/core/accessorSupport/decorators/declared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.declared=function(a){for(var b=[],d=1;d<arguments.length;d++)b[d-1]=arguments[d];d=function(){return this||{}};d.__bases__=[a].concat(b);return d}})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["require","exports","../../kebabDictionary","./property"],function(a,b,d,q){function t(a){return q.property({type:a})}
Object.defineProperty(b,"__esModule",{value:!0});b.enumeration=t;(function(a){a.serializable=function(){return function(a){a=a instanceof d.KebabDictionary?a:new d.KebabDictionary(a,{ignoreUnknown:!0});return q.property({type:a.apiValues,json:{type:a.jsonValues,read:{reader:a.read},write:{writer:a.write}}})}}})(t=b.enumeration||(b.enumeration={}))})},"esri/core/kebabDictionary":function(){define(["require","exports"],function(a,b){function d(a,b){void 0===b&&(b={});return new q(a,b)}var q=function(){function a(a,
b){var d=this;this.jsonToAPI=a;this.options=b;this.apiValues=[];this.jsonValues=[];this.apiToJSON=this.invertMap(a);this.apiValues=this.getKeysSorted(this.apiToJSON);this.jsonValues=this.getKeysSorted(this.jsonToAPI);this.read=function(a){return d.fromJSON(a)};this.write=function(a,b,c){a=d.toJSON(a);void 0!==a&&(b[c]=a)}}a.prototype.toJSON=function(a){return this.apiToJSON.hasOwnProperty(a)?this.apiToJSON[a]:this.options.ignoreUnknown?void 0:a};a.prototype.fromJSON=function(a){return this.jsonToAPI.hasOwnProperty(a)?
this.jsonToAPI[a]:this.options.ignoreUnknown?void 0:a};a.prototype.invertMap=function(a){var b={},d;for(d in a)b[a[d]]=d;return b};a.prototype.getKeysSorted=function(a){var b=[],d;for(d in a)b.push(d);b.sort();return b};return a}();(function(a){a.strict=function(){return function(b){return new a.KebabDictionary(b,{ignoreUnknown:!0})}};a.KebabDictionary=q})(d||(d={}));return d})},"esri/core/accessorSupport/decorators/property":function(){define("require exports ../../has ../../lang ../../Logger ../metadata".split(" "),
function(a,b,d,q,t,k){Object.defineProperty(b,"__esModule",{value:!0});t.getLogger("esri.core.accessorSupport.decorators.property");b.property=function(a){void 0===a&&(a={});return function(b,d){var m=b.constructor.prototype;if(m!==Function.prototype){(b=Object.getOwnPropertyDescriptor(b,d))&&(b.get||b.set)?(a=q.clone(a),b.set&&(a.set=b.set),b.get&&(a.get=b.get)):b&&b.hasOwnProperty("value")&&(a=q.clone(a),a.value=b.value);d=k.getPropertyMetadata(m,d);for(var c in a)m=a[c],Array.isArray(m)&&"type"!==
c?d[c]=(d[c]||[]).concat(m):d[c]=m}}};b.propertyJSONMeta=function(a,b,d){a=k.getPropertyMetadata(a.constructor.prototype,d);a.json||(a.json={});a=a.json;void 0!==b&&(a.origins||(a.origins={}),a.origins[b]||(a.origins[b]={}),a=a.origins[b]);return a}})},"esri/core/accessorSupport/decorators/reader":function(){define(["require","exports","../../object","./property"],function(a,b,d,q){Object.defineProperty(b,"__esModule",{value:!0});b.reader=function(a,b,r){var k,w;void 0===b||Array.isArray(b)?(w=a,
r=b,k=[void 0]):(w=b,k=Array.isArray(a)?a:[a]);return function(a,b,h){var c=a.constructor.prototype;k.forEach(function(e){e=q.propertyJSONMeta(a,e,w);e.read&&"object"!==typeof e.read&&(e.read={});d.setDeepValue("read.reader",c[b],e);r&&(e.read.source=(e.read.source||[]).concat(r))})}}})},"esri/core/accessorSupport/decorators/shared":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});b.shared=function(a){return function(b,d){b[d]=a}}})},"esri/core/accessorSupport/decorators/subclass":function(){define(["require",
"exports","../../declare","../metadata"],function(a,b,d,q){function t(a,b){a.read&&("function"===typeof a.read?b.push(a.read):"object"===typeof a.read&&a.read.reader&&b.push(a.read.reader))}function k(a,b){a.write&&("function"===typeof a.write?b.push(a.write):"object"===typeof a.write&&a.write.writer&&b.push(a.write.writer))}function r(a){var b=[];a=q.getPropertiesMetadata(a.prototype);if(!a)return b;for(var c in a){var e=a[c];e.cast&&b.push(e.cast);e.copy&&b.push(e.copy);if(e=e.json)if(t(e,b),k(e,
b),e=e.origins)for(var l in e){var d=e[l];t(d,b);k(d,b)}}return b}function u(a){var b={values:{},descriptors:{}},c=["__bases__"],e=q.getPropertiesMetadata(a.prototype),l=r(a);Object.getOwnPropertyNames(a.prototype).filter(function(b){return-1!==c.indexOf(b)||e&&e.hasOwnProperty(b)||!m(Object.getOwnPropertyDescriptor(a.prototype,b))&&-1!==l.indexOf(a.prototype[b])?!1:!0}).forEach(function(c){var e=Object.getOwnPropertyDescriptor(a.prototype,c);m(e)?b.descriptors[c]=e:b.values[c]=a.prototype[c]});return b}
function w(a){var b=Object.getOwnPropertyNames(a),c=Object.getPrototypeOf(a.prototype).constructor,e=Object.getOwnPropertyNames(Function);e.push("__bases__");var l=Object.getOwnPropertyNames(c),d={values:{},descriptors:{}};b.filter(function(b){return-1!==e.indexOf(b)?!1:-1===l.indexOf(b)||c[b]!==a[b]?!0:!1}).forEach(function(b){var c=Object.getOwnPropertyDescriptor(a,b);m(c)?d.descriptors[b]=c:d.values[b]=a[b]});return d}function m(a){return a&&!(!a.get&&!a.set)}Object.defineProperty(b,"__esModule",
{value:!0});b.subclass=function(a){return function(b){var c=u(b),e=w(b);null!=a&&(c.values.declaredClass=a);b=d(b.__bases__,c.values);Object.defineProperties(b.prototype,c.descriptors);for(var h in e.values)b[h]=e.values[h];Object.defineProperties(b,e.descriptors);return b}}})},"esri/core/accessorSupport/decorators/writer":function(){define(["require","exports","../../object","./property"],function(a,b,d,q){Object.defineProperty(b,"__esModule",{value:!0});b.writer=function(a,b,r){var k,w;void 0===
b?(w=a,k=[void 0]):"string"!==typeof b?(w=a,k=[void 0],r=b):(w=b,k=Array.isArray(a)?a:[a]);return function(a,b,h){var c=a.constructor.prototype;k.forEach(function(e){e=q.propertyJSONMeta(a,e,w);e.write&&"object"!==typeof e.write&&(e.write={});r&&d.setDeepValue("write.target",r,e);d.setDeepValue("write.writer",c[b],e)})}}})},"esri/core/accessorSupport/read":function(){define("require exports ../tsSupport/assignHelper ./get ./utils ./extensions/serializableProperty".split(" "),function(a,b,d,q,t,k){function r(a,
b,c){void 0===c&&(c=u);if(b&&"object"===typeof b){for(var h=t.getProperties(a),g=h.metadatas,e={},l=0,d=Object.getOwnPropertyNames(b);l<d.length;l++){var p=e,y=g,m=d[l],f=b,n=c,v=k.originSpecificReadPropertyDefinition(y[m],n);v&&(!v.read||!1!==v.read.enabled&&!v.read.source)&&(p[m]=!0);for(var B=0,D=Object.getOwnPropertyNames(y);B<D.length;B++){var r=D[B],v=k.originSpecificReadPropertyDefinition(y[r],n),w;a:{w=m;var A=f;if(v&&v.read&&!1!==v.read.enabled&&v.read.source)if(v=v.read.source,"string"===
typeof v){if(v===w||-1<v.indexOf(".")&&0===v.indexOf(w)&&q.exists(v,A)){w=!0;break a}}else for(var G=0;G<v.length;G++){var H=v[G];if(H===w||-1<H.indexOf(".")&&0===H.indexOf(w)&&q.exists(H,A)){w=!0;break a}}w=!1}w&&(p[r]=!0)}}h.setDefaultOrigin(c.origin);d=0;for(p=Object.getOwnPropertyNames(e);d<p.length;d++)l=p[d],m=(y=k.originSpecificReadPropertyDefinition(g[l],c).read)&&y.source,f=void 0,f=m&&"string"===typeof m?q.valueOf(b,m):b[l],y&&y.reader&&(f=y.reader.call(a,f,b,c)),void 0!==f&&h.set(l,f);
b=0;for(g=Object.getOwnPropertyNames(g);b<g.length;b++)l=g[b],e[l]||(d=a,p=h,y=c,m=(m=k.originSpecificReadPropertyDefinition(p.metadatas[l],y))&&m.read&&m.read.default,void 0!==m&&(d="function"===typeof m?m.call(d,l,y):m,void 0!==d&&p.set(l,d)));h.setDefaultOrigin("user")}}Object.defineProperty(b,"__esModule",{value:!0});var u={origin:"service"};b.read=r;b.readLoadable=function(a,b,c,h){void 0===h&&(h=u);b=d({},h,{messages:[]});c(b);b.messages.forEach(function(b){"warning"!==b.type||a.loaded?h&&h.messages.push(b):
a.loadWarnings.push(b)})};b.default=r})},"esri/core/accessorSupport/write":function(){define("require exports ../Error ../Logger ./PropertyOrigin ./utils ./extensions/serializableProperty".split(" "),function(a,b,d,q,t,k,r){function u(a,b,g,e,l,x){if(!e||!e.write)return!1;var c=a.get(g);if(void 0===c)return!1;if(!l&&e.write.overridePolicy){var y=e.write.overridePolicy.call(a,c,g,x);void 0!==y&&(l=y)}l||(l=e.write);if(!l||!1===l.enabled)return!1;if(null===c){if(l.allowNull)return!0;l.isRequired&&((a=
new d("web-document-write:property-required","Missing value for required property '"+g+"' on '"+a.declaredClass+"'",{propertyName:g,target:a}),x)&&x.messages?x.messages.push(a):a&&!x&&m.error(a.name,a.message));return!1}return!l.ignoreOrigin&&x&&x.origin&&b.store.originOf(g)<t.nameToId(x.origin)?!1:!0}function w(a,b,g){if(a&&"function"===typeof a.toJSON&&(!a.toJSON.isDefaultToJSON||!a.write))return k.merge(b,a.toJSON());var c=k.getProperties(a),h=c.metadatas,d;for(d in h){var p=r.originSpecificWritePropertyDefinition(h[d],
g);if(u(a,c,d,p,null,g)){var y=a.get(d),m={};p.write.writer.call(a,y,m,"string"===typeof p.write.target?p.write.target:d,g);p=m;0<Object.keys(p).length&&(b=k.merge(b,p),g&&g.writtenProperties&&g.writtenProperties.push({target:a,propName:d,oldOrigin:t.idToReadableName(c.store.originOf(d)),newOrigin:g.origin}))}}return b}Object.defineProperty(b,"__esModule",{value:!0});var m=q.getLogger("esri.core.accessorSupport.write");b.willPropertyWrite=function(a,b,g,e){var c=k.getProperties(a),h=r.originSpecificWritePropertyDefinition(c.metadatas[b],
e);return h?u(a,c,b,h,g,e):!1};b.write=w;b.disableWriteDefaultPolicy=function(a){return function(b){return{enabled:b!==a}}};b.default=w})},"esri/geometry/support/spatialReferenceUtils":function(){define(["require","exports","./WKIDUnitConversion"],function(a,b,d){function q(a){return a.wkid&&!0===t[a.wkid]}Object.defineProperty(b,"__esModule",{value:!0});var t={102113:!0,102100:!0,3857:!0,3785:!0},k={102113:!0,102100:!0,3857:!0,3785:!0,4326:!0};a=[-2.0037508342788905E7,2.0037508342788905E7];var r=
[-2.0037508342787E7,2.0037508342787E7],u={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:a,origin:r,
dx:1E-5},102100:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:r,dx:1E-5},3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',
valid:a,origin:r,dx:1E-5},3857:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:a,origin:r,
dx:1E-5},4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',
valid:[-180,180],origin:[-180,180],dx:1E-5}};b.equals=function(a,b){if(b){if(a===b)return!0;if(null!=a.wkid||null!=b.wkid)return a.wkid===b.wkid||q(a)&&q(b)||null!=b.latestWkid&&a.wkid===b.latestWkid||null!=a.latestWkid&&b.wkid===a.latestWkid;if(a.wkt&&b.wkt)return a.wkt.toUpperCase()===b.wkt.toUpperCase()}return!1};b.getInfo=function(a){return a.wkid?u[a.wkid]:null};b.isGeographic=function(a){return a.wkid?null==d[a.wkid]:a.wkt?!!/^\s*GEOGCS/i.test(a.wkt):!1};b.isWGS84=function(a){return 4326===
a.wkid};b.isWebMercator=q;b.isWrappable=function(a){return a.wkid&&!0===k[a.wkid]}})},"esri/geometry/support/WKIDUnitConversion":function(){define([],function(){var a,b={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.116756,5E4,15E4],units:"Meter Foot Foot_US Foot_Clarke Yard_Clarke Link_Clarke Yard_Sears Foot_Sears Chain_Sears Chain_Benoit_1895_B Yard_Indian Yard_Indian_1937 Foot_Gold_Coast Chain_Sears_1922_Truncated 50_Kilometers 150_Kilometers".split(" "),
2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:13,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,
3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,
3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,
3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5048:0,5167:0,5168:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,
5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,
6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,
6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,
6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,
6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,
7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,
7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8058:0,8059:0,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,
8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22332:0,22391:0,22392:0,22700:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25E3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,
26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,27700:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53034:0,53048:0,53049:0,
54034:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:14,102069:15,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102962:0,102963:0,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,
103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,
103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,
103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,
103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103695:2};for(a=2E3;2045>=a;a++)b[a]=0;for(a=2056;2065>=a;a++)b[a]=0;for(a=2067;2135>=a;a++)b[a]=0;for(a=2137;2154>=a;a++)b[a]=0;for(a=2161;2170>=a;a++)b[a]=0;for(a=2172;2193>=a;a++)b[a]=0;for(a=2195;2198>=a;a++)b[a]=0;for(a=2200;2203>=a;a++)b[a]=0;for(a=2205;2217>=a;a++)b[a]=0;for(a=2222;2224>=a;a++)b[a]=1;for(a=2225;2250>=a;a++)b[a]=2;
for(a=2251;2253>=a;a++)b[a]=1;for(a=2257;2264>=a;a++)b[a]=2;for(a=2274;2279>=a;a++)b[a]=2;for(a=2280;2282>=a;a++)b[a]=1;for(a=2283;2289>=a;a++)b[a]=2;for(a=2290;2292>=a;a++)b[a]=0;for(a=2308;2313>=a;a++)b[a]=0;for(a=2315;2491>=a;a++)b[a]=0;for(a=2494;2866>=a;a++)b[a]=0;for(a=2867;2869>=a;a++)b[a]=1;for(a=2870;2888>=a;a++)b[a]=2;for(a=2891;2895>=a;a++)b[a]=2;for(a=2896;2898>=a;a++)b[a]=1;for(a=2902;2908>=a;a++)b[a]=2;for(a=2915;2920>=a;a++)b[a]=2;for(a=2921;2923>=a;a++)b[a]=1;for(a=2924;2930>=a;a++)b[a]=
2;for(a=2931;2962>=a;a++)b[a]=0;for(a=2964;2968>=a;a++)b[a]=2;for(a=2969;2973>=a;a++)b[a]=0;for(a=2975;2991>=a;a++)b[a]=0;for(a=2995;3051>=a;a++)b[a]=0;for(a=3054;3079>=a;a++)b[a]=0;for(a=3081;3088>=a;a++)b[a]=0;for(a=3092;3101>=a;a++)b[a]=0;for(a=3106;3138>=a;a++)b[a]=0;for(a=3146;3151>=a;a++)b[a]=0;for(a=3153;3166>=a;a++)b[a]=0;for(a=3168;3172>=a;a++)b[a]=0;for(a=3174;3203>=a;a++)b[a]=0;for(a=3294;3358>=a;a++)b[a]=0;for(a=3367;3403>=a;a++)b[a]=0;for(a=3408;3416>=a;a++)b[a]=0;for(a=3417;3438>=a;a++)b[a]=
2;for(a=3441;3446>=a;a++)b[a]=2;for(a=3447;3450>=a;a++)b[a]=0;for(a=3451;3459>=a;a++)b[a]=2;for(a=3460;3478>=a;a++)b[a]=0;for(a=3554;3559>=a;a++)b[a]=0;for(a=3560;3570>=a;a++)b[a]=2;for(a=3571;3581>=a;a++)b[a]=0;for(a=3594;3597>=a;a++)b[a]=0;for(a=3601;3604>=a;a++)b[a]=0;for(a=3637;3639>=a;a++)b[a]=0;for(a=3665;3667>=a;a++)b[a]=0;for(a=3693;3695>=a;a++)b[a]=0;for(a=3701;3727>=a;a++)b[a]=0;for(a=3728;3739>=a;a++)b[a]=2;for(a=3740;3751>=a;a++)b[a]=0;for(a=3753;3760>=a;a++)b[a]=2;for(a=3761;3773>=a;a++)b[a]=
0;for(a=3775;3777>=a;a++)b[a]=0;for(a=3779;3781>=a;a++)b[a]=0;for(a=3783;3785>=a;a++)b[a]=0;for(a=3788;3791>=a;a++)b[a]=0;for(a=3797;3802>=a;a++)b[a]=0;for(a=3814;3816>=a;a++)b[a]=0;for(a=3825;3829>=a;a++)b[a]=0;for(a=3832;3841>=a;a++)b[a]=0;for(a=3844;3852>=a;a++)b[a]=0;for(a=3873;3885>=a;a++)b[a]=0;for(a=3890;3893>=a;a++)b[a]=0;for(a=3907;3912>=a;a++)b[a]=0;for(a=3942;3950>=a;a++)b[a]=0;for(a=3968;3970>=a;a++)b[a]=0;for(a=3973;3976>=a;a++)b[a]=0;for(a=3986;3989>=a;a++)b[a]=0;for(a=3994;3997>=a;a++)b[a]=
0;for(a=4048;4051>=a;a++)b[a]=0;for(a=4056;4063>=a;a++)b[a]=0;for(a=4093;4096>=a;a++)b[a]=0;for(a=4390;4398>=a;a++)b[a]=0;for(a=4399;4413>=a;a++)b[a]=2;for(a=4418;4433>=a;a++)b[a]=2;for(a=4455;4457>=a;a++)b[a]=2;for(a=4484;4489>=a;a++)b[a]=0;for(a=4491;4554>=a;a++)b[a]=0;for(a=4568;4589>=a;a++)b[a]=0;for(a=4652;4656>=a;a++)b[a]=0;for(a=4766;4800>=a;a++)b[a]=0;for(a=5014;5016>=a;a++)b[a]=0;for(a=5069;5072>=a;a++)b[a]=0;for(a=5105;5130>=a;a++)b[a]=0;for(a=5173;5188>=a;a++)b[a]=0;for(a=5253;5259>=a;a++)b[a]=
0;for(a=5269;5275>=a;a++)b[a]=0;for(a=5292;5311>=a;a++)b[a]=0;for(a=5329;5331>=a;a++)b[a]=0;for(a=5343;5349>=a;a++)b[a]=0;for(a=5355;5357>=a;a++)b[a]=0;for(a=5387;5389>=a;a++)b[a]=0;for(a=5459;5463>=a;a++)b[a]=0;for(a=5479;5482>=a;a++)b[a]=0;for(a=5518;5520>=a;a++)b[a]=0;for(a=5530;5539>=a;a++)b[a]=0;for(a=5550;5552>=a;a++)b[a]=0;for(a=5562;5583>=a;a++)b[a]=0;for(a=5623;5625>=a;a++)b[a]=2;for(a=5631;5639>=a;a++)b[a]=0;for(a=5649;5653>=a;a++)b[a]=0;for(a=5663;5680>=a;a++)b[a]=0;for(a=5682;5685>=a;a++)b[a]=
0;for(a=5875;5877>=a;a++)b[a]=0;for(a=5921;5940>=a;a++)b[a]=0;for(a=6050;6125>=a;a++)b[a]=0;for(a=6244;6275>=a;a++)b[a]=0;for(a=6328;6348>=a;a++)b[a]=0;for(a=6350;6356>=a;a++)b[a]=0;for(a=6366;6372>=a;a++)b[a]=0;for(a=6381;6387>=a;a++)b[a]=0;for(a=6393;6404>=a;a++)b[a]=0;for(a=6480;6483>=a;a++)b[a]=0;for(a=6511;6514>=a;a++)b[a]=0;for(a=6579;6581>=a;a++)b[a]=0;for(a=6619;6624>=a;a++)b[a]=0;for(a=6625;6627>=a;a++)b[a]=2;for(a=6628;6632>=a;a++)b[a]=0;for(a=6634;6637>=a;a++)b[a]=0;for(a=6669;6692>=a;a++)b[a]=
0;for(a=6707;6709>=a;a++)b[a]=0;for(a=6720;6723>=a;a++)b[a]=0;for(a=6732;6738>=a;a++)b[a]=0;for(a=6931;6933>=a;a++)b[a]=0;for(a=6956;6959>=a;a++)b[a]=0;for(a=7005;7007>=a;a++)b[a]=0;for(a=7057;7070>=a;a++)b[a]=2;for(a=7074;7082>=a;a++)b[a]=0;for(a=7109;7118>=a;a++)b[a]=0;for(a=7119;7127>=a;a++)b[a]=1;for(a=7374;7376>=a;a++)b[a]=0;for(a=7528;7586>=a;a++)b[a]=0;for(a=7587;7645>=a;a++)b[a]=2;for(a=7755;7787>=a;a++)b[a]=0;for(a=7791;7795>=a;a++)b[a]=0;for(a=7799;7801>=a;a++)b[a]=0;for(a=7803;7805>=a;a++)b[a]=
0;for(a=7825;7831>=a;a++)b[a]=0;for(a=7845;7859>=a;a++)b[a]=0;for(a=8013;8032>=a;a++)b[a]=0;for(a=20002;20032>=a;a++)b[a]=0;for(a=20062;20092>=a;a++)b[a]=0;for(a=20135;20138>=a;a++)b[a]=0;for(a=20248;20258>=a;a++)b[a]=0;for(a=20348;20358>=a;a++)b[a]=0;for(a=20436;20440>=a;a++)b[a]=0;for(a=20822;20824>=a;a++)b[a]=0;for(a=20934;20936>=a;a++)b[a]=0;for(a=21035;21037>=a;a++)b[a]=0;for(a=21095;21097>=a;a++)b[a]=0;for(a=21148;21150>=a;a++)b[a]=0;for(a=21413;21423>=a;a++)b[a]=0;for(a=21473;21483>=a;a++)b[a]=
0;for(a=21780;21782>=a;a++)b[a]=0;for(a=21891;21894>=a;a++)b[a]=0;for(a=21896;21899>=a;a++)b[a]=0;for(a=22171;22177>=a;a++)b[a]=0;for(a=22181;22187>=a;a++)b[a]=0;for(a=22191;22197>=a;a++)b[a]=0;for(a=22234;22236>=a;a++)b[a]=0;for(a=22521;22525>=a;a++)b[a]=0;for(a=22991;22994>=a;a++)b[a]=0;for(a=23028;23038>=a;a++)b[a]=0;for(a=23830;23853>=a;a++)b[a]=0;for(a=23866;23872>=a;a++)b[a]=0;for(a=23877;23884>=a;a++)b[a]=0;for(a=23886;23894>=a;a++)b[a]=0;for(a=23946;23948>=a;a++)b[a]=0;for(a=24311;24313>=
a;a++)b[a]=0;for(a=24342;24347>=a;a++)b[a]=0;for(a=24370;24374>=a;a++)b[a]=10;for(a=24375;24381>=a;a++)b[a]=0;for(a=24718;24721>=a;a++)b[a]=0;for(a=24817;24821>=a;a++)b[a]=0;for(a=24877;24882>=a;a++)b[a]=0;for(a=24891;24893>=a;a++)b[a]=0;for(a=25391;25395>=a;a++)b[a]=0;for(a=25828;25838>=a;a++)b[a]=0;for(a=26191;26195>=a;a++)b[a]=0;for(a=26391;26393>=a;a++)b[a]=0;for(a=26701;26722>=a;a++)b[a]=0;for(a=26729;26799>=a;a++)b[a]=2;for(a=26801;26803>=a;a++)b[a]=2;for(a=26811;26813>=a;a++)b[a]=2;for(a=26847;26870>=
a;a++)b[a]=2;for(a=26891;26899>=a;a++)b[a]=0;for(a=26901;26923>=a;a++)b[a]=0;for(a=26929;26946>=a;a++)b[a]=0;for(a=26948;26998>=a;a++)b[a]=0;for(a=27037;27040>=a;a++)b[a]=0;for(a=27205;27232>=a;a++)b[a]=0;for(a=27258;27260>=a;a++)b[a]=0;for(a=27391;27398>=a;a++)b[a]=0;for(a=27561;27564>=a;a++)b[a]=0;for(a=27571;27574>=a;a++)b[a]=0;for(a=27581;27584>=a;a++)b[a]=0;for(a=27591;27594>=a;a++)b[a]=0;for(a=28191;28193>=a;a++)b[a]=0;for(a=28348;28358>=a;a++)b[a]=0;for(a=28402;28432>=a;a++)b[a]=0;for(a=28462;28492>=
a;a++)b[a]=0;for(a=29118;29122>=a;a++)b[a]=0;for(a=29168;29172>=a;a++)b[a]=0;for(a=29177;29185>=a;a++)b[a]=0;for(a=29187;29195>=a;a++)b[a]=0;for(a=29900;29903>=a;a++)b[a]=0;for(a=30161;30179>=a;a++)b[a]=0;for(a=30491;30494>=a;a++)b[a]=0;for(a=30729;30732>=a;a++)b[a]=0;for(a=31251;31259>=a;a++)b[a]=0;for(a=31265;31268>=a;a++)b[a]=0;for(a=31275;31279>=a;a++)b[a]=0;for(a=31281;31297>=a;a++)b[a]=0;for(a=31461;31469>=a;a++)b[a]=0;for(a=31491;31495>=a;a++)b[a]=0;for(a=31917;31922>=a;a++)b[a]=0;for(a=31965;32E3>=
a;a++)b[a]=0;for(a=32001;32003>=a;a++)b[a]=2;for(a=32005;32031>=a;a++)b[a]=2;for(a=32033;32060>=a;a++)b[a]=2;for(a=32064;32067>=a;a++)b[a]=2;for(a=32074;32077>=a;a++)b[a]=2;for(a=32081;32086>=a;a++)b[a]=0;for(a=32107;32130>=a;a++)b[a]=0;for(a=32133;32158>=a;a++)b[a]=0;for(a=32164;32167>=a;a++)b[a]=2;for(a=32180;32199>=a;a++)b[a]=0;for(a=32201;32260>=a;a++)b[a]=0;for(a=32301;32360>=a;a++)b[a]=0;for(a=32601;32662>=a;a++)b[a]=0;for(a=32664;32667>=a;a++)b[a]=2;for(a=32701;32761>=a;a++)b[a]=0;for(a=53001;53004>=
a;a++)b[a]=0;for(a=53008;53019>=a;a++)b[a]=0;for(a=53021;53032>=a;a++)b[a]=0;for(a=53042;53046>=a;a++)b[a]=0;for(a=53074;53080>=a;a++)b[a]=0;for(a=54001;54004>=a;a++)b[a]=0;for(a=54008;54019>=a;a++)b[a]=0;for(a=54021;54032>=a;a++)b[a]=0;for(a=54042;54046>=a;a++)b[a]=0;for(a=54048;54053>=a;a++)b[a]=0;for(a=54074;54080>=a;a++)b[a]=0;for(a=102001;102040>=a;a++)b[a]=0;for(a=102042;102063>=a;a++)b[a]=0;for(a=102065;102067>=a;a++)b[a]=0;for(a=102070;102117>=a;a++)b[a]=0;for(a=102122;102216>=a;a++)b[a]=
0;for(a=102221;102377>=a;a++)b[a]=0;for(a=102382;102388>=a;a++)b[a]=0;for(a=102389;102398>=a;a++)b[a]=2;for(a=102399;102444>=a;a++)b[a]=0;for(a=102445;102447>=a;a++)b[a]=2;for(a=102448;102458>=a;a++)b[a]=0;for(a=102459;102468>=a;a++)b[a]=2;for(a=102469;102497>=a;a++)b[a]=0;for(a=102500;102519>=a;a++)b[a]=1;for(a=102520;102524>=a;a++)b[a]=0;for(a=102525;102529>=a;a++)b[a]=2;for(a=102530;102568>=a;a++)b[a]=0;for(a=102570;102588>=a;a++)b[a]=0;for(a=102590;102598>=a;a++)b[a]=0;for(a=102601;102603>=a;a++)b[a]=
0;for(a=102605;102628>=a;a++)b[a]=0;for(a=102629;102646>=a;a++)b[a]=2;for(a=102648;102700>=a;a++)b[a]=2;for(a=102701;102703>=a;a++)b[a]=0;for(a=102707;102730>=a;a++)b[a]=2;for(a=102733;102758>=a;a++)b[a]=2;for(a=102767;102900>=a;a++)b[a]=0;for(a=102965;102969>=a;a++)b[a]=0;for(a=102971;102973>=a;a++)b[a]=0;for(a=102975;102989>=a;a++)b[a]=0;for(a=102990;102992>=a;a++)b[a]=1;for(a=102997;103002>=a;a++)b[a]=0;for(a=103003;103008>=a;a++)b[a]=2;for(a=103009;103011>=a;a++)b[a]=0;for(a=103012;103014>=a;a++)b[a]=
2;for(a=103019;103021>=a;a++)b[a]=0;for(a=103022;103024>=a;a++)b[a]=2;for(a=103029;103031>=a;a++)b[a]=0;for(a=103032;103034>=a;a++)b[a]=2;for(a=103065;103068>=a;a++)b[a]=0;for(a=103074;103076>=a;a++)b[a]=0;for(a=103077;103079>=a;a++)b[a]=1;for(a=103080;103082>=a;a++)b[a]=0;for(a=103083;103085>=a;a++)b[a]=2;for(a=103090;103093>=a;a++)b[a]=0;for(a=103097;103099>=a;a++)b[a]=0;for(a=103100;103102>=a;a++)b[a]=2;for(a=103107;103109>=a;a++)b[a]=0;for(a=103110;103112>=a;a++)b[a]=2;for(a=103113;103116>=a;a++)b[a]=
0;for(a=103117;103120>=a;a++)b[a]=2;for(a=103153;103157>=a;a++)b[a]=0;for(a=103158;103162>=a;a++)b[a]=2;for(a=103163;103165>=a;a++)b[a]=0;for(a=103166;103168>=a;a++)b[a]=1;for(a=103169;103171>=a;a++)b[a]=2;for(a=103186;103188>=a;a++)b[a]=0;for(a=103189;103191>=a;a++)b[a]=2;for(a=103192;103195>=a;a++)b[a]=0;for(a=103196;103199>=a;a++)b[a]=2;for(a=103200;103224>=a;a++)b[a]=0;for(a=103225;103227>=a;a++)b[a]=1;for(a=103232;103237>=a;a++)b[a]=0;for(a=103238;103243>=a;a++)b[a]=2;for(a=103244;103246>=a;a++)b[a]=
0;for(a=103247;103249>=a;a++)b[a]=2;for(a=103254;103256>=a;a++)b[a]=0;for(a=103257;103259>=a;a++)b[a]=2;for(a=103264;103266>=a;a++)b[a]=0;for(a=103267;103269>=a;a++)b[a]=2;for(a=103300;103375>=a;a++)b[a]=0;for(a=103381;103383>=a;a++)b[a]=0;for(a=103384;103386>=a;a++)b[a]=1;for(a=103387;103389>=a;a++)b[a]=0;for(a=103390;103392>=a;a++)b[a]=2;for(a=103397;103399>=a;a++)b[a]=0;for(a=103400;103471>=a;a++)b[a]=2;for(a=103476;103478>=a;a++)b[a]=0;for(a=103479;103481>=a;a++)b[a]=2;for(a=103486;103488>=a;a++)b[a]=
0;for(a=103489;103491>=a;a++)b[a]=2;for(a=103492;103495>=a;a++)b[a]=0;for(a=103496;103499>=a;a++)b[a]=2;for(a=103528;103543>=a;a++)b[a]=0;for(a=103544;103548>=a;a++)b[a]=2;for(a=103549;103551>=a;a++)b[a]=0;for(a=103552;103554>=a;a++)b[a]=1;for(a=103555;103557>=a;a++)b[a]=2;for(a=103558;103560>=a;a++)b[a]=0;for(a=103571;103573>=a;a++)b[a]=0;for(a=103574;103576>=a;a++)b[a]=2;for(a=103577;103580>=a;a++)b[a]=0;for(a=103581;103583>=a;a++)b[a]=2;for(a=103600;103694>=a;a++)b[a]=0;for(a=103700;103793>=a;a++)b[a]=
2;for(a=103794;103871>=a;a++)b[a]=0;for(a=103900;103971>=a;a++)b[a]=2;return b})},"esri/views/3d/layers/i3s/I3SGeometryUtil":function(){define("require exports ./I3SBinaryReader ../../lib/gl-matrix ../../support/meshProcessing ../../webgl-engine/lib/Util".split(" "),function(a,b,d,q,t,k){function r(a,b,c,e,f,n,v){switch(c){case 1:for(c=0;c<v;c++)e[f]=a[b],b+=1,f+=n;break;case 2:for(c=0;c<v;c++)e[f]=a[b],e[f+1]=a[b+1],b+=2,f+=n;break;case 3:for(c=0;c<v;c++)e[f]=a[b],e[f+1]=a[b+1],e[f+2]=a[b+2],b+=
3,f+=n;break;case 4:for(c=0;c<v;c++)e[f]=a[b],e[f+1]=a[b+1],e[f+2]=a[b+2],e[f+3]=a[b+3],b+=4,f+=n;break;default:throw h("Unhandled stride size "+c);}}function u(a,b,c,e,f,n){switch(b){case 1:for(b=0;b<n;b++)c[e]=a,e+=f;break;case 2:for(b=0;b<n;b++)c[e]=a,c[e+1]=a,e+=f;break;case 3:for(b=0;b<n;b++)c[e]=a,c[e+1]=a,c[e+2]=a,e+=f;break;case 4:for(b=0;b<n;b++)c[e]=a,c[e+1]=a,c[e+2]=a,c[e+3]=a,e+=f;break;default:throw h("Unhandled stride size "+b);}}function w(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;
case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}function m(a){switch(a){case 5120:return"Int8";case 5126:return"Float32";case 5124:return"Int32";case 5122:return"Int16";case 5121:return"UInt8";case 5125:return"UInt32";case 5123:return"UInt16"}throw Error("Unhandled data type: "+a);}function c(a){return 0<a&&0===a%Uint32Array.BYTES_PER_ELEMENT}function h(a){return Error("I3SGeometryUtil processing failed: "+
a)}Object.defineProperty(b,"__esModule",{value:!0});var g=new Uint8Array(64);b.interleaveGeometryBuffer=function(a,b,e,d,f){void 0===d&&(d=[]);void 0===f&&(f=[]);var n=a.params.vertexAttributes,v=n.position.count;if(!c(e[0].stride))throw h("Layout stride must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var p=new Uint32Array(e[0].stride/Uint32Array.BYTES_PER_ELEMENT*v);e=e.slice(0).sort(function(a,f){return a.offset-f.offset});a=function(a){if(-1!==f.indexOf(a.name))return"continue";var e=n[a.name],
y=w(a.type),l=void 0,B=!1;if(null==e)if(B=d.filter(function(f){return f.name===a.name})[0]){e={valueType:m(a.type),byteOffset:0,count:v,valuesPerElement:a.count};for(l=0;l<g.length;l++)g[l]=B.byteValue;l=g.buffer;B=!0}else throw h("Geometry definition is missing attribute");else l=b;if(m(a.type)!==e.valueType)throw h("Geometry definition type must match attribute type");if(0!==e.byteOffset%Uint32Array.BYTES_PER_ELEMENT||0!==a.offset%Uint32Array.BYTES_PER_ELEMENT)throw h(a.name+" offset must use "+
Uint32Array.BYTES_PER_ELEMENT+"-byte words");if(!c(e.valuesPerElement*y.BYTES_PER_ELEMENT)||!c(a.count*y.BYTES_PER_ELEMENT))throw h(a.name+" data must use "+Uint32Array.BYTES_PER_ELEMENT+"-byte words");var l=new Uint32Array(l),x=e.byteOffset/Uint32Array.BYTES_PER_ELEMENT,e=e.valuesPerElement*y.BYTES_PER_ELEMENT/Uint32Array.BYTES_PER_ELEMENT,y=a.offset/Uint32Array.BYTES_PER_ELEMENT,z=a.stride/Uint32Array.BYTES_PER_ELEMENT;B?u(l[0],e,p,y,z,v):r(l,x,e,p,y,z,v)};for(var y=0;y<e.length;y++)a(e[y]);return p.buffer};
b.processAndInterleaveNormals=function(a,b,c,g,f){if("none"===a){var n=f.normals,v=f.positions;b=f.normalInd;a=f.positionInd;k.assert(f.normalInd.length===f.positionInd.length);f=q.vec3.create();g=q.vec3.create();c=q.vec2.create();for(var h=v.data,p=v.offsetIdx,v=v.strideIdx,y=n.data,m=n.offsetIdx,n=n.strideIdx,x=0;x<a.length;x+=3){var z=a[x],z=p+v*z,r=h[z],u=h[z+1],w=h[z+2],z=a[x+1],z=p+v*z;f[0]=h[z]-r;f[1]=h[z+1]-u;f[2]=h[z+2]-w;z=a[x+2];z=p+v*z;g[0]=h[z]-r;g[1]=h[z+1]-u;g[2]=h[z+2]-w;q.vec3.cross(f,
g,f);k.encodeNormal(f,c);for(r=0;3>r;r++)u=m+n*b[x+r],y[u]=k.encodeInt16(c[0]),y[u+1]=k.encodeInt16(c[1])}}else if(b=d.createTypedView(c,b.params.vertexAttributes.normal),c=f.normals,u="earth-centered"===a?g:null,a=b.length/3,f=c.data,g=c.offsetIdx,c=c.strideIdx,null!=u)for(h=u[0],p=u[1],v=u[2],y=u[4],m=u[5],n=u[6],x=u[8],r=u[9],u=u[10],w=0;w<a;w++){var z=b[3*w],t=b[3*w+1],K=b[3*w+2];e[0]=h*z+p*t+v*K;e[1]=y*z+m*t+n*K;e[2]=x*z+r*t+u*K;k.encodeNormal(e,l);f[g+w*c]=k.encodeInt16(l[0]);f[g+w*c+1]=k.encodeInt16(l[1])}else for(w=
0;w<a;w++)e[0]=b[3*w],e[1]=b[3*w+1],e[2]=b[3*w+2],k.encodeNormal(e,l),f[g+w*c]=k.encodeInt16(l[0]),f[g+w*c+1]=k.encodeInt16(l[1])};b.extractPositionData=function(a,b,c){b=b[0];if(null==b||"position"!==b.name||5126!==b.type)return null;var e=new Float32Array(a),f=b.stride/4,n=3*e.length/f,v=new Float32Array(n);for(a=0;a<n/3;a++)v[3*a]=e[a*f+b.offset],v[3*a+1]=e[a*f+b.offset+1],v[3*a+2]=e[a*f+b.offset+2];b=t.deduplicate(v.buffer,3);a=65536>b.uniqueCount;if(c)for(e=new (a?Uint16Array:Uint32Array)(c.length),
a=0;a<c.length;a++)e[a]=b.indices[c[a]];else e=a?new Uint16Array(b.indices):b.indices;return{data:new Float32Array(b.buffer),indices:e}};var e=q.vec3.create(),l=q.vec2.create()})},"esri/views/3d/layers/i3s/I3SBinaryReader":function(){define("require exports ../../../../core/Error ../../../../core/lang ../../../../core/Logger ./LEPCC".split(" "),function(a,b,d,q,t,k){function r(a,b,c){for(var f="",n=0;n<c;){var v=a[b+n];if(128>v)f+=String.fromCharCode(v),n++;else if(192<=v&&224>v){if(n+1>=c)throw new d("utf8-decode-error",
"UTF-8 Decode failed. Two byte character was truncated.");var e=a[b+n+1],v=(v&31)<<6|e&63,f=f+String.fromCharCode(v),n=n+2}else if(224<=v&&240>v){if(n+2>=c)throw new d("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");var e=a[b+n+1],g=a[b+n+2],v=(v&15)<<12|(e&63)<<6|g&63,f=f+String.fromCharCode(v),n=n+3}else if(240<=v&&248>v){if(n+3>=c)throw new d("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");e=a[b+n+1];g=a[b+n+2];v=(v&7)<<18|(e&63)<<
12|(g&63)<<6|a[b+n+3]&63;f=65536<=v?f+String.fromCharCode((v-65536>>10)+55296,(v&1023)+56320):f+String.fromCharCode(v);n+=4}else throw new d("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");}return f}function u(a,c){for(var e={byteOffset:0,byteCount:0,fields:Object.create(null)},f=0,n=0;n<c.length;n++){var v=c[n],g=v.valueType||v.type;e.fields[v.property]=(0,b.valueType2ArrayBufferReader[g])(a,f);f+=b.valueType2TypedArrayClassMap[g].BYTES_PER_ELEMENT}e.byteCount=f;return e}
function w(a,b,c){var f=[],n,v=0,e;for(e=0;e<a;e+=1){n=b[e];if(0<n){if(f.push(r(c,v,n-1)),0!==c[v+n-1])throw new d("string-array-error","Invalid string array: missing null termination.");}else f.push(null);v+=n}return f}function m(a,c){return new b.valueType2TypedArrayClassMap[c.valueType](a,c.byteOffset,c.count*c.valuesPerElement)}function c(a,b){return new Uint8Array(a,b.byteOffset,b.byteCount)}function h(a,b,c){a=null!=b.header?u(a,b.header):{byteOffset:0,byteCount:0,fields:{count:c}};c={header:a,
byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};for(var f=a.byteCount,n=0;n<b.ordering.length;n++){var v=b.ordering[n],g=q.clone(b[v]);g.count=a.fields.count;if("String"===g.valueType){if(g.byteOffset=f,g.byteCount=a.fields[v+"ByteCount"],"UTF-8"!==g.encoding)throw new d("unsupported-encoding","Unsupported String encoding.",{encoding:g.encoding});}else if(e(g.valueType)){var h=l(g.valueType),f=f+(0!==f%h?h-f%h:0);g.byteOffset=f;g.byteCount=h*g.valuesPerElement*g.count}else throw new d("unsupported-value-type",
"Unsupported binary valueType",{valueType:g.valueType});f+=g.byteCount;c.entries[v]=g}c.byteCount=f-c.byteOffset;return c}function g(a,b,c){b!==a&&x.error("Invalid "+c+" buffer size\n expected: "+a+", actual: "+b+")");if(b<a)throw new d("buffer-too-small","Binary buffer is too small",{expectedSize:a,actualSize:b});}function e(a){return b.valueType2TypedArrayClassMap.hasOwnProperty(a)}function l(a){return e(a)&&b.valueType2TypedArrayClassMap[a].BYTES_PER_ELEMENT}Object.defineProperty(b,"__esModule",
{value:!0});var x=t.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");b.readHeader=u;b.readStringArray=w;b.createTypedView=m;b.createRawView=c;b.createAttributeDataIndex=h;b.createGeometryDataIndex=function(a,b,c){var f=u(a,b&&b.header),n=f.byteCount,v={header:f,byteOffset:f.byteCount,byteCount:0,vertexAttributes:q.clone(b.vertexAttributes)},e=v.vertexAttributes;c||null==e.region||delete e.region;var f=f.fields,h=null!=f.vertexCount?f.vertexCount:f.count;for(c=0;c<b.ordering.length;c++){var d=
b.ordering[c];null!=e[d]&&(e[d].byteOffset=n,e[d].count=h,n+=l(e[d].valueType)*e[d].valuesPerElement*h)}e=f.faceCount;if(b.faces&&e)for(v.faces=q.clone(b.faces),h=v.faces,c=0;c<b.ordering.length;c++)d=b.ordering[c],null!=h[d]&&(h[d].byteOffset=n,h[d].count=e,n+=l(h[d].valueType)*h[d].valuesPerElement*e);f=f.featureCount;if(b.featureAttributes&&b.featureAttributeOrder&&f)for(v.featureAttributes=q.clone(b.featureAttributes),e=v.featureAttributes,c=0;c<b.featureAttributeOrder.length;c++)h=b.featureAttributeOrder[c],
e[h].byteOffset=n,e[h].count=f,d=l(e[h].valueType),"UInt64"===e[h].valueType&&(d=8),n+=d*e[h].valuesPerElement*f;g(n,a.byteLength,"geometry");v.byteCount=n-v.byteOffset;return v};b.readBinaryAttribute=function(a,b,e){if("lepcc-rgb"===a.encoding)return k.decodeRGB(b);if("lepcc-intensity"===a.encoding)return k.decodeIntensity(b);if(null!=a.encoding&&""!==a.encoding)throw new d("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");a["attributeByteCounts "]&&!a.attributeByteCounts&&
(x.warn("Warning: Trailing space in 'attributeByteCounts '."),a.attributeByteCounts=a["attributeByteCounts "]);"ObjectIds"===a.ordering[0]&&a.hasOwnProperty("objectIds")&&(x.warn("Warning: Case error in objectIds"),a.ordering[0]="objectIds");e=h(b,a,e);g(e.byteOffset+e.byteCount,b.byteLength,"attribute");if(a=e.entries.attributeValues||e.entries.objectIds){if("String"===a.valueType){e=e.entries.attributeByteCounts;var f=m(b,e);b=c(b,a);return w(e.count,f,b)}return m(b,a)}throw new d("bad-attribute-storage-info",
"Bad attributeStorageInfo specification.");};b.valueType2TypedArrayClassMap={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array};b.valueType2ArrayBufferReader={Float32:function(a,b){return(new DataView(a,0)).getFloat32(b,!0)},Float64:function(a,b){return(new DataView(a,0)).getFloat64(b,!0)},UInt8:function(a,b){return(new DataView(a,0)).getUint8(b)},Int8:function(a,b){return(new DataView(a,0)).getInt8(b)},
UInt16:function(a,b){return(new DataView(a,0)).getUint16(b,!0)},Int16:function(a,b){return(new DataView(a,0)).getInt16(b,!0)},UInt32:function(a,b){return(new DataView(a,0)).getUint32(b,!0)},Int32:function(a,b){return(new DataView(a,0)).getInt32(b,!0)}};b.isValueType=e;b.getBytesPerValue=l})},"esri/views/3d/layers/i3s/LEPCC":function(){define(["require","exports","../../../../core/Error"],function(a,b,d){function q(a,b,d){return{identifier:String.fromCharCode.apply(null,new Uint8Array(a,d+r.identifierOffset,
r.identifierLength)),version:b.getUint16(d+r.versionOffset,!0),checksum:b.getUint32(d+r.checksumOffset,!0)}}function t(a,b,d){var c=[];b=k(a,b,c);for(var h=[],g=0;g<c.length;g++){h.length=0;b=k(a,b,h);for(var e=0;e<h.length;e++)d.push(h[e]+c[g])}return b}function k(a,b,m){var c=new DataView(a,b),h=c.getUint8(0),g=h&31,e=!!(h&32),l=(h&192)>>6,h=0;if(0===l)h=c.getUint32(1,!0),b+=5;else if(1===l)h=c.getUint16(1,!0),b+=3;else if(2===l)h=c.getUint8(1),b+=2;else throw new d("lepcc-decode-error","Bad count type");
if(e)throw new d("lepcc-decode-error","LUT not implemented");a=new Uint8Array(a,b,Math.ceil(h*g/8));for(var l=e=c=0,x=-1>>>32-g,p=0;p<h;p++){for(;e<g;)c|=a[l]<<e,e+=8,l+=1;m[p]=c&x;c>>>=g;e-=g;32<e+g&&(c|=a[l-1]>>8-e)}return b+l}Object.defineProperty(b,"__esModule",{value:!0});var r={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};b.decodeXYZ=function(a){var b,m,c,h,g,e,l,x,p,y,k,f,n=new DataView(a,0),v=0;h=q(a,n,v);c=h.identifier;h=h.version;v+=r.byteCount;
if("LEPCC     "!==c)throw new d("lepcc-decode-error","Bad identifier");if(1<h)throw new d("lepcc-decode-error","Unknown version");var B=v;b=n.getUint32(B+0,!0);m=n.getUint32(B+4,!0);c=n.getFloat64(B+8,!0);h=n.getFloat64(B+16,!0);g=n.getFloat64(B+24,!0);e=n.getFloat64(B+32,!0);l=n.getFloat64(B+40,!0);x=n.getFloat64(B+48,!0);p=n.getFloat64(B+56,!0);y=n.getFloat64(B+64,!0);k=n.getFloat64(B+72,!0);f=n.getUint32(B+80,!0);n.getUint32(B+84,!0);v+=88;if(m*Math.pow(2,32)+b!==a.byteLength)throw new d("lepcc-decode-error",
"Bad size");n=new Float64Array(3*f);b=[];m=[];f=[];B=[];v=t(a,v,b);v=t(a,v,m);v=t(a,v,f);v=t(a,v,B);if(v!==a.byteLength)throw new d("lepcc-decode-error","Bad length");for(var D=v=a=0;D<b.length;D++)for(var v=v+b[D],u=0,C=0;C<m[D];C++){var u=u+f[a],A=B[a];n[3*a]=Math.min(e,c+2*p*u);n[3*a+1]=Math.min(l,h+2*y*v);n[3*a+2]=Math.min(x,g+2*k*A);a++}return{errorX:p,errorY:y,errorZ:k,result:n}};b.decodeRGB=function(a){var b,m,c,h,g,e,l=new DataView(a,0),x=0;h=q(a,l,x);c=h.identifier;h=h.version;x+=r.byteCount;
if("ClusterRGB"!==c)throw new d("lepcc-decode-error","Bad identifier");if(1<h)throw new d("lepcc-decode-error","Unknown version");e=x;b=l.getUint32(e+0,!0);m=l.getUint32(e+4,!0);c=l.getUint32(e+8,!0);h=l.getUint16(e+12,!0);g=l.getUint8(e+14);e=l.getUint8(e+15);x+=16;if(m*Math.pow(2,32)+b!==a.byteLength)throw new d("lepcc-decode-error","Bad size");if(2!==g&&1!==g||0!==e){if(0===g&&0===e){if(3*c+x!==a.byteLength||0!==h)throw new d("lepcc-decode-error","Bad count");return(new Uint8Array(a,x)).slice()}if(2>=
g&&1===e){if(x+3!==a.byteLength||1!==h)throw new d("lepcc-decode-error","Bad count");h=l.getUint8(x);b=l.getUint8(x+1);l=l.getUint8(x+2);x=new Uint8Array(3*c);for(a=0;a<c;a++)x[3*a]=h,x[3*a+1]=b,x[3*a+2]=l;return x}throw new d("lepcc-decode-error","Bad method "+g+","+e);}if(3*h+c+x!==a.byteLength||256<h)throw new d("lepcc-decode-error","Bad count");l=new Uint8Array(a,x,3*h);h=new Uint8Array(a,x+3*h,c);x=new Uint8Array(3*c);for(a=0;a<c;a++)b=h[a],x[3*a]=l[3*b],x[3*a+1]=l[3*b+1],x[3*a+2]=l[3*b+2];return x};
b.decodeIntensity=function(a){var b,m,c,h,g,e=new DataView(a,0),l=0;h=q(a,e,l);c=h.identifier;h=h.version;l+=r.byteCount;if("Intensity "!==c)throw new d("lepcc-decode-error","Bad identifier");if(1<h)throw new d("lepcc-decode-error","Unknown version");var x=l;b=e.getUint32(x+0,!0);m=e.getUint32(x+4,!0);c=e.getUint32(x+8,!0);h=e.getUint16(x+12,!0);g=e.getUint8(x+14);e.getUint8(x+15);l+=16;if(m*Math.pow(2,32)+b!==a.byteLength)throw new d("lepcc-decode-error","Bad size");e=new Uint16Array(c);if(8===g){if(c+
l!==a.byteLength)throw new d("lepcc-decode-error","Bad size");g=new Uint8Array(a,l,c)}else if(16===g){if(2*c+l!==a.byteLength)throw new d("lepcc-decode-error","Bad size");g=new Uint16Array(a,l,c)}else if(g=[],k(a,l,g)!==a.byteLength)throw new d("lepcc-decode-error","Bad size");for(a=0;a<c;a++)e[a]=g[a]*h;return e}})},"esri/views/3d/lib/gl-matrix":function(){define([],function(){var a={};(function(a,d){d(a,!0);d(a,!1)})(a,function(a,d){var b={};(function(){if("undefined"!=typeof Float32Array){var a=
new Float32Array(1),n=new Int32Array(a.buffer);b.invsqrt=function(f){a[0]=f;n[0]=1597463007-(n[0]>>1);var b=a[0];return b*(1.5-.5*f*b*b)}}else b.invsqrt=function(a){return 1/Math.sqrt(a)}})();var t=Array;"undefined"!=typeof Float32Array&&(t=d?Float32Array:Array);var k={create:function(a){var f=new t(3);a?(f[0]=a[0],f[1]=a[1],f[2]=a[2]):f[0]=f[1]=f[2]=0;return f},createFrom:function(a,b,c){var f=new t(3);f[0]=a;f[1]=b;f[2]=c;return f},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];return b},set3:function(a,
b,c,e){e[0]=a;e[1]=b;e[2]=c;return e},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])},max:function(a,b,c){c[0]=Math.max(a[0],b[0]);c[1]=Math.max(a[1],b[1]);c[2]=Math.max(a[2],b[2]);return c},min:function(a,b,c){c[0]=Math.min(a[0],b[0]);c[1]=Math.min(a[1],b[1]);c[2]=Math.min(a[2],b[2]);return c},add:function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];return c},subtract:function(a,
b,c){if(!c||a===c)return a[0]-=b[0],a[1]-=b[1],a[2]-=b[2],a;c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];return c},multiply:function(a,b,c){if(!c||a===c)return a[0]*=b[0],a[1]*=b[1],a[2]*=b[2],a;c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=a[2]*b[2];return c},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];return b},scale:function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;return c},normalize:function(a,b){b||(b=a);var f=a[0],n=a[1];a=a[2];var c=
Math.sqrt(f*f+n*n+a*a);if(!c)return b[0]=0,b[1]=0,b[2]=0,b;if(1===c)return b[0]=f,b[1]=n,b[2]=a,b;c=1/c;b[0]=f*c;b[1]=n*c;b[2]=a*c;return b},cross:function(a,b,c){c||(c=a);var f=a[0],n=a[1];a=a[2];var v=b[0],e=b[1];b=b[2];c[0]=n*b-a*e;c[1]=a*v-f*b;c[2]=f*e-n*v;return c},length:function(a){var b=a[0],f=a[1];a=a[2];return Math.sqrt(b*b+f*f+a*a)},length2:function(a){var b=a[0],f=a[1];a=a[2];return b*b+f*f+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},direction:function(a,b,c){c||(c=a);
var f=a[0]-b[0],n=a[1]-b[1];a=a[2]-b[2];b=Math.sqrt(f*f+n*n+a*a);if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/b;c[0]=f*b;c[1]=n*b;c[2]=a*b;return c},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);e[2]=a[2]+c*(b[2]-a[2]);return e},dist:function(a,b){var f=b[0]-a[0],n=b[1]-a[1];a=b[2]-a[2];return Math.sqrt(f*f+n*n+a*a)},dist2:function(a,b){var f=b[0]-a[0],n=b[1]-a[1];a=b[2]-a[2];return f*f+n*n+a*a}},r=null,u=new t(4);k.unproject=function(a,b,c,e,g){g||(g=a);r||(r=x.create());
var f=r;u[0]=2*(a[0]-e[0])/e[2]-1;u[1]=2*(a[1]-e[1])/e[3]-1;u[2]=2*a[2]-1;u[3]=1;x.multiply(c,b,f);if(!x.inverse(f))return null;x.multiplyVec4(f,u);if(0===u[3])return null;g[0]=u[0]/u[3];g[1]=u[1]/u[3];g[2]=u[2]/u[3];return g};var w=k.createFrom(1,0,0),m=k.createFrom(0,1,0),c=k.createFrom(0,0,1),h=k.create();k.rotationTo=function(a,b,e){e||(e=p.create());var f=k.dot(a,b);if(1<=f)p.set(y,e);else if(-.999999>f)k.cross(w,a,h),1E-6>k.length(h)&&k.cross(m,a,h),1E-6>k.length(h)&&k.cross(c,a,h),k.normalize(h),
p.fromAngleAxis(Math.PI,h,e);else{var f=Math.sqrt(2*(1+f)),n=1/f;k.cross(a,b,h);e[0]=h[0]*n;e[1]=h[1]*n;e[2]=h[2]*n;e[3]=.5*f;p.normalize(e)}1<e[3]?e[3]=1:-1>e[3]&&(e[3]=-1);return e};var g=k.create(),e=k.create();k.project=function(a,b,c,h){h||(h=a);k.direction(b,c,g);k.subtract(a,b,e);a=k.dot(g,e);k.scale(g,a,h);k.add(h,b,h)};k.str=function(a){return"["+a[0]+", "+a[1]+", "+a[2]+"]"};var l={create:function(a){var b=new t(9);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],
b[7]=a[7],b[8]=a[8]):b[0]=b[1]=b[2]=b[3]=b[4]=b[5]=b[6]=b[7]=b[8]=0;return b},createFrom:function(a,b,c,e,g,h,d,l,p){var f=new t(9);f[0]=a;f[1]=b;f[2]=c;f[3]=e;f[4]=g;f[5]=h;f[6]=d;f[7]=l;f[8]=p;return f},add:function(a,b,c){c||(c=a);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];c[4]=a[4]+b[4];c[5]=a[5]+b[5];c[6]=a[6]+b[6];c[7]=a[7]+b[7];c[8]=a[8]+b[8];return c},subtract:function(a,b,c){c||(c=a);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];c[4]=a[4]-b[4];c[5]=a[5]-b[5];
c[6]=a[6]-b[6];c[7]=a[7]-b[7];c[8]=a[8]-b[8];return c},determinant:function(a){var b=a[3],f=a[4],c=a[5],e=a[6],g=a[7],h=a[8];return a[0]*(h*f-c*g)+a[1]*(-h*b+c*e)+a[2]*(g*b-f*e)},inverse:function(a,b){var f=a[0],n=a[1],c=a[2],e=a[3],g=a[4],h=a[5],d=a[6],p=a[7];a=a[8];var y=a*g-h*p,m=-a*e+h*d,x=p*e-g*d,k=f*y+n*m+c*x;if(!k)return null;k=1/k;b||(b=l.create());b[0]=y*k;b[1]=(-a*n+c*p)*k;b[2]=(h*n-c*g)*k;b[3]=m*k;b[4]=(a*f-c*d)*k;b[5]=(-h*f+c*e)*k;b[6]=x*k;b[7]=(-p*f+n*d)*k;b[8]=(g*f-n*e)*k;return b},
multiply:function(a,b,c){c||(c=a);var f=a[0],n=a[1],e=a[2],v=a[3],g=a[4],h=a[5],d=a[6],l=a[7];a=a[8];var p=b[0],y=b[1],m=b[2],x=b[3],k=b[4],z=b[5],r=b[6],q=b[7];b=b[8];c[0]=p*f+y*v+m*d;c[1]=p*n+y*g+m*l;c[2]=p*e+y*h+m*a;c[3]=x*f+k*v+z*d;c[4]=x*n+k*g+z*l;c[5]=x*e+k*h+z*a;c[6]=r*f+q*v+b*d;c[7]=r*n+q*g+b*l;c[8]=r*e+q*h+b*a;return c},multiplyVec2:function(a,b,c){c||(c=b);var f=b[0];b=b[1];c[0]=f*a[0]+b*a[3]+a[6];c[1]=f*a[1]+b*a[4]+a[7];return c},multiplyVec3:function(a,b,c){c||(c=b);var f=b[0],n=b[1];
b=b[2];c[0]=f*a[0]+n*a[3]+b*a[6];c[1]=f*a[1]+n*a[4]+b*a[7];c[2]=f*a[2]+n*a[5]+b*a[8];return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])&&1E-6>Math.abs(a[4]-b[4])&&1E-6>Math.abs(a[5]-b[5])&&1E-6>Math.abs(a[6]-b[6])&&1E-6>Math.abs(a[7]-b[7])&&1E-6>Math.abs(a[8]-b[8])},identity:function(a){a||
(a=l.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var f=a[2],n=a[5];a[1]=a[3];a[2]=a[6];a[3]=b;a[5]=a[7];a[6]=f;a[7]=n;return a}b[0]=a[0];b[1]=a[3];b[2]=a[6];b[3]=a[1];b[4]=a[4];b[5]=a[7];b[6]=a[2];b[7]=a[5];b[8]=a[8];return b},toMat4:function(a,b){b||(b=x.create());b[15]=1;b[14]=0;b[13]=0;b[12]=0;b[11]=0;b[10]=a[8];b[9]=a[7];b[8]=a[6];b[7]=0;b[6]=a[5];b[5]=a[4];b[4]=a[3];b[3]=0;b[2]=a[2];b[1]=a[1];b[0]=a[0];return b},
str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+"]"}},x={create:function(a){var b=new t(16);4===arguments.length?(b[0]=arguments[0],b[1]=arguments[1],b[2]=arguments[2],b[3]=arguments[3],b[4]=arguments[4],b[5]=arguments[5],b[6]=arguments[6],b[7]=arguments[7],b[8]=arguments[8],b[9]=arguments[9],b[10]=arguments[10],b[11]=arguments[11],b[12]=arguments[12],b[13]=arguments[13],b[14]=arguments[14],b[15]=arguments[15]):a&&(b[0]=a[0],b[1]=a[1],
b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b[9]=a[9],b[10]=a[10],b[11]=a[11],b[12]=a[12],b[13]=a[13],b[14]=a[14],b[15]=a[15]);return b},createFrom:function(a,b,c,e,g,h,d,l,p,y,m,x,k,z,r,q){var f=new t(16);f[0]=a;f[1]=b;f[2]=c;f[3]=e;f[4]=g;f[5]=h;f[6]=d;f[7]=l;f[8]=p;f[9]=y;f[10]=m;f[11]=x;f[12]=k;f[13]=z;f[14]=r;f[15]=q;return f},createFromMatrixRowMajor:function(a){var b=new t(16);b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];
b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},createFromMatrix:function(a){var b=new t(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=
a[15];return b},setRowMajor:function(a,b){b[0]=a[0];b[4]=a[1];b[8]=a[2];b[12]=a[3];b[1]=a[4];b[5]=a[5];b[9]=a[6];b[13]=a[7];b[2]=a[8];b[6]=a[9];b[10]=a[10];b[14]=a[11];b[3]=a[12];b[7]=a[13];b[11]=a[14];b[15]=a[15];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])&&1E-6>Math.abs(a[4]-b[4])&&1E-6>Math.abs(a[5]-b[5])&&1E-6>Math.abs(a[6]-b[6])&&1E-6>Math.abs(a[7]-b[7])&&1E-6>Math.abs(a[8]-b[8])&&1E-6>Math.abs(a[9]-
b[9])&&1E-6>Math.abs(a[10]-b[10])&&1E-6>Math.abs(a[11]-b[11])&&1E-6>Math.abs(a[12]-b[12])&&1E-6>Math.abs(a[13]-b[13])&&1E-6>Math.abs(a[14]-b[14])&&1E-6>Math.abs(a[15]-b[15])},identity:function(a){a||(a=x.create());a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a},transpose:function(a,b){if(!b||a===b){b=a[1];var f=a[2],c=a[3],n=a[6],e=a[7],g=a[11];a[1]=a[4];a[2]=a[8];a[3]=a[12];a[4]=b;a[6]=a[9];a[7]=a[13];a[8]=f;a[9]=n;a[11]=
a[14];a[12]=c;a[13]=e;a[14]=g;return a}b[0]=a[0];b[1]=a[4];b[2]=a[8];b[3]=a[12];b[4]=a[1];b[5]=a[5];b[6]=a[9];b[7]=a[13];b[8]=a[2];b[9]=a[6];b[10]=a[10];b[11]=a[14];b[12]=a[3];b[13]=a[7];b[14]=a[11];b[15]=a[15];return b},determinant:function(a){var b=a[0],f=a[1],c=a[2],e=a[3],g=a[4],h=a[5],d=a[6],l=a[7],p=a[8],y=a[9],m=a[10],x=a[11],k=a[12],z=a[13],r=a[14];a=a[15];return k*y*d*e-p*z*d*e-k*h*m*e+g*z*m*e+p*h*r*e-g*y*r*e-k*y*c*l+p*z*c*l+k*f*m*l-b*z*m*l-p*f*r*l+b*y*r*l+k*h*c*x-g*z*c*x-k*f*d*x+b*z*d*x+
g*f*r*x-b*h*r*x-p*h*c*a+g*y*c*a+p*f*d*a-b*y*d*a-g*f*m*a+b*h*m*a},inverse:function(a,b){b||(b=a);var f=a[0],c=a[1],n=a[2],e=a[3],g=a[4],h=a[5],d=a[6],l=a[7],p=a[8],y=a[9],m=a[10],x=a[11],k=a[12],z=a[13],r=a[14];a=a[15];var q=f*h-c*g,u=f*d-n*g,t=f*l-e*g,w=c*d-n*h,T=c*l-e*h,ca=n*l-e*d,V=p*z-y*k,W=p*r-m*k,X=p*a-x*k,Y=y*r-m*z,da=y*a-x*z,ea=m*a-x*r,L=q*ea-u*da+t*Y+w*X-T*W+ca*V;if(!L)return null;L=1/L;b[0]=(h*ea-d*da+l*Y)*L;b[1]=(-c*ea+n*da-e*Y)*L;b[2]=(z*ca-r*T+a*w)*L;b[3]=(-y*ca+m*T-x*w)*L;b[4]=(-g*ea+
d*X-l*W)*L;b[5]=(f*ea-n*X+e*W)*L;b[6]=(-k*ca+r*t-a*u)*L;b[7]=(p*ca-m*t+x*u)*L;b[8]=(g*da-h*X+l*V)*L;b[9]=(-f*da+c*X-e*V)*L;b[10]=(k*T-z*t+a*q)*L;b[11]=(-p*T+y*t-x*q)*L;b[12]=(-g*Y+h*W-d*V)*L;b[13]=(f*Y-c*W+n*V)*L;b[14]=(-k*w+z*u-r*q)*L;b[15]=(p*w-y*u+m*q)*L;return b},toRotationMat:function(a,b){b||(b=x.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b},toMat3:function(a,b){b||
(b=l.create());b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[4];b[4]=a[5];b[5]=a[6];b[6]=a[8];b[7]=a[9];b[8]=a[10];return b},toInverseMat3:function(a,b){var f=a[0],c=a[1],n=a[2],e=a[4],g=a[5],h=a[6],d=a[8],p=a[9];a=a[10];var y=a*g-h*p,m=-a*e+h*d,x=p*e-g*d,k=f*y+c*m+n*x;if(!k)return null;k=1/k;b||(b=l.create());b[0]=y*k;b[1]=(-a*c+n*p)*k;b[2]=(h*c-n*g)*k;b[3]=m*k;b[4]=(a*f-n*d)*k;b[5]=(-h*f+n*e)*k;b[6]=x*k;b[7]=(-p*f+c*d)*k;b[8]=(g*f-c*e)*k;return b},multiply:function(a,b,c){c||(c=a);var f=a[0],e=a[1],n=a[2],
v=a[3],g=a[4],h=a[5],d=a[6],l=a[7],p=a[8],y=a[9],m=a[10],x=a[11],k=a[12],z=a[13],r=a[14];a=a[15];var q=b[0],u=b[1],t=b[2],w=b[3];c[0]=q*f+u*g+t*p+w*k;c[1]=q*e+u*h+t*y+w*z;c[2]=q*n+u*d+t*m+w*r;c[3]=q*v+u*l+t*x+w*a;q=b[4];u=b[5];t=b[6];w=b[7];c[4]=q*f+u*g+t*p+w*k;c[5]=q*e+u*h+t*y+w*z;c[6]=q*n+u*d+t*m+w*r;c[7]=q*v+u*l+t*x+w*a;q=b[8];u=b[9];t=b[10];w=b[11];c[8]=q*f+u*g+t*p+w*k;c[9]=q*e+u*h+t*y+w*z;c[10]=q*n+u*d+t*m+w*r;c[11]=q*v+u*l+t*x+w*a;q=b[12];u=b[13];t=b[14];w=b[15];c[12]=q*f+u*g+t*p+w*k;c[13]=
q*e+u*h+t*y+w*z;c[14]=q*n+u*d+t*m+w*r;c[15]=q*v+u*l+t*x+w*a;return c},multiplyVec3:function(a,b,c){c||(c=b);var f=b[0],e=b[1];b=b[2];c[0]=a[0]*f+a[4]*e+a[8]*b+a[12];c[1]=a[1]*f+a[5]*e+a[9]*b+a[13];c[2]=a[2]*f+a[6]*e+a[10]*b+a[14];return c},multiplyVec4:function(a,b,c){c||(c=b);var f=b[0],e=b[1],n=b[2];b=b[3];c[0]=a[0]*f+a[4]*e+a[8]*n+a[12]*b;c[1]=a[1]*f+a[5]*e+a[9]*n+a[13]*b;c[2]=a[2]*f+a[6]*e+a[10]*n+a[14]*b;c[3]=a[3]*f+a[7]*e+a[11]*n+a[15]*b;return c},translate:function(a,b,c){var f=b[0],e=b[1];
b=b[2];var n,g,v,h,d,l,p,y,m,x,k,z;if(!c||a===c)return a[12]=a[0]*f+a[4]*e+a[8]*b+a[12],a[13]=a[1]*f+a[5]*e+a[9]*b+a[13],a[14]=a[2]*f+a[6]*e+a[10]*b+a[14],a[15]=a[3]*f+a[7]*e+a[11]*b+a[15],a;n=a[0];g=a[1];v=a[2];h=a[3];d=a[4];l=a[5];p=a[6];y=a[7];m=a[8];x=a[9];k=a[10];z=a[11];c[0]=n;c[1]=g;c[2]=v;c[3]=h;c[4]=d;c[5]=l;c[6]=p;c[7]=y;c[8]=m;c[9]=x;c[10]=k;c[11]=z;c[12]=n*f+d*e+m*b+a[12];c[13]=g*f+l*e+x*b+a[13];c[14]=v*f+p*e+k*b+a[14];c[15]=h*f+y*e+z*b+a[15];return c},scale:function(a,b,c){var f=b[0],
e=b[1];b=b[2];if(!c||a===c)return a[0]*=f,a[1]*=f,a[2]*=f,a[3]*=f,a[4]*=e,a[5]*=e,a[6]*=e,a[7]*=e,a[8]*=b,a[9]*=b,a[10]*=b,a[11]*=b,a;c[0]=a[0]*f;c[1]=a[1]*f;c[2]=a[2]*f;c[3]=a[3]*f;c[4]=a[4]*e;c[5]=a[5]*e;c[6]=a[6]*e;c[7]=a[7]*e;c[8]=a[8]*b;c[9]=a[9]*b;c[10]=a[10]*b;c[11]=a[11]*b;c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15];return c},maxScale:function(a){return Math.max(Math.max(Math.sqrt(a[0]*a[0]+a[4]*a[4]+a[8]*a[8]),Math.sqrt(a[1]*a[1]+a[5]*a[5]+a[9]*a[9])),Math.sqrt(a[2]*a[2]+a[6]*a[6]+a[10]*
a[10]))},rotate:function(a,b,c,e){var f=c[0],n=c[1];c=c[2];var g=Math.sqrt(f*f+n*n+c*c),h,v,d,l,p,y,m,x,k,z,r,q,B,u,t,w,V,W,X,Y;if(!g)return null;1!==g&&(g=1/g,f*=g,n*=g,c*=g);h=Math.sin(b);v=Math.cos(b);d=1-v;b=a[0];g=a[1];l=a[2];p=a[3];y=a[4];m=a[5];x=a[6];k=a[7];z=a[8];r=a[9];q=a[10];B=a[11];u=f*f*d+v;t=n*f*d+c*h;w=c*f*d-n*h;V=f*n*d-c*h;W=n*n*d+v;X=c*n*d+f*h;Y=f*c*d+n*h;f=n*c*d-f*h;n=c*c*d+v;e?a!==e&&(e[12]=a[12],e[13]=a[13],e[14]=a[14],e[15]=a[15]):e=a;e[0]=b*u+y*t+z*w;e[1]=g*u+m*t+r*w;e[2]=l*
u+x*t+q*w;e[3]=p*u+k*t+B*w;e[4]=b*V+y*W+z*X;e[5]=g*V+m*W+r*X;e[6]=l*V+x*W+q*X;e[7]=p*V+k*W+B*X;e[8]=b*Y+y*f+z*n;e[9]=g*Y+m*f+r*n;e[10]=l*Y+x*f+q*n;e[11]=p*Y+k*f+B*n;return e},rotateX:function(a,b,c){var f=Math.sin(b);b=Math.cos(b);var e=a[4],n=a[5],g=a[6],h=a[7],d=a[8],v=a[9],l=a[10],p=a[11];c?a!==c&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[4]=e*b+d*f;c[5]=n*b+v*f;c[6]=g*b+l*f;c[7]=h*b+p*f;c[8]=e*-f+d*b;c[9]=n*-f+v*b;c[10]=g*-f+l*b;c[11]=h*-f+
p*b;return c},rotateY:function(a,b,c){var f=Math.sin(b);b=Math.cos(b);var e=a[0],n=a[1],g=a[2],h=a[3],d=a[8],v=a[9],l=a[10],p=a[11];c?a!==c&&(c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=e*b+d*-f;c[1]=n*b+v*-f;c[2]=g*b+l*-f;c[3]=h*b+p*-f;c[8]=e*f+d*b;c[9]=n*f+v*b;c[10]=g*f+l*b;c[11]=h*f+p*b;return c},rotateZ:function(a,b,c){var f=Math.sin(b);b=Math.cos(b);var e=a[0],n=a[1],g=a[2],h=a[3],d=a[4],v=a[5],l=a[6],p=a[7];c?a!==c&&(c[8]=a[8],c[9]=a[9],
c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]):c=a;c[0]=e*b+d*f;c[1]=n*b+v*f;c[2]=g*b+l*f;c[3]=h*b+p*f;c[4]=e*-f+d*b;c[5]=n*-f+v*b;c[6]=g*-f+l*b;c[7]=h*-f+p*b;return c},frustum:function(a,b,c,e,g,h,d){d||(d=x.create());var f=b-a,n=e-c,l=h-g;d[0]=2*g/f;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2*g/n;d[6]=0;d[7]=0;d[8]=(b+a)/f;d[9]=(e+c)/n;d[10]=-(h+g)/l;d[11]=-1;d[12]=0;d[13]=0;d[14]=-(h*g*2)/l;d[15]=0;return d},perspective:function(a,b,c,e,g){a=c*Math.tan(a*Math.PI/360);b*=a;return x.frustum(-b,
b,-a,a,c,e,g)},ortho:function(a,b,c,e,g,h,d){d||(d=x.create());var f=b-a,n=e-c,l=h-g;d[0]=2/f;d[1]=0;d[2]=0;d[3]=0;d[4]=0;d[5]=2/n;d[6]=0;d[7]=0;d[8]=0;d[9]=0;d[10]=-2/l;d[11]=0;d[12]=-(a+b)/f;d[13]=-(e+c)/n;d[14]=-(h+g)/l;d[15]=1;return d},lookAt:function(a,b,c,e){e||(e=x.create());var f,n,g,d,h,l,v,p,y=a[0],m=a[1];a=a[2];g=c[0];d=c[1];n=c[2];v=b[0];c=b[1];f=b[2];if(y===v&&m===c&&a===f)return x.identity(e);b=y-v;c=m-c;v=a-f;p=1/Math.sqrt(b*b+c*c+v*v);b*=p;c*=p;v*=p;f=d*v-n*c;n=n*b-g*v;g=g*c-d*b;
(p=Math.sqrt(f*f+n*n+g*g))?(p=1/p,f*=p,n*=p,g*=p):g=n=f=0;d=c*g-v*n;h=v*f-b*g;l=b*n-c*f;(p=Math.sqrt(d*d+h*h+l*l))?(p=1/p,d*=p,h*=p,l*=p):l=h=d=0;e[0]=f;e[1]=d;e[2]=b;e[3]=0;e[4]=n;e[5]=h;e[6]=c;e[7]=0;e[8]=g;e[9]=l;e[10]=v;e[11]=0;e[12]=-(f*y+n*m+g*a);e[13]=-(d*y+h*m+l*a);e[14]=-(b*y+c*m+v*a);e[15]=1;return e},fromRotationTranslation:function(a,b,c){c||(c=x.create());var f=a[0],e=a[1],n=a[2],g=a[3],d=f+f,h=e+e,l=n+n;a=f*d;var v=f*h,f=f*l,p=e*h,e=e*l,n=n*l,d=g*d,h=g*h,g=g*l;c[0]=1-(p+n);c[1]=v+g;
c[2]=f-h;c[3]=0;c[4]=v-g;c[5]=1-(a+n);c[6]=e+d;c[7]=0;c[8]=f+h;c[9]=e-d;c[10]=1-(a+p);c[11]=0;c[12]=b[0];c[13]=b[1];c[14]=b[2];c[15]=1;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+"]"}},p={create:function(a){var b=new t(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,e){var f=new t(4);f[0]=a;
f[1]=b;f[2]=c;f[3]=e;return f},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])},identity:function(a){a||(a=p.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a}},y=p.identity();p.calculateW=function(a,b){var c=a[0],f=a[1],e=a[2];if(!b||a===b)return a[3]=-Math.sqrt(Math.abs(1-c*c-f*f-e*e)),a;b[0]=c;b[1]=f;b[2]=e;b[3]=-Math.sqrt(Math.abs(1-c*c-f*f-
e*e));return b};p.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};p.inverse=function(a,b){var c=a[0],f=a[1],e=a[2],n=a[3],c=(c=c*c+f*f+e*e+n*n)?1/c:0;if(!b||a===b)return a[0]*=-c,a[1]*=-c,a[2]*=-c,a[3]*=c,a;b[0]=-a[0]*c;b[1]=-a[1]*c;b[2]=-a[2]*c;b[3]=a[3]*c;return b};p.conjugate=function(a,b){if(!b||a===b)return a[0]*=-1,a[1]*=-1,a[2]*=-1,a;b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=a[3];return b};p.length=function(a){var b=a[0],c=a[1],f=a[2];a=a[3];return Math.sqrt(b*b+c*c+f*f+a*a)};
p.normalize=function(a,b){b||(b=a);var c=a[0],f=a[1],e=a[2];a=a[3];var n=Math.sqrt(c*c+f*f+e*e+a*a);if(0===n)return b[0]=0,b[1]=0,b[2]=0,b[3]=0,b;n=1/n;b[0]=c*n;b[1]=f*n;b[2]=e*n;b[3]=a*n;return b};p.add=function(a,b,c){if(!c||a===c)return a[0]+=b[0],a[1]+=b[1],a[2]+=b[2],a[3]+=b[3],a;c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c};p.multiply=function(a,b,c){c||(c=a);var f=a[0],e=a[1],n=a[2];a=a[3];var g=b[0],d=b[1],h=b[2];b=b[3];c[0]=f*b+a*g+e*h-n*d;c[1]=e*b+a*d+n*g-f*h;c[2]=
n*b+a*h+f*d-e*g;c[3]=a*b-f*g-e*d-n*h;return c};p.multiplyVec3=function(a,b,c){c||(c=b);var f=b[0],e=b[1],n=b[2];b=a[0];var g=a[1],d=a[2];a=a[3];var h=a*f+g*n-d*e,l=a*e+d*f-b*n,p=a*n+b*e-g*f,f=-b*f-g*e-d*n;c[0]=h*a+f*-b+l*-d-p*-g;c[1]=l*a+f*-g+p*-b-h*-d;c[2]=p*a+f*-d+h*-g-l*-b;return c};p.scale=function(a,b,c){if(!c||a===c)return a[0]*=b,a[1]*=b,a[2]*=b,a[3]*=b,a;c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c};p.toMat3=function(a,b){b||(b=l.create());var c=a[0],f=a[1],e=a[2],g=a[3],n=c+c,
d=f+f,h=e+e;a=c*n;var p=c*d,c=c*h,y=f*d,f=f*h,e=e*h,n=g*n,d=g*d,g=g*h;b[0]=1-(y+e);b[1]=p+g;b[2]=c-d;b[3]=p-g;b[4]=1-(a+e);b[5]=f+n;b[6]=c+d;b[7]=f-n;b[8]=1-(a+y);return b};p.toMat4=function(a,b){b||(b=x.create());var c=a[0],f=a[1],e=a[2],g=a[3],d=c+c,n=f+f,h=e+e;a=c*d;var l=c*n,c=c*h,p=f*n,f=f*h,e=e*h,d=g*d,n=g*n,g=g*h;b[0]=1-(p+e);b[1]=l+g;b[2]=c-n;b[3]=0;b[4]=l-g;b[5]=1-(a+e);b[6]=f+d;b[7]=0;b[8]=c+n;b[9]=f-d;b[10]=1-(a+p);b[11]=0;b[12]=0;b[13]=0;b[14]=0;b[15]=1;return b};p.slerp=function(a,b,
c,e){e||(e=a);var f=a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3],g,d;if(1<=Math.abs(f))return e!==a&&(e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3]),e;g=Math.acos(f);d=Math.sqrt(1-f*f);if(.001>Math.abs(d))return e[0]=.5*a[0]+.5*b[0],e[1]=.5*a[1]+.5*b[1],e[2]=.5*a[2]+.5*b[2],e[3]=.5*a[3]+.5*b[3],e;f=Math.sin((1-c)*g)/d;c=Math.sin(c*g)/d;e[0]=a[0]*f+b[0]*c;e[1]=a[1]*f+b[1]*c;e[2]=a[2]*f+b[2]*c;e[3]=a[3]*f+b[3]*c;return e};p.fromRotationMatrix=function(a,b){b||(b=p.create());var c=a[0]+a[4]+a[8],e;if(0<c)e=Math.sqrt(c+
1),b[3]=.5*e,e=.5/e,b[0]=(a[7]-a[5])*e,b[1]=(a[2]-a[6])*e,b[2]=(a[3]-a[1])*e;else{e=p.fromRotationMatrix.s_iNext=p.fromRotationMatrix.s_iNext||[1,2,0];c=0;a[4]>a[0]&&(c=1);a[8]>a[3*c+c]&&(c=2);var f=e[c],g=e[f];e=Math.sqrt(a[3*c+c]-a[3*f+f]-a[3*g+g]+1);b[c]=.5*e;e=.5/e;b[3]=(a[3*g+f]-a[3*f+g])*e;b[f]=(a[3*f+c]+a[3*c+f])*e;b[g]=(a[3*g+c]+a[3*c+g])*e}return b};l.toQuat4=p.fromRotationMatrix;(function(){var a=l.create();p.fromAxes=function(b,c,e,f){a[0]=c[0];a[3]=c[1];a[6]=c[2];a[1]=e[0];a[4]=e[1];a[7]=
e[2];a[2]=b[0];a[5]=b[1];a[8]=b[2];return p.fromRotationMatrix(a,f)}})();p.identity=function(a){a||(a=p.create());a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};p.fromAngleAxis=function(a,b,c){c||(c=p.create());a*=.5;var e=Math.sin(a);c[3]=Math.cos(a);c[0]=e*b[0];c[1]=e*b[1];c[2]=e*b[2];return c};p.toAngleAxis=function(a,c){c||(c=a);var e=a[0]*a[0]+a[1]*a[1]+a[2]*a[2];0<e?(c[3]=2*Math.acos(a[3]),e=b.invsqrt(e),c[0]=a[0]*e,c[1]=a[1]*e,c[2]=a[2]*e):(c[3]=0,c[0]=1,c[1]=0,c[2]=0);return c};p.str=function(a){return"["+
a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"};var z={create:function(a){var b=new t(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):b[0]=b[1]=b[2]=b[3]=0;return b},createFrom:function(a,b,c,e){var f=new t(4);f[0]=a;f[1]=b;f[2]=c;f[3]=e;return f},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])},identity:function(a){a||(a=z.create());a[0]=1;a[1]=0;a[2]=
0;a[3]=1;return a},transpose:function(a,b){if(!b||a===b)return b=a[1],a[1]=a[2],a[2]=b,a;b[0]=a[0];b[1]=a[2];b[2]=a[1];b[3]=a[3];return b},determinant:function(a){return a[0]*a[3]-a[2]*a[1]},inverse:function(a,b){b||(b=a);var c=a[0],e=a[1],f=a[2];a=a[3];var g=c*a-f*e;if(!g)return null;g=1/g;b[0]=a*g;b[1]=-e*g;b[2]=-f*g;b[3]=c*g;return b},multiply:function(a,b,c){c||(c=a);var e=a[0],f=a[1],g=a[2];a=a[3];c[0]=e*b[0]+f*b[2];c[1]=e*b[1]+f*b[3];c[2]=g*b[0]+a*b[2];c[3]=g*b[1]+a*b[3];return c},rotate:function(a,
b,c){c||(c=a);var e=a[0],f=a[1],g=a[2];a=a[3];var d=Math.sin(b);b=Math.cos(b);c[0]=e*b+f*d;c[1]=e*-d+f*b;c[2]=g*b+a*d;c[3]=g*-d+a*b;return c},multiplyVec2:function(a,b,c){c||(c=b);var e=b[0];b=b[1];c[0]=e*a[0]+b*a[1];c[1]=e*a[2]+b*a[3];return c},scale:function(a,b,c){c||(c=a);var e=a[1],f=a[2],g=a[3],d=b[0];b=b[1];c[0]=a[0]*d;c[1]=e*b;c[2]=f*d;c[3]=g*b;return c},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};d=d?"":"d";a["glMath"+d]=b;a["vec2"+d]={create:function(a){var b=new t(2);
a?(b[0]=a[0],b[1]=a[1]):(b[0]=0,b[1]=0);return b},createFrom:function(a,b){var c=new t(2);c[0]=a;c[1]=b;return c},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;return c},dist:function(a,b){var c=b[0]-a[0];
a=b[1]-a[1];return Math.sqrt(c*c+a*a)},dist2:function(a,b){var c=b[0]-a[0];a=b[1]-a[1];return c*c+a*a},set:function(a,b){b[0]=a[0];b[1]=a[1];return b},set2:function(a,b,c){c[0]=a;c[1]=b;return c},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])},negate:function(a,b){b||(b=a);b[0]=-a[0];b[1]=-a[1];return b},normalize:function(a,b){b||(b=a);var c=a[0]*a[0]+a[1]*a[1];0<c?(c=Math.sqrt(c),b[0]=a[0]/c,b[1]=a[1]/c):b[0]=b[1]=0;return b},cross:function(a,b,c){a=a[0]*b[1]-
a[1]*b[0];if(!c)return a;c[0]=c[1]=0;c[2]=a;return c},length:function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)},length2:function(a){var b=a[0];a=a[1];return b*b+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]},direction:function(a,b,c){c||(c=a);var e=a[0]-b[0];a=a[1]-b[1];b=e*e+a*a;if(!b)return c[0]=0,c[1]=0,c[2]=0,c;b=1/Math.sqrt(b);c[0]=e*b;c[1]=a*b;return c},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);return e},str:function(a){return"["+a[0]+", "+a[1]+
"]"}};a["vec3"+d]=k;a["vec4"+d]={create:function(a){var b=new t(4);a?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3]):(b[0]=0,b[1]=0,b[2]=0,b[3]=0);return b},createFrom:function(a,b,c,e){var f=new t(4);f[0]=a;f[1]=b;f[2]=c;f[3]=e;return f},add:function(a,b,c){c||(c=b);c[0]=a[0]+b[0];c[1]=a[1]+b[1];c[2]=a[2]+b[2];c[3]=a[3]+b[3];return c},subtract:function(a,b,c){c||(c=b);c[0]=a[0]-b[0];c[1]=a[1]-b[1];c[2]=a[2]-b[2];c[3]=a[3]-b[3];return c},multiply:function(a,b,c){c||(c=b);c[0]=a[0]*b[0];c[1]=a[1]*b[1];c[2]=
a[2]*b[2];c[3]=a[3]*b[3];return c},divide:function(a,b,c){c||(c=b);c[0]=a[0]/b[0];c[1]=a[1]/b[1];c[2]=a[2]/b[2];c[3]=a[3]/b[3];return c},scale:function(a,b,c){c||(c=a);c[0]=a[0]*b;c[1]=a[1]*b;c[2]=a[2]*b;c[3]=a[3]*b;return c},set:function(a,b){b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b},set4:function(a,b,c,e,g){g[0]=a;g[1]=b;g[2]=c;g[3]=e;return g},equal:function(a,b){return a===b||1E-6>Math.abs(a[0]-b[0])&&1E-6>Math.abs(a[1]-b[1])&&1E-6>Math.abs(a[2]-b[2])&&1E-6>Math.abs(a[3]-b[3])},negate:function(a,
b){b||(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b},length:function(a){var b=a[0],c=a[1],e=a[2];a=a[3];return Math.sqrt(b*b+c*c+e*e+a*a)},length2:function(a){var b=a[0],c=a[1],e=a[2];a=a[3];return b*b+c*c+e*e+a*a},dot:function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},lerp:function(a,b,c,e){e||(e=a);e[0]=a[0]+c*(b[0]-a[0]);e[1]=a[1]+c*(b[1]-a[1]);e[2]=a[2]+c*(b[2]-a[2]);e[3]=a[3]+c*(b[3]-a[3]);return e},str:function(a){return"["+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+"]"}};a["mat2"+
d]=z;a["mat3"+d]=l;a["mat4"+d]=x;a["quat4"+d]=p});return a})},"esri/views/3d/support/meshProcessing":function(){define(["require","exports","./mathUtils"],function(a,b,d){Object.defineProperty(b,"__esModule",{value:!0});b.computeNeighbors=function(a,b){for(var d=a.length/3,k=new Uint32Array(b+1),q=new Uint32Array(b+1),m=function(a,b){a<b?k[a+1]++:q[b+1]++},c=0;c<d;c++){var h=a[3*c],g=a[3*c+1],e=a[3*c+2];m(h,g);m(g,e);m(e,h)}for(c=g=h=0;c<b;c++)e=k[c+1],m=q[c+1],k[c+1]=h,q[c+1]=g,h+=e,g+=m;for(var l=
new Uint32Array(6*d),x=k[b],m=function(a,b,c){if(a<b){var e=k[a+1]++;l[2*e]=b;l[2*e+1]=c}else e=q[b+1]++,l[2*x+2*e]=a,l[2*x+2*e+1]=c},c=0;c<d;c++)h=a[3*c],g=a[3*c+1],e=a[3*c+2],m(h,g,c),m(g,e,c),m(e,h,c);h=function(a,b){var c=2*a;a=b-a;for(b=1;b<a;b++){var e=l[c+2*b],g=l[c+2*b+1],f=b-1;for(f;0<=f&&l[c+2*f]>e;f--)l[c+2*f+2]=l[c+2*f],l[c+2*f+3]=l[c+2*f+1];l[c+2*f+2]=e;l[c+2*f+3]=g}};for(c=0;c<b;c++)h(k[c],k[c+1]),h(x+q[c],x+q[c+1]);for(var p=new Int32Array(3*d),y=function(b,c){return b===a[3*c]?0:b===
a[3*c+1]?1:b===a[3*c+2]?2:-1},d=function(a,b){a=y(a,b);p[3*b+a]=-1},h=function(a,b,c,e){a=y(a,b);p[3*b+a]=e;c=y(c,e);p[3*e+c]=b},c=0;c<b;c++){for(var g=k[c],e=k[c+1],m=q[c],z=q[c+1];g<e&&m<z;){var f=l[2*g],n=l[2*x+2*m];f===n?(h(c,l[2*g+1],n,l[2*x+2*m+1]),g++,m++):f<n?(d(c,l[2*g+1]),g++):(d(n,l[2*x+2*m+1]),m++)}for(;g<e;)d(c,l[2*g+1]),g++;for(;m<z;)n=l[2*x+2*m],d(n,l[2*x+2*m+1]),m++}return p};var q=null;b.deduplicate=function(a,b,r,u,w){void 0===r&&(r=0);void 0===u&&(u=0);void 0===w&&(w=a.byteLength/
(4*b));a=new Uint32Array(a,u,w*b);u=new Uint32Array(w);var m=Math.floor(1.1*w)+1;if(null==q||q.length<2*m)q=new Uint32Array(d.nextHighestPowerOfTwo(2*m));for(var c=0;c<2*m;c++)q[c]=0;for(var h=0,g=0!==r?Math.ceil(7.84*1.96/(r*r)*r*(1-r)):w,c=0;c<w;c++){if(c===g){var e=1-h/c;if(e+1.96*Math.sqrt(e*(1-e)/c)<r)return null;g*=2}for(var e=c*b,l,x=l=0;x<b;x++)l=a[e+x]+l|0,l=l+(l<<11)+(l>>>2)|0;l>>>=0;for(var x=l%m,p=h;0!==q[2*x+1];){if(q[2*x]===l){var y=q[2*x+1]-1,k=y*b;a:{for(var f=0;f<b;f++)if(a[e+f]!==
a[k+f]){k=!1;break a}k=!0}if(k){p=u[y];break}}x++;x>=m&&(x-=m)}p===h&&(q[2*x]=l,q[2*x+1]=c+1,h++);u[c]=p}if(0!==r&&1-h/w<r)return null;r=new Uint32Array(b*h);for(c=h=0;c<w;c++)if(u[c]===h){m=a;g=c*b;e=r;l=h*b;x=b;for(p=0;p<x;p++)e[l+p]=m[g+p];h++}return{buffer:r.buffer,indices:u,uniqueCount:h}}})},"esri/views/3d/support/mathUtils":function(){define(["require","exports","../lib/gl-matrix"],function(a,b,d){function q(a){return Math.asin(1<a?1:-1>a?-1:a)}function t(a){return Math.acos(1<a?1:-1>a?-1:
a)}function k(a,b,c){return a<b?b:a>c?c:a}function r(a){for(var b in a){var c=a[b];c instanceof Function&&(a[b]=c.bind(a))}return a}Object.defineProperty(b,"__esModule",{value:!0});b.deg2rad=function(a){return a*Math.PI/180};b.rad2deg=function(a){return 180*a/Math.PI};b.asin=q;b.acos=t;b.sign=Math.sign||function(a){return+(0<a)-+(0>a)||+a};b.log2=Math.log2||function(a){return Math.log(a)/Math.LN2};b.isPowerOfTwo=function(a){return 0===(a&a-1)};b.nextHighestPowerOfTwo=function(a){--a;for(var b=1;32>
b;b<<=1)a|=a>>b;return a+1};b.nextHighestPowerOfTen=function(a){return Math.pow(10,Math.ceil(Math.LOG10E*Math.log(a)))};b.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};b.makeOrthonormal=function(a,b,c){c=c||a;var e=d.vec3d.dot(a,b);d.vec3d.set3(a[0]-e*b[0],a[1]-e*b[1],a[2]-e*b[2],c);d.vec3d.normalize(c)};b.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?d.vec3d.set3(0,1,0,b):d.vec3d.set3(1,0,0,b);d.vec3d.cross(a,
b,c);d.vec3d.normalize(b);d.vec3d.cross(c,a,b);d.vec3d.normalize(c)};b.cartesianToSpherical=function(a,b){var c=d.vec3d.length(a),e=q(a[2]/c);d.vec3d.set3(c,e,Math.atan2(a[1]/c,a[0]/c),b)};b.sphericalToCartesian=function(a,b){var c=a[0],e=a[1];a=a[2];var g=Math.cos(e);d.vec3d.set3(c*g*Math.cos(a),c*g*Math.sin(a),c*Math.sin(e),b)};b.lerp=function(a,b,c){return a+(b-a)*c};b.bilerp=function(a,b,c,d,h,y){a+=(b-a)*h;return a+(c+(d-c)*h-a)*y};b.slerp=function(a,b,l,m){void 0===m&&(m=a);var e=d.vec3d.length(a),
g=d.vec3d.length(b),k=d.vec3d.dot(a,b)/(e*g);if(.9999999999999999>k){var k=Math.acos(k),f=((1-l)*e+l*g)/Math.sin(k),g=f/g*Math.sin(l*k);d.vec3d.scale(a,f/e*Math.sin((1-l)*k),c);d.vec3d.scale(b,g,h);return d.vec3d.add(c,h,m)}return d.vec3d.lerp(a,b,l,m)};b.angle=function(a,b,l){a=d.vec3d.normalize(a,c);b=d.vec3d.normalize(b,h);var e=t(d.vec3d.dot(a,b));return l&&(a=d.vec3d.cross(a,b,m),0>d.vec3d.dot(a,l))?-e:e};b.clamp=k;b.isFinite=Number.isFinite||function(a){return"number"===typeof a&&window.isFinite(a)};
b.isNaN=Number.isNaN||function(a){return a!==a};b.makePiecewiseLinearFunction=function(a){var b=a.length;return function(c){if(c<=a[0][0])return a[0][1];if(c>=a[b-1][0])return a[b-1][1];for(var e=1;c>a[e][0];)e++;var d=a[e][0];c=(d-c)/(d-a[e-1][0]);return c*a[e-1][1]+(1-c)*a[e][1]}};b.vectorEquals=function(a,b){if(null==a||null==b)return a!==b;if(a.length!==b.length)return!1;for(var c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.floatEqualRelative=function(a,c,d){void 0===d&&(d=1E-6);if(b.isNaN(a)||
b.isNaN(c))return!1;if(a===c)return!0;var e=Math.abs(a-c),h=Math.abs(a),g=Math.abs(c);if(0===a||0===c||1E-12>h&&1E-12>g){if(e>.01*d)return!1}else if(e/(h+g)>d)return!1;return!0};b.floatEqualAbsolute=function(a,c,d){void 0===d&&(d=1E-6);return b.isNaN(a)||b.isNaN(c)?!1:(a>c?a-c:c-a)<=d};a=function(){function a(a,b){this.min=a;this.max=b;this.range=b-a}a.prototype.ndiff=function(a,b){void 0===b&&(b=0);return Math.ceil((a-b)/this.range)*this.range+b};a.prototype._normalize=function(a,b,c,d){void 0===
d&&(d=0);c-=d;c<a?c+=this.ndiff(a-c):c>b&&(c-=this.ndiff(c-b));return c+d};a.prototype.normalize=function(a,b){return this._normalize(this.min,this.max,a,b)};a.prototype.clamp=function(a,b){void 0===b&&(b=0);return k(a-b,this.min,this.max)+b};a.prototype.monotonic=function(a,b,c){return a<b?b:b+this.ndiff(a-b,c)};a.prototype.minimalMonotonic=function(a,b,c){return this._normalize(a,a+this.range,b,c)};a.prototype.center=function(a,b,c){b=this.monotonic(a,b,c);return this.normalize((a+b)/2,c)};a.prototype.diff=
function(a,b,c){return this.monotonic(a,b,c)-a};a.prototype.contains=function(a,b,c){b=this.minimalMonotonic(a,b);c=this.minimalMonotonic(a,c);return c>a&&c<b};return a}();b.Cyclical=a;b.planeFromPoints=function(a,b,c,h){d.vec3d.subtract(b,a,u);d.vec3d.subtract(c,a,w);d.vec3d.cross(u,w,h);d.vec3d.normalize(h,h);h[3]=-d.vec3d.dot(a,h)};var u=d.vec3d.create(),w=d.vec3d.create();b.cyclical2PI=r(new a(0,2*Math.PI));b.cyclicalPI=r(new a(-Math.PI,Math.PI));b.cyclicalDeg=r(new a(0,360));var m=d.vec3d.create(),
c=d.vec3d.create(),h=d.vec3d.create()})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["require","exports","../../lib/gl-matrix","../../support/geometryUtils","../../support/mathUtils"],function(a,b,d,q,t){function k(a,b){if(!a)throw a=Error("dummy"),a.stack&&console.log(a.stack),new O(b);}function r(a,b,c){d.mat4d.multiply(b,a,g);d.mat4d.inverse(g);for(a=0;8>a;++a)d.mat4d.multiplyVec4(g,e[a],l),d.vec3d.set3(l[0]/l[3],l[1]/l[3],l[2]/l[3],c[a])}function u(a,b){q.plane.fromPoints(a[4],a[0],
a[3],b[0]);q.plane.fromPoints(a[1],a[5],a[6],b[1]);q.plane.fromPoints(a[4],a[5],a[1],b[2]);q.plane.fromPoints(a[3],a[2],a[6],b[3]);q.plane.fromPoints(a[0],a[1],a[2],b[4]);q.plane.fromPoints(a[5],a[4],a[7],b[5])}function w(a){for(var b in a)return b}function m(a,b){a[12]=b[0];a[13]=b[1];a[14]=b[2]}function c(a,b){void 0===b&&(b=0);for(var c=0,e=0;4>e;e++)c+=a[b+e]*J[e];return c}function h(a){return a-Math.floor(a)}Object.defineProperty(b,"__esModule",{value:!0});var g=d.mat4d.create(),e=[d.vec4d.createFrom(-1,
-1,-1,1),d.vec4d.createFrom(1,-1,-1,1),d.vec4d.createFrom(1,1,-1,1),d.vec4d.createFrom(-1,1,-1,1),d.vec4d.createFrom(-1,-1,1,1),d.vec4d.createFrom(1,-1,1,1),d.vec4d.createFrom(1,1,1,1),d.vec4d.createFrom(-1,1,1,1)],l=d.vec4d.create(),x=[d.vec3d.create(),d.vec3d.create(),d.vec3d.create(),d.vec3d.create(),d.vec3d.create(),d.vec3d.create(),d.vec3d.create(),d.vec3d.create()],p=d.vec3d.create(),y=d.vec3d.create(),z=d.vec3d.create(),f=d.vec3d.create(),n=d.vec3d.create(),v=d.vec3d.create(),B=d.vec3d.create(),
D=d.vec3d.create(),E=d.vec3d.create(),C=d.vec3d.create(),A=d.vec3d.create(),G=d.vec3d.create(),H=d.vec3d.createFrom(0,0,0),O=function(){function a(a){this.message=a}a.prototype.toString=function(){return"AssertException: "+this.message};return a}();b.AssertException=O;b.VertexAttrConstants={POSITION:"position",NORMAL:"normal",NORMALCOMPRESSED:"normalCompressed",UV0:"uv0",AUXPOS1:"auxpos1",AUXPOS2:"auxpos2",COLOR:"color",SYMBOLCOLOR:"symbolColor",SIZE:"size",REGION:"region",COMPONENTINDEX:"componentIndex"};
b.assert=k;b.verify=function(a,b){a||(console.log("Verify failed: "+b),console.log(Error("dummy").stack))};b.encodeInt16=function(a){return t.clamp(Math.round(32767*a),-32767,32767)};b.encodeNormal=function(a,b){var c=Math.abs(a[0]),e=Math.abs(a[1]),f=1/(c+e+Math.abs(a[2])),d=Math.min(a[2]*f,0);b[0]=(0>a[0]?-1:1)*(c*f-d);b[1]=(0>a[1]?-1:1)*(e*f-d)};b.fallbackIfUndefined=function(a,b){return void 0===a?b:a};b.hex2rgb=function(a){a=Math.floor(a);return[(a>>16&255)/255,(a>>8&255)/255,(a&255)/255]};b.rgb2hex=
function(a){var b=t.clamp(Math.round(255*a[0]),0,255),c=t.clamp(Math.round(255*a[1]),0,255);a=t.clamp(Math.round(255*a[2]),0,255);return"0x"+((b<<16)+(c<<8)+a).toString(16)};b.dec2hex=function(a){a=a.toString(16);return"00000000".substr(0,8-a.length)+a};b.raySphere=function(a,b,c,e,f){c=c||H;var h=d.vec3d.subtract(a,c,p);c=d.vec3d.dot(b,b);var g=2*d.vec3d.dot(b,h);e=d.vec3d.dot(h,h)-e*e;e=g*g-4*c*e;if(0>e)return!1;h=Math.sqrt(e);e=(-g-h)/(2*c);c=(-g+h)/(2*c);if(0>e||c<e&&0<c)e=c;return 0<e?(f&&d.vec3d.add(a,
d.vec3d.scale(b,e,G),f),!0):!1};b.rayTriangle3D=function(a,b,c,e,f,h,g,p,l){void 0===l&&(l=d.vec3d.create());var y=e[g]-c[h],m=e[g+1]-c[h+1],n=e[g+2]-c[h+2];e=f[p]-c[h];g=f[p+1]-c[h+1];f=f[p+2]-c[h+2];var k=b[1]*f-g*b[2],x=b[2]*e-f*b[0],z=b[0]*g-e*b[1];p=y*k+m*x+n*z;if(-1E-5<p&&1E-5>p)return!1;p=1/p;var r=a[0]-c[h],q=a[1]-c[h+1];a=a[2]-c[h+2];l[1]=p*(r*k+q*x+a*z);if(0>l[1]||1<l[1])return!1;c=q*n-m*a;a=a*y-n*r;y=r*m-y*q;l[2]=p*(b[0]*c+b[1]*a+b[2]*y);if(0>l[2]||1<l[1]+l[2])return!1;l[0]=p*(e*c+g*a+
f*y);return!0};b.rayBoxTest=function(a,b,c,e){var f,d=(c[0]-a[0])/b[0],h=(e[0]-a[0])/b[0];d>h&&(f=d,d=h,h=f);var g=(c[1]-a[1])/b[1],p=(e[1]-a[1])/b[1];g>p&&(f=g,g=p,p=f);if(d>p||g>h)return!1;g>d&&(d=g);p<h&&(h=p);c=(c[2]-a[2])/b[2];a=(e[2]-a[2])/b[2];c>a&&(f=c,c=a,a=f);if(d>a||c>h)return!1;a<h&&(h=a);return 0>h?!1:!0};b.rayRay2D=function(a,b,c,e,f,h){void 0===h&&(h=d.vec2d.create());var g=(e[f]-c[f])*(b[0]-a[0])-(e[0]-c[0])*(b[f]-a[f]);if(0===g)return!1;c=((e[0]-c[0])*(a[f]-c[f])-(e[f]-c[f])*(a[0]-
c[0]))/g;h[0]=a[0]+c*(b[0]-a[0]);h[1]=a[f]+c*(b[f]-a[f]);return!0};b.matrixToFrustumPoints=r;b.matrixToFrustumPlanes=function(a,b,c,e){void 0===e&&(e=c,c=x);r(a,b,c);u(c,e)};b.frustumPointsToPlanes=u;b.project=function(a,b,c,e,f){f||(f=a);l[0]=a[0];l[1]=a[1];l[2]=a[2];l[3]=1;d.mat4d.multiplyVec4(b,l);2<f.length&&(f[2]=-l[2]);d.mat4d.multiplyVec4(c,l);k(0!==l[3]);f[0]=l[0]/l[3];f[1]=l[1]/l[3];f[2]=l[2]/l[3];f[0]=(.5*f[0]+.5)*e[2]+e[0];f[1]=(.5*f[1]+.5)*e[3]+e[1]};b.getFirstObjectKey=w;b.getFirstObjectValue=
function(a){return a[w(a)]};b.objectEmpty=function(a){for(var b in a)return!1;return!0};b.logWithBase=function(a,b){return Math.log(a)/Math.log(b)};b.setMatrixTranslation=m;b.setMatrixTranslation3=function(a,b,c,e){a[12]=b;a[13]=c;a[14]=e};b.getMatrixTranslation=function(a,b){void 0===b&&(b=d.vec3d.create());b[0]=a[12];b[1]=a[13];b[2]=a[14];return b};b.createTranslationMatrix=function(a,b){a=d.mat4d.identity(a);m(a,b);return a};b.isTranslationMatrix=function(a){return 1===a[0]&&0===a[1]&&0===a[2]&&
0===a[3]&&0===a[4]&&1===a[5]&&0===a[6]&&0===a[7]&&0===a[8]&&0===a[9]&&1===a[10]&&0===a[11]&&1===a[15]};b.fovx2fovy=function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/b)};b.fovy2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/c)};b.fovx2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/b)};b.fovy2fovd=function(a,b,c){return 2*Math.atan(Math.sqrt(b*b+c*c)*Math.tan(.5*a)/c)};b.fovd2fovx=function(a,b,c){return 2*Math.atan(b*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};b.fovd2fovy=
function(a,b,c){return 2*Math.atan(c*Math.tan(.5*a)/Math.sqrt(b*b+c*c))};b.lineLineDistanceSquared3D=function(a,b,c,e,h){y[0]=a[0]-c[0];y[1]=a[1]-c[1];y[2]=a[2]-c[2];z[0]=e[0]-c[0];z[1]=e[1]-c[1];z[2]=e[2]-c[2];if(1E-4>Math.abs(z[0])&&1E-4>Math.abs(z[1])&&1E-4>Math.abs(z[2]))return h.success=!1,h;f[0]=b[0]-a[0];f[1]=b[1]-a[1];f[2]=b[2]-a[2];if(1E-4>Math.abs(f[0])&&1E-4>Math.abs(f[1])&&1E-4>Math.abs(f[2]))return h.success=!1,h;b=y[0]*z[0]+y[1]*z[1]+y[2]*z[2];e=z[0]*f[0]+z[1]*f[1]+z[2]*f[2];var g=y[0]*
f[0]+y[1]*f[1]+y[2]*f[2],p=z[0]*z[0]+z[1]*z[1]+z[2]*z[2],l=(f[0]*f[0]+f[1]*f[1]+f[2]*f[2])*p-e*e;if(1E-4>Math.abs(l))return h.success=!1,h;g=t.clamp((b*e-g*p)/l,0,1);b=t.clamp((b+e*g)/p,0,1);n[0]=a[0]+g*f[0];n[1]=a[1]+g*f[1];n[2]=a[2]+g*f[2];v[0]=c[0]+b*z[0];v[1]=c[1]+b*z[1];v[2]=c[2]+b*z[2];a=d.vec3d.dist2(n,v);h.success=!0;h.dist2=a;h.pa=n;h.pb=v;return h};b.pointLineSegmentDistanceSquared2D=function(a,b,c){C[0]=b[0]-a[0];C[1]=b[1]-a[1];C[2]=0;A[0]=c[0]-a[0];A[1]=c[1]-a[1];A[2]=0;G[0]=c[0];G[1]=
c[1];G[2]=0;b=d.vec2d.dot(A,C);c=d.vec2d.dot(C,C);b=t.clamp(b/c,0,1);E[0]=C[0]*b;E[1]=C[1]*b;B[0]=a[0]+E[0];B[1]=a[1]+E[1];d.vec2d.subtract(G,B,D);a=d.vec2d.dot(D,D);b=d.vec2d.dot(A,A);c=d.vec2d.dot(C,C);var e=d.vec2d.dot(E,E);if(e>b||e>c)a=Number.MAX_VALUE;return a};b.packFloatRGBA=function(a,b,c){void 0===c&&(c=0);a=t.clamp(a,0,K);for(var e=0;4>e;e++)b[c+e]=Math.floor(256*h(a*P[e]))};b.unpackFloatRGBA=c;var P=[1,256,65536,16777216],J=[1/256,1/65536,1/16777216,1/4294967296],K=c(new Uint8ClampedArray([255,
255,255,255]));b.inverseProjectionInfo=function(a,b,c,e,f){0===a[11]?(e[0]=2/(b*a[0]),e[1]=2/(c*a[5]),e[2]=(1+a[12])/a[0],e[3]=(1+a[13])/a[5],d.vec2d.set2(0,1,f)):(e[0]=-2/(b*a[0]),e[1]=-2/(c*a[5]),e[2]=(1-a[8])/a[0],e[3]=(1-a[9])/a[5],d.vec2d.set2(1,0,f))}})},"esri/views/3d/support/geometryUtils":function(){define(["require","exports","./geometryUtils/lineSegment","./geometryUtils/plane","./geometryUtils/triangle"],function(a,b,d,q,t){Object.defineProperty(b,"__esModule",{value:!0});b.plane=q;b.triangle=
t;b.lineSegment=d})},"esri/views/3d/support/geometryUtils/lineSegment":function(){define(["require","exports","../../lib/gl-matrix","../mathUtils"],function(a,b,d,q){function t(a,b){void 0===a&&(a=d.vec3d.create());void 0===b&&(b=d.vec3d.create());return{origin:a,vector:b}}Object.defineProperty(b,"__esModule",{value:!0});b.create=t;b.fromOriginAndVector=function(a,b,k){void 0===k&&(k=t());d.vec3d.set(a,k.origin);d.vec3d.set(b,k.vector);return k};b.distance2=function(a,b){b=d.vec3d.subtract(b,a.origin);
var r=d.vec3d.dot(a.vector,b),m=d.vec3d.dot(a.vector,a.vector),r=q.clamp(r/m,0,1);a=d.vec3d.subtract(d.vec3d.scale(a.vector,r,k),b,k);return d.vec3d.dot(a,a)};var k=d.vec3d.create()})},"esri/views/3d/support/geometryUtils/plane":function(){define(["require","exports","../../lib/gl-matrix"],function(a,b,d){function q(a){void 0===a&&(a=b.UP);return[a[0],a[1],a[2],a[3]]}function t(a,b,h){void 0===h&&(h=q());d.vec3d.set(b,h);h[3]=-d.vec3d.dot(b,a);return h}function k(a,b,h,g){void 0===g&&(g=q());d.vec3d.cross(b,
a,w);return t(h,d.vec3d.normalize(w),g)}Object.defineProperty(b,"__esModule",{value:!0});b.create=q;b.fromValues=function(a,b,d,g,e){void 0===e&&(e=q());e[0]=a;e[1]=b;e[2]=d;e[3]=g;return e};b.fromNormalAndOffset=function(a,b,h){void 0===h&&(h=q());d.vec3d.set(a,h);h[3]=b;return h};b.fromPositionAndNormal=t;b.projectVector=function(a,b,h){void 0===h&&(h=b);return d.vec3d.cross(a,d.vec3d.cross(b,a,u),h)};b.distance=function(a,b){return d.vec3d.dot(a,b)+a[3]};b.fromPoints=function(a,b,h,g){void 0===
g&&(g=q());return k(d.vec3d.subtract(a,b,r),d.vec3d.subtract(h,b,u),a,g)};b.set=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};b.negate=function(a,b){void 0===b&&(b=a);b[0]=-a[0];b[1]=-a[1];b[2]=-a[2];b[3]=-a[3];return b};b.fromVectorsAndPoint=k;b.intersectRay=function(a,b,h,g){var c=d.vec3d.dot(a,h);if(0===c)return!1;a=-(d.vec3d.dot(a,b)+a[3])/c;if(0>a)return!1;d.vec3d.add(b,d.vec3d.scale(h,a,g),g);return!0};b.UP=[0,0,1,0];var r=d.vec3d.create(),u=d.vec3d.create(),w=d.vec3d.create()})},
"esri/views/3d/support/geometryUtils/triangle":function(){define(["require","exports","../../lib/gl-matrix","./lineSegment"],function(a,b,d,q){function t(a,b,c){var e=d.vec2d.dist(a,b);b=d.vec2d.dist(b,c);a=d.vec2d.dist(c,a);c=(e+b+a)/2;return Math.sqrt(c*(c-e)*(c-b)*(c-a))}Object.defineProperty(b,"__esModule",{value:!0});b.create=function(a,b,c){void 0===a&&(a=d.vec3d.create());void 0===b&&(b=d.vec3d.create());void 0===c&&(c=d.vec3d.create());return{p0:a,p1:b,p2:c}};b.distance2=function(a,b){var e=
a.p0,p=a.p1;a=a.p2;var l=d.vec3d.subtract(p,e,k),z=d.vec3d.subtract(a,p,r),f=d.vec3d.subtract(e,a,u),n=d.vec3d.subtract(b,e,w),v=d.vec3d.subtract(b,p,m),t=d.vec3d.subtract(b,a,c),D=d.vec3d.cross(l,f),E=d.vec3d.dot(d.vec3d.cross(l,D,h),n),v=d.vec3d.dot(d.vec3d.cross(z,D,h),v),t=d.vec3d.dot(d.vec3d.cross(f,D,h),t);if(0<E&&0<v&&0<t)return b=d.vec3d.dot(D,n),b*b/d.vec3d.dot(D,D);e=q.distance2(q.fromOriginAndVector(e,l,g),b);p=q.distance2(q.fromOriginAndVector(p,z,g),b);b=q.distance2(q.fromOriginAndVector(a,
f,g),b);return Math.min(e,p,b)};b.areaPoints2d=t;b.area2d=function(a){return t(a.p0,a.p1,a.p2)};var k=d.vec3d.create(),r=d.vec3d.create(),u=d.vec3d.create(),w=d.vec3d.create(),m=d.vec3d.create(),c=d.vec3d.create(),h=d.vec3d.create(),g=q.create()})},"esri/views/3d/layers/i3s/I3SProjectionUtil":function(){define(["require","exports","../../lib/gl-matrix","../../support/earthUtils","../../support/projectionUtils"],function(a,b,d,q,t){function k(a,b,e){var h=d.vec3d.create(),g=Math.ceil(Math.log(a[3])*
Math.LOG2E/c),p=Math.pow(2,g*c+m),y;if(e.isGeographic){y=p/q.earthRadius*180/Math.PI;e=Math.round(a[1]/y);var k=Math.max(-90,Math.min(90,e*y)),f=y/Math.cos((Math.abs(k)-y/2)/180*Math.PI);y=Math.round(a[0]/f);h[0]=y*f;h[1]=k}else y=Math.round(a[0]/p),e=Math.round(a[1]/p),h[0]=y*p,h[1]=e*p;a=Math.round((a[2]+b)/p);h[2]=a*p;return{center:h,id:g+"_"+y+"_"+e+"_"+a}}Object.defineProperty(b,"__esModule",{value:!0});var r=new Float64Array(3E3),u=d.vec3d.create(),w=d.mat4d.create();b.computeGlobalTransformation=
function(a,b,c,l){a=k(a,b,c).center;b=d.mat4d.create();t.computeLinearTransformation(c,a,b,l);return b};b.reprojectPoints=function(a,b,c,l,m,p,y){var e=a.data,f=a.offsetIdx;a=a.strideIdx;d.mat4d.inverse(c,w);d.vec3d.set(b,u);u[2]+=l;b=[0,0,0];c=e.length/a;t.vectorToVector(u,m,b,p);for(m=0;m<c;m+=1E3){l=Math.min(1E3,c-m);for(var h=0;h<l;h++){var g=f+a*(m+h);r[3*h]=e[g]+b[0];r[3*h+1]=e[g+1]+b[1];r[3*h+2]=e[g+2]+b[2]}t.bufferToBuffer(r,p,0,r,y,0,l);for(h=0;h<l;h++){var g=r[3*h],k=r[3*h+1],x=r[3*h+2],
q=f+a*(m+h);e[q]=w[0]*g+w[4]*k+w[8]*x+w[12];e[q+1]=w[1]*g+w[5]*k+w[9]*x+w[13];e[q+2]=w[2]*g+w[6]*k+w[10]*x+w[14]}}};b.createOrigin=function(a,b,c,d){b=k(a,b,c);a=b.center;b=b.id;t.vectorToVector(a,c,a,d);return{vec3:a,id:b}};var m=1,c=5-m})},"esri/views/3d/support/earthUtils":function(){define("require exports ../../../core/wgs84Constants ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/webMercatorUtils ../lib/gl-matrix ./mathUtils".split(" "),function(a,b,d,q,
t,k,r,u){function w(a,c,d,h){var e,g;a instanceof q&&c instanceof q&&(d=c.longitude,h=c.latitude,g=a.latitude,e=a.longitude);a=u.deg2rad(g);h=u.deg2rad(h);e=u.deg2rad(e);c=u.deg2rad(d);d=Math.sin((a-h)/2);e=Math.sin((e-c)/2);d=2*u.asin(Math.sqrt(d*d+Math.cos(a)*Math.cos(h)*e*e))*b.earthRadius;return Math.round(1E4*d)/1E4}function m(a,c,d){a=d/b.earthRadius;c=u.deg2rad(c);a=Math.sin(a/2);c=Math.cos(c);c=2*u.asin(Math.sqrt(a*a/(c*c)));return u.rad2deg(c)}function c(a,c,d){return u.rad2deg(d/b.earthRadius)}
function h(a,b){a/=15;b||(a=Math.round(a));return a}Object.defineProperty(b,"__esModule",{value:!0});b.earthRadius=d.wgs84Radius;b.halfEarthCircumference=Math.PI*b.earthRadius;b.earthCircumference=2*b.halfEarthCircumference;b.metersPerDegree=b.halfEarthCircumference/180;var g=new q(0,0,t.WGS84);b.getGreatCircleDistance=w;b.getGreatCircleSpanAt=function(a,b,c){var e=b.spatialReference,d=new q(b.x,a.y,e),h=new q(c.x,a.y,e);b=new q(a.x,b.y,e);a=new q(a.x,c.y,e);return{lon:w(d,h),lat:w(b,a)}};b.getLonDeltaForDistance=
m;b.getLatDeltaForDistance=c;b.getLatLonDeltaForDistance=function(a,b,d){return{lat:c(a,b,d),lon:m(a,b,d)}};b.getMaxCameraAltitude=function(a){a=u.deg2rad(a/2);return(1-Math.sin(a))*b.earthRadius/Math.sin(a)};b.getViewExtentDistance=function(a,c){c=u.deg2rad(c/2);return 2*u.acos((Math.pow(a+b.earthRadius,2)+Math.pow(b.earthRadius,2)-Math.pow((a+b.earthRadius)*Math.cos(c)-Math.sqrt(Math.pow(Math.cos(c)*(a+b.earthRadius),2)-a*a-2*a*b.earthRadius),2))/(2*(a+b.earthRadius)*b.earthRadius))*b.earthRadius};
b.computeCarthesianDistance=function(a,c){function e(a){var c=u.deg2rad(a.latitude),e=u.deg2rad(a.longitude),f=Math.cos(c);a=b.earthRadius+(a.z||0);return[Math.cos(e)*f*a,Math.sin(c)*a,-Math.sin(e)*f*a]}a=e(a);c=e(c);c=[c[0]-a[0],c[1]-a[1],c[2]-a[2]];return Math.sqrt(c[0]*c[0]+c[1]*c[1]+c[2]*c[2])};b.longitudeToTimezone=h;b.positionToTimezone=function(a,b){a.spatialReference.wkid!==t.WGS84.wkid?k.webMercatorToGeographic(a,!1,g):(g.x=a.x,g.y=a.y);g.z=a.z;b||(b={hours:0,minutes:0,seconds:0});b.hours=
h(g.x,!0);a=b.hours%1;b.hours-=a;b.minutes=60*a;a=b.minutes%1;b.minutes-=a;b.seconds=Math.round(60*a);return b};b.distanceToIdealHorizon=function(a,c){c=c||b.earthRadius;a=r.vec3d.dot(a,a);return Math.sqrt(Math.abs(a-c*c))}})},"esri/geometry/Point":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/Logger ../core/accessorSupport/decorators ./Geometry ./SpatialReference ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,d,q,t,k,r,u,w,m){function c(a){return a&&("esri.geometry.SpatialReference"===a.declaredClass||null!=a.wkid)}var h=[0,0],g=t.getLogger("esri.geometry.Point");a=function(a){function b(b,c,e,f,d){b=a.call(this)||this;b.x=0;b.y=0;b.z=void 0;b.m=void 0;b.type="point";return b}d(b,a);e=b;b.copy=function(a,b){b.x=a.x;b.y=a.y;b.z=a.z;b.m=a.m;b.spatialReference=Object.isFrozen(a.spatialReference)?a.spatialReference:a.spatialReference.clone()};b.distance=function(a,b){var c=a.x-b.x,e=a.y-b.y;a=
a.hasZ&&b.hasZ?a.z-b.z:0;return Math.sqrt(c*c+e*e+a*a)};b.prototype.normalizeCtorArgs=function(a,b,e,f,d){var p;if(Array.isArray(a))p=a,d=b,a=p[0],b=p[1],e=p[2],f=p[3];else if(a&&"object"===typeof a){if(p=a,a=null!=p.x?p.x:p.longitude,b=null!=p.y?p.y:p.latitude,e=null!=p.z?p.z:p.altitude,f=p.m,(d=p.spatialReference)&&"esri.geometry.SpatialReference"!==d.declaredClass&&(d=new u(d)),null!=p.longitude||null!=p.latitude)null==p.longitude?g.warn(".longitude\x3d","Latitude was defined without longitude"):
null==p.latitude?g.warn(".latitude\x3d","Longitude was defined without latitude"):!p.declaredClass&&d&&d.isWebMercator&&(b=m.lngLatToXY(p.longitude,p.latitude,h),a=b[0],b=b[1])}else c(e)?(d=e,e=null):c(f)&&(d=f,f=null);a={x:a,y:b};null==a.x&&null!=a.y?g.warn(".y\x3d","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&g.warn(".x\x3d","X coordinate was defined without a Y coordinate");null!=d&&(a.spatialReference=d);null!=e&&(a.z=e);null!=f&&(a.m=f);return a};Object.defineProperty(b.prototype,
"hasM",{get:function(){return void 0!==this.m},set:function(a){var b=this._get("hasM");a!==b&&(this._set("m",a?0:void 0),this._set("hasM",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return void 0!==this.z},set:function(a){var b=this._get("hasZ");a!==b&&(this._set("z",a?0:void 0),this._set("hasZ",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"latitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return m.xyToLngLat(this.x,
this.y,h)[1];if(a.isWGS84)return this._get("y")}return null},set:function(a){var b=this._get("spatialReference");b&&(b.isWebMercator?this._set("y",m.lngLatToXY(this.x,a,h)[1]):b.isWGS84&&this._set("y",a),this._set("latitude",a))},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"longitude",{get:function(){var a=this._get("spatialReference");if(a){if(a.isWebMercator)return m.xyToLngLat(this._get("x"),this._get("y"),h)[0];if(a.isWGS84)return this._get("x")}return null},set:function(a){var b=
this._get("spatialReference");b&&(b.isWebMercator?this._set("x",m.lngLatToXY(a,this._get("y"),h)[0]):b.isWGS84&&this._set("x",a),this._set("longitude",a))},enumerable:!0,configurable:!0});b.prototype.clone=function(){var a=new e;a.x=this.x;a.y=this.y;a.z=this.z;a.m=this.m;a.spatialReference=this.spatialReference;return a};b.prototype.copy=function(a){e.copy(a,this);return this};b.prototype.equals=function(a){var b;if(!a)return!1;var c=this.x,e=this.y,d=this.z,h=this.m,g=this.spatialReference,p=a.z,
l=a.m,k=a.x;b=a.y;a=a.spatialReference;if(!g.equals(a))if(g.isWebMercator&&a.isWGS84)b=m.lngLatToXY(k,b),k=b[0],b=b[1],a=g;else if(g.isWGS84&&a.isWebMercator)b=m.xyToLngLat(k,b),k=b[0],b=b[1],a=g;else return!1;return c===k&&e===b&&d===p&&h===l&&g.wkid===a.wkid};b.prototype.offset=function(a,b,c){this.x+=a;this.y+=b;null!=c&&this.hasZ&&(this.z+=c);return this};b.prototype.normalize=function(){if(!this.spatialReference)return this;var a=w.getInfo(this.spatialReference);if(!a)return this;var b=this.x,
c=a.valid,a=c[0],e=c[1],c=2*e;b>e?(a=Math.ceil(Math.abs(b-e)/c),b-=a*c):b<a&&(a=Math.ceil(Math.abs(b-a)/c),b+=a*c);this._set("x",b);return this};b.prototype.distance=function(a){return e.distance(this,a)};b.prototype.toArray=function(){var a=this.hasZ,b=this.hasM;return a&&b?[this.x,this.y,this.z,this.m]:a?[this.x,this.y,this.z]:b?[this.x,this.y,this.m]:[this.x,this.y]};b.prototype.toJSON=function(a){return this.write(null,a)};var e;q([k.property({dependsOn:["x","y","z","m","spatialReference"]})],
b.prototype,"cache",void 0);q([k.property({type:Boolean,dependsOn:["m"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);q([k.property({type:Boolean,dependsOn:["z"],json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);q([k.property({type:Number,dependsOn:["y"]})],b.prototype,"latitude",null);q([k.property({type:Number,dependsOn:["x"]})],b.prototype,"longitude",null);q([k.property({type:Number,json:{write:{isRequired:!0}}})],b.prototype,
"x",void 0);q([k.property({type:Number,json:{write:!0}})],b.prototype,"y",void 0);q([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"z",void 0);q([k.property({type:Number,json:{write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"m",void 0);return b=e=q([k.subclass("esri.geometry.Point")],b)}(k.declared(r));a.prototype.toJSON.isDefaultToJSON=!0;return a})},"esri/geometry/Geometry":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/JSONSupport ../core/accessorSupport/decorators ./SpatialReference".split(" "),
function(a,b,d,q,t,k,r){return function(a){function b(){var b=a.call(this)||this;b.type=null;b.extent=null;b.hasM=!1;b.hasZ=!1;b.spatialReference=r.WGS84;return b}d(b,a);Object.defineProperty(b.prototype,"cache",{get:function(){return{}},enumerable:!0,configurable:!0});b.prototype.readSpatialReference=function(a,b){if(a instanceof r)return a;if(null!=a){var c=new r;c.read(a,b);return c}return a};b.prototype.clone=function(){console.warn(".clone() is not implemented for "+this.declaredClass);return null};
b.prototype.clearCache=function(){this.notifyChange("cache")};b.prototype.getCacheValue=function(a){return this.cache[a]};b.prototype.setCacheValue=function(a,b){this.cache[a]=b};q([k.property()],b.prototype,"type",void 0);q([k.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"cache",null);q([k.property({readOnly:!0,dependsOn:["spatialReference"]})],b.prototype,"extent",void 0);q([k.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,
"hasM",void 0);q([k.property({type:Boolean,json:{write:{overridePolicy:function(a){return{enabled:a}}}}})],b.prototype,"hasZ",void 0);q([k.property({type:r,json:{write:!0}})],b.prototype,"spatialReference",void 0);q([k.reader("spatialReference")],b.prototype,"readSpatialReference",null);return b=q([k.subclass("esri.geometry.Geometry")],b)}(k.declared(t))})},"esri/geometry/support/webMercatorUtils":function(){define("require exports ../../core/lang ../../core/wgs84Constants ../SpatialReference ./spatialReferenceUtils".split(" "),
function(a,b,d,q,t,k){function r(a,b,c,d,p){var e;if("x"in a&&"x"in p)b=b(a.x,a.y,h,0,d),p.x=b[0],p.y=b[1];else if("xmin"in a&&"xmin"in p)e=b(a.xmin,a.ymin,h,0,d),p.xmin=e[0],p.ymin=e[1],b=b(a.xmax,a.ymax,h,0,d),p.xmax=b[0],p.ymax=b[1];else if("paths"in a&&"paths"in p||"rings"in a&&"rings"in p){e="paths"in a?a.paths:a.rings;var g=[],f=void 0;for(a=0;a<e.length;a++){var m=e[a],f=[];g.push(f);for(var l=0;l<m.length;l++)f.push(b(m[l][0],m[l][1],[0,0],0,d)),2<m[l].length&&f[l].push(m[l][2]),3<m[l].length&&
f[l].push(m[l][3])}"paths"in p?p.paths=g:p.rings=g}else if("points"in a&&"points"in p){e=a.points;g=[];for(a=0;a<e.length;a++)g[a]=b(e[a][0],e[a][1],[0,0],0,d),2<e[a].length&&g[a].push(e[a][2]),3<e[a].length&&g[a].push(e[a][3]);p.points=g}else if("type"in a&&"mesh"===a.type&&"type"in p&&"mesh"===p.type&&(e=a.vertexAttributes&&a.vertexAttributes.position,g=p.vertexAttributes&&p.vertexAttributes.position,e))for(f=[0,0],a=0;a<e.length;a+=3)b(e[a],e[a+1],f,0,d),g[a]=f[0],g[a+1]=f[1];p.spatialReference=
c;return p}function u(a,b){a=a&&(null!=a.wkid||null!=a.wkt?a:a.spatialReference);b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return a&&b?k.equals(b,a)?!0:k.isWebMercator(b)&&k.isWGS84(a)||k.isWebMercator(a)&&k.isWGS84(b):!1}function w(a,b,d,h){void 0===d&&(d=[0,0]);void 0===h&&(h=0);89.99999<b?b=89.99999:-89.99999>b&&(b=-89.99999);b*=.017453292519943;d[h]=.017453292519943*a*c;d[h+1]=.5*c*Math.log((1+Math.sin(b))/(1-Math.sin(b)));return d}function m(a,b,d,h,p){void 0===d&&(d=[0,0]);void 0===
h&&(h=0);void 0===p&&(p=!1);a=a/c*57.29577951308232;d[h]=p?a:a-360*Math.floor((a+180)/360);d[h+1]=57.29577951308232*(Math.PI/2-2*Math.atan(Math.exp(-1*b/c)));return d}Object.defineProperty(b,"__esModule",{value:!0});var c=q.wgs84Radius,h=[0,0];b.canProject=u;b.project=function(a,b){var c=a&&a.spatialReference;b=b&&(null!=b.wkid||null!=b.wkt?b:b.spatialReference);return u(c,b)?k.equals(c,b)?d.clone(a):k.isWebMercator(b)?r(a,w,t.WebMercator,!1,d.clone(a)):k.isWGS84(b)?r(a,m,t.WGS84,!1,d.clone(a)):null:
null};b.lngLatToXY=w;b.xyToLngLat=m;b.geographicToWebMercator=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=d.clone(a));return r(a,w,t.WebMercator,b,c)};b.webMercatorToGeographic=function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=d.clone(a));return r(a,m,t.WGS84,b,c)}})},"esri/views/3d/support/projectionUtils":function(){define("require exports ../../../geometry/Point ../../../geometry/SpatialReference ../../../geometry/support/aaBoundingRect ../lib/gl-matrix ./earthUtils ./mathUtils ../webgl-engine/lib/BufferVectorMath".split(" "),
function(a,b,d,q,t,k,r,u,w){function m(a,b,e,d){2===a.length?(A[0]=a[0],A[1]=a[1],A[2]=0,a=A):a===e&&(k.vec3d.set(a,A),a=A);return c(a,b,0,e,d,0,1)}function c(a,b,c,e,d,g,m){void 0===m&&(m=1);p!==b&&(y=h(b),p=b);z!==d&&(f=h(d),z=d);m=c+3*m;if(y!==f||y===x.UNKNOWN&&!b.equals(d))if(y>x.UNKNOWN&&f>x.UNKNOWN)if(f!==x.WGS84)if(b=n[f],y!==x.WGS84)for(d=v[y];c<m;c+=3,g+=3)d(a,c,G,0),b(G,0,e,g);else for(;c<m;c+=3,g+=3)b(a,c,e,g);else for(d=v[y];c<m;c+=3,g+=3)d(a,c,e,g);else return!1;else if(e!==a||c!==g)for(;c<
m;c++,g++)e[g]=a[c];return!0}function h(a){return a.wkt===b.SphericalECEFSpatialReference.wkt?x.SPHERICAL_ECEF:a.isWGS84?x.WGS84:a.isWebMercator?x.WEBMERC:a.wkt===b.WGS84ECEFSpatialReference.wkt?x.WGS84_ECEF:x.UNKNOWN}function g(a,b,c,e){c[e++]=a[b++];c[e++]=a[b++];c[e]=a[b]}function e(a,b,c,e){var d=.4999999*Math.PI,d=u.clamp(B*a[b+1],-d,d),d=Math.sin(d);c[e++]=B*a[b]*E;c[e++]=E/2*Math.log((1+d)/(1-d));c[e]=a[b+2]}function l(a,b,c,e){var d=E+a[b+2],f=B*a[b+1];a=B*a[b];b=Math.cos(f);c[e++]=Math.cos(a)*
b*d;c[e++]=Math.sin(a)*b*d;c[e]=Math.sin(f)*d}Object.defineProperty(b,"__esModule",{value:!0});b.SphericalECEFSpatialReference=new q({wkt:'GEOCCS["Spherical geocentric",\n  DATUM["Not specified",\n    SPHEROID["Sphere",\' + earthUtils.earthRadius + \',0]],\n  PRIMEM["Greenwich",0.0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",EAST],\n  AXIS["Geocentric Z",NORTH]\n]'});b.WGS84ECEFSpatialReference=new q({wkt:'GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",6378137,298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]'});
var x;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";a[a.WGS84=2]="WGS84";a[a.WEBMERC=3]="WEBMERC";a[a.WGS84_ECEF=4]="WGS84_ECEF"})(x||(x={}));var p,y,z,f;b.vectorToVector=m;b.pointToVector=function(a,b,e){A[0]=a.x;A[1]=a.y;var d=a.z;A[2]=void 0!==d?d:0;return c(A,a.spatialReference,0,b,e,0,1)};b.vectorToPoint=function(a,b,e,f){"esri.geometry.SpatialReference"===e.declaredClass?(f=e,e=new d({spatialReference:f})):f=f||e.spatialReference;return c(a,b,0,A,f,0,1)?(e.x=A[0],
e.y=A[1],e.z=A[2],e.spatialReference=f,e):null};b.xyzToVector=function(a,b,e,d,f,h){A[0]=a;A[1]=b;A[2]=e;return c(A,d,0,f,h,0,1)};b.bufferToBuffer=c;b.computeLinearTransformation=function(a,b,c,d){var f=h(a),g=h(d);if(f===g&&g!==x.SPHERICAL_ECEF&&(f!==x.UNKNOWN||a.equals(d)))return k.mat4d.identity(c),k.mat4d.translate(c,b),!0;if(g===x.SPHERICAL_ECEF){if(a=v[f])return a(b,0,G,0),l(G,0,H,0),d=B*G[0],a=B*G[1],b=Math.sin(d),d=Math.cos(d),f=Math.sin(a),a=Math.cos(a),c[0]=-b,c[4]=-f*d,c[8]=a*d,c[12]=H[0],
c[1]=d,c[5]=-f*b,c[9]=a*b,c[13]=H[1],c[2]=0,c[6]=a,c[10]=f,c[14]=H[2],c[3]=0,c[7]=0,c[11]=0,c[15]=1,!0}else if(g===x.WEBMERC&&(f===x.WGS84||f===x.SPHERICAL_ECEF))return v[f](b,0,G,0),b=B*G[1],e(G,0,H,0),k.mat4d.identity(c),k.mat4d.translate(c,H),b=1/Math.cos(b),k.mat4d.scale(c,[b,b,1]),!0;return!1};b.transformDirection=function(a,b,c,e,d){k.vec3d.set(a,O);k.vec3d.add(a,b,P);m(O,c,O,d);m(P,c,P,d);k.vec3d.subtract(P,O,e);k.vec3d.normalize(e)};b.mbsToMbs=function(a,b,c,d){var f=h(b),g=h(d);if(f===g&&
(f!==x.UNKNOWN||b.equals(d)))return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],!0;if(g===x.SPHERICAL_ECEF){if(b=v[f])return b(a,0,G,0),l(G,0,c,0),c[3]=a[3],!0}else if(g===x.WEBMERC&&(f===x.WGS84||f===x.SPHERICAL_ECEF))return v[f](a,0,G,0),b=Math.abs(B*G[1])+Math.asin(a[3]/(E+a[2])),e(G,0,c,0),c[3]=b>.9999*Math.PI?Number.MAX_VALUE:1/Math.cos(b)*a[3],!0;return!1};b.extentToBoundingBox=function(a,b,e){if(null==a)return!1;var d;A[0]=null!=a.xmin?a.xmin:0;A[1]=null!=a.ymin?a.ymin:0;A[2]=null!=a.zmin?a.zmin:
0;d=c(A,a.spatialReference,0,b,e,0,1);A[0]=null!=a.xmax?a.xmax:0;A[1]=null!=a.ymax?a.ymax:0;A[2]=null!=a.zmax?a.zmax:0;d=d&&c(A,a.spatialReference,0,b,e,3,1);null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.zmin&&(b[2]=-Infinity);null==a.xmax&&(b[3]=Infinity);null==a.ymax&&(b[4]=Infinity);null==a.zmax&&(b[5]=Infinity);return d};b.extentToBoundingRect=function(a,b,e){if(null==a)return!1;var d;A[0]=null!=a.xmin?a.xmin:0;A[1]=null!=a.ymin?a.ymin:0;A[2]=null!=a.zmin?a.zmin:0;d=c(A,
a.spatialReference,0,A,e,0,1);b[0]=A[0];b[1]=A[1];A[0]=null!=a.xmax?a.xmax:0;A[1]=null!=a.ymax?a.ymax:0;A[2]=null!=a.zmax?a.zmax:0;d=d&&c(A,a.spatialReference,0,A,e,0,1);b[2]=A[0];b[3]=A[1];null==a.xmin&&(b[0]=-Infinity);null==a.ymin&&(b[1]=-Infinity);null==a.xmax&&(b[2]=Infinity);null==a.ymax&&(b[3]=Infinity);return d};b.boundingRectToBoundingRect=function(a,b,e,d){if(null==a)return!1;if(b.equals(d))return t.set(e,a),!0;var f;A[0]=a[0];A[1]=a[1];A[2]=0;f=c(A,b,0,A,d,0,1);e[0]=A[0];e[1]=A[1];A[0]=
a[2];A[1]=a[3];A[2]=0;f=f&&c(A,b,0,A,d,0,1);e[2]=A[0];e[3]=A[1];return f};(function(a){a.x2lon=function(a){return a/E};a.y2lat=function(a){return Math.PI/2-2*Math.atan(Math.exp(-1*a/E))};a.lon2x=function(a){return a*E};a.lat2y=function(a){a=Math.sin(a);return E/2*Math.log((1+a)/(1-a))}})(b.webMercator||(b.webMercator={}));var n=[void 0,l,g,e,function(a,b,c,e){var d=C,f=B*a[b],h=B*a[b+1];a=a[b+2];b=Math.sin(h);var h=Math.cos(h),g=d.a/Math.sqrt(1-d.e2*b*b);c[e++]=(g+a)*h*Math.cos(f);c[e++]=(g+a)*h*
Math.sin(f);c[e++]=(g*(1-d.e2)+a)*b}],v=[void 0,function(a,b,c,e){var d=w.Vec3Compact.length(a,b),f=u.asin(a[b+2]/d);a=(0<a[b+1]?1:-1)*u.acos(a[b]/(Math.cos(f)*d));c[e++]=D*a;c[e++]=D*f;c[e]=d-E},g,function(a,b,c,e){c[e++]=D*(a[b++]/E);c[e++]=D*(Math.PI/2-2*Math.atan(Math.exp(-1*a[b++]/E)));c[e]=a[b]},function(a,b,c,e){var d=C,f=a[b],h=a[b+1];a=a[b+2];var g,p,m,y,l,n;b=Math.abs(a);g=f*f+h*h;p=Math.sqrt(g);m=g+a*a;y=Math.sqrt(m);f=Math.atan2(h,f);l=a*a/m;m=g/m;h=d.a2/y;g=d.a3-d.a4/y;.3<m?(l=b/y*(1+
m*(d.a1+h+l*g)/y),y=Math.asin(l),h=l*l,m=Math.sqrt(1-h)):(m=p/y*(1-l*(d.a5-h-m*g)/y),y=Math.acos(m),h=1-m*m,l=Math.sqrt(h));n=1-d.e2*h;h=d.a/Math.sqrt(n);d=d.a6*h;h=p-h*m;g=b-d*l;b=m*h+l*g;p=m*g-l*h;d=p/(d/n+b);y+=d;0>a&&(y=-y);c[e++]=D*f;c[e++]=D*y;c[e]=b+p*d/2}],B=u.deg2rad(1),D=u.rad2deg(1),E=r.earthRadius,C={a:6378137,e2:.006694379990137799,a1:42697.67270715754,a2:1.8230912546075456E9,a3:142.91722289812412,a4:4.557728136518864E9,a5:42840.589930055656,a6:.9933056200098622},A=k.vec3d.create(),G=
k.vec3d.create(),H=k.vec3d.create(),O=k.vec3d.create(),P=k.vec3d.create()})},"esri/geometry/support/aaBoundingRect":function(){define(["require","exports","../Extent"],function(a,b,d){function q(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3]]}function t(a){return a[0]>=a[2]?0:a[2]-a[0]}function k(a){return a[1]>=a[3]?0:a[3]-a[1]}function r(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a}function u(a){return 4===a.length}function w(a,b,d){return a<b?b:a>d?d:a}Object.defineProperty(b,"__esModule",
{value:!0});b.create=q;b.clone=function(a){return[a[0],a[1],a[2],a[3]]};b.fromValues=function(a,b,d,g,e){void 0===e&&(e=q());e[0]=a;e[1]=b;e[2]=d;e[3]=g;return e};b.fromExtent=function(a,b){void 0===b&&(b=q());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.xmax;b[3]=a.ymax;return b};b.toExtent=function(a,b){return new d({xmin:a[0],ymin:a[1],xmax:a[2],ymax:a[3],spatialReference:b})};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[2]&&(a[2]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[3]&&(a[3]=b[1])};b.expand=
function(a,b,d){void 0===d&&(d=a);if("length"in b)if(u(b))d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.max(a[2],b[2]),d[3]=Math.max(a[3],b[3]);else{if(2===b.length||3===b.length)d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.max(a[2],b[0]),d[3]=Math.max(a[3],b[1])}else switch(b.type){case "extent":d[0]=Math.min(a[0],b.xmin);d[1]=Math.min(a[1],b.ymin);d[2]=Math.max(a[2],b.xmax);d[3]=Math.max(a[3],b.ymax);break;case "point":d[0]=Math.min(a[0],b.x),d[1]=Math.min(a[1],b.y),
d[2]=Math.max(a[2],b.x),d[3]=Math.max(a[3],b.y)}return d};b.expandWithNestedArray=function(a,b,d){void 0===d&&(d=a);var c=b.length,e=a[0],h=a[1],m=a[2];a=a[3];for(var p=0;p<c;p++){var y=b[p],e=Math.min(e,y[0]),h=Math.min(h,y[1]),m=Math.max(m,y[0]);a=Math.max(a,y[1])}d[0]=e;d[1]=h;d[2]=m;d[3]=a;return d};b.allFinite=function(a){for(var b=0;4>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=t;b.height=k;b.diameter=function(a){var b=t(a);a=k(a);return Math.sqrt(b*b+a*a)};b.area=function(a){return t(a)*
k(a)};b.center=function(a,b){void 0===b&&(b=[0,0]);b[0]=a[0]+t(a)/2;b[1]=a[1]+k(a)/2;return b};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[0]<=a[2]&&b[1]<=a[3]};b.containsPointWithMargin=function(a,b,d){return b[0]>=a[0]-d&&b[1]>=a[1]-d&&b[0]<=a[2]+d&&b[1]<=a[3]+d};b.intersects=function(a,b){return Math.max(b[0],a[0])<=Math.min(b[2],a[2])&&Math.max(b[1],a[1])<=Math.min(b[3],a[3])};b.contains=function(a,b){return b[0]>=a[0]&&b[2]<=a[2]&&b[1]>=a[1]&&b[3]<=a[3]};b.intersection=function(a,
b,d){void 0===d&&(d=a);var c=b[0],e=b[1],h=b[2];b=b[3];d[0]=w(a[0],c,h);d[1]=w(a[1],e,b);d[2]=w(a[2],c,h);d[3]=w(a[3],e,b);return d};b.distance=function(a,b){var c=(a[1]+a[3])/2,d=Math.max(Math.abs(b[0]-(a[0]+a[2])/2)-t(a)/2,0);a=Math.max(Math.abs(b[1]-c)-k(a)/2,0);return Math.sqrt(d*d+a*a)};b.offset=function(a,b,d,g){void 0===g&&(g=a);g[0]=a[0]+b;g[1]=a[1]+d;g[2]=a[2]+b;g[3]=a[3]+d;return g};b.pad=function(a,b,d){void 0===d&&(d=a);d[0]=a[0]-b;d[1]=a[1]-b;d[2]=a[2]+b;d[3]=a[3]+b;return d};b.setMin=
function(a,b,d){void 0===d&&(d=a);d[0]=b[0];d[1]=b[1];d!==a&&(d[2]=a[2],d[3]=a[3]);return d};b.setMax=function(a,b,d){void 0===d&&(d=a);d[2]=b[0];d[3]=b[1];d!==a&&(d[0]=a[0],d[1]=a[1]);return a};b.set=r;b.empty=function(a){return a?r(a,b.NEGATIVE_INFINITY):q(b.NEGATIVE_INFINITY)};b.is=u;b.isPoint=function(a){return(0===t(a)||!isFinite(a[0]))&&(0===k(a)||!isFinite(a[1]))};b.equals=function(a,b,d){if(null==a||null==b)return a===b;if(!u(a)||!u(b))return!1;if(d)for(var c=0;c<a.length;c++){if(!d(a[c],
b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0]})},"esri/geometry/Extent":function(){define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../core/lang ../core/accessorSupport/decorators ./Geometry ./Point ./SpatialReference ./support/contains ./support/intersects ./support/spatialReferenceUtils ./support/webMercatorUtils".split(" "),
function(a,b,d,q,t,k,r,u,w,m,c,h,g){function e(a,b,c){return null==b?c:null==c?b:a(b,c)}a=function(a){function b(){for(var b=0;b<arguments.length;b++);b=a.call(this)||this;b.type="extent";b.xmin=0;b.ymin=0;b.mmin=void 0;b.zmin=void 0;b.xmax=0;b.ymax=0;b.mmax=void 0;b.zmax=void 0;return b}d(b,a);p=b;b.prototype.normalizeCtorArgs=function(a,b,c,e,d){return!a||"esri.geometry.SpatialReference"!==a.declaredClass&&null==a.wkid?"object"===typeof a?(a.spatialReference=null!=a.spatialReference?a.spatialReference:
w.WGS84,a):{xmin:a,ymin:b,xmax:c,ymax:e,spatialReference:null!=d?d:w.WGS84}:{spatialReference:a,xmin:0,ymin:0,xmax:0,ymax:0}};Object.defineProperty(b.prototype,"center",{get:function(){var a=new u({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});this.hasZ&&(a.z=.5*(this.zmin+this.zmax));this.hasM&&(a.m=.5*(this.mmin+this.mmax));return a},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"extent",{get:function(){return this.clone()},enumerable:!0,
configurable:!0});Object.defineProperty(b.prototype,"hasM",{get:function(){return null!=this.mmin&&null!=this.mmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"hasZ",{get:function(){return null!=this.zmin&&null!=this.zmax},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return Math.abs(this.ymax-this.ymin)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"width",{get:function(){return Math.abs(this.xmax-this.xmin)},
enumerable:!0,configurable:!0});b.prototype.centerAt=function(a){var b=this.center;return null!=a.z&&this.hasZ?this.offset(a.x-b.x,a.y-b.y,a.z-b.z):this.offset(a.x-b.x,a.y-b.y)};b.prototype.clone=function(){var a=new p;a.xmin=this.xmin;a.ymin=this.ymin;a.xmax=this.xmax;a.ymax=this.ymax;a.spatialReference=this.spatialReference;null!=this.zmin&&(a.zmin=this.zmin,a.zmax=this.zmax);null!=this.mmin&&(a.mmin=this.mmin,a.mmax=this.mmax);return a};b.prototype.contains=function(a){if(!a)return!1;var b=this.spatialReference,
c=a.spatialReference;b&&c&&!b.equals(c)&&g.canProject(b,c)&&(a=b.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));return"point"===a.type?m.extentContainsPoint(this,a):"extent"===a.type?m.extentContainsExtent(this,a):!1};b.prototype.equals=function(a){if(!a)return!1;var b=this.spatialReference,c=a.spatialReference;b&&c&&!b.equals(c)&&g.canProject(b,c)&&(a=b.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));return this.xmin===a.xmin&&this.ymin===
a.ymin&&this.zmin===a.zmin&&this.mmin===a.mmin&&this.xmax===a.xmax&&this.ymax===a.ymax&&this.zmax===a.zmax&&this.mmax===a.mmax};b.prototype.expand=function(a){a=.5*(1-a);var b=this.width*a,c=this.height*a;this.xmin+=b;this.ymin+=c;this.xmax-=b;this.ymax-=c;this.hasZ&&(b=(this.zmax-this.zmin)*a,this.zmin+=b,this.zmax-=b);this.hasM&&(a*=this.mmax-this.mmin,this.mmin+=a,this.mmax-=a);return this};b.prototype.intersects=function(a){if(!a)return!1;var b=this.spatialReference,e=a.spatialReference;b&&e&&
!b.equals(e)&&g.canProject(b,e)&&(a=b.isWebMercator?g.geographicToWebMercator(a):g.webMercatorToGeographic(a,!0));b=c.getExtentIntersector(a.type);return"mesh"!==a.type?b(this,a):b(this,a.extent)};b.prototype.normalize=function(){var a=this._normalize(!1,!0);return Array.isArray(a)?a:[a]};b.prototype.offset=function(a,b,c){this.xmin+=a;this.ymin+=b;this.xmax+=a;this.ymax+=b;null!=c&&(this.zmin+=c,this.zmax+=c);return this};b.prototype.shiftCentralMeridian=function(){return this._normalize(!0)};b.prototype.union=
function(a){this.xmin=Math.min(this.xmin,a.xmin);this.ymin=Math.min(this.ymin,a.ymin);this.xmax=Math.max(this.xmax,a.xmax);this.ymax=Math.max(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=e(Math.min,this.zmin,a.zmin),this.zmax=e(Math.max,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=e(Math.min,this.mmin,a.mmin),this.mmax=e(Math.max,this.mmax,a.mmax);return this};b.prototype.intersection=function(a){if(!this.intersects(a))return null;this.xmin=Math.max(this.xmin,a.xmin);this.ymin=Math.max(this.ymin,
a.ymin);this.xmax=Math.min(this.xmax,a.xmax);this.ymax=Math.min(this.ymax,a.ymax);if(this.hasZ||a.hasZ)this.zmin=e(Math.max,this.zmin,a.zmin),this.zmax=e(Math.min,this.zmax,a.zmax);if(this.hasM||a.hasM)this.mmin=e(Math.max,this.mmin,a.mmin),this.mmax=e(Math.min,this.mmax,a.mmax);return this};b.prototype.toJSON=function(a){return this.write(null,a)};b.prototype._shiftCM=function(a){void 0===a&&(a=h.getInfo(this.spatialReference));if(!a||!this.spatialReference)return this;var b=this.spatialReference,
c=this._getCM(a);if(c){var e=b.isWebMercator?g.webMercatorToGeographic(c):c;this.xmin-=c.x;this.xmax-=c.x;b.isWebMercator||(e.x=this._normalizeX(e.x,a).x);this.spatialReference=new w(t.substitute({Central_Meridian:e.x},b.isWGS84?a.altTemplate:a.wkTemplate))}return this};b.prototype._getCM=function(a){var b=null,c=a.valid;a=c[0];var c=c[1],e=this.xmin,d=this.xmax;e>=a&&e<=c&&d>=a&&d<=c||(b=this.center);return b};b.prototype._normalize=function(a,b,c){var e=this.spatialReference;if(!e)return this;c=
c||h.getInfo(e);if(!c)return this;var d=this._getParts(c).map(function(a){return a.extent});if(2>d.length)return d[0]||this;if(2<d.length)return a?this._shiftCM(c):this.set({xmin:c.valid[0],xmax:c.valid[1]});if(a)return this._shiftCM(c);if(b)return d;var f=!0,g=!0;d.forEach(function(a){a.hasZ||(f=!1);a.hasM||(g=!1)});return{rings:d.map(function(a){var b=[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]];if(f)for(var c=(a.zmax-a.zmin)/2,e=0;e<b.length;e++)b[e].push(c);
if(g)for(a=(a.mmax-a.mmin)/2,e=0;e<b.length;e++)b[e].push(a);return b}),hasZ:f,hasM:g,spatialReference:e}};b.prototype._getParts=function(a){var b=this.cache._parts;if(!b){var b=[],c=this.ymin,e=this.ymax,d=this.spatialReference,g=this.width,l=this.xmin,k=this.xmax,m=void 0;a=a||h.getInfo(d);var r=a.valid,y=r[0],q=r[1],m=this._normalizeX(this.xmin,a),u=m.x,r=m.frameId,m=this._normalizeX(this.xmax,a),t=m.x;a=m.frameId;m=u===t&&0<g;if(g>2*q){g=new p(l<k?u:t,c,q,e,d);l=new p(y,c,l<k?t:u,e,d);k=new p(0,
c,q,e,d);c=new p(y,c,0,e,d);e=[];d=[];g.contains(k)&&e.push(r);g.contains(c)&&d.push(r);l.contains(k)&&e.push(a);l.contains(c)&&d.push(a);for(y=r+1;y<a;y++)e.push(y),d.push(y);b.push({extent:g,frameIds:[r]},{extent:l,frameIds:[a]},{extent:k,frameIds:e},{extent:c,frameIds:d})}else u>t||m?b.push({extent:new p(u,c,q,e,d),frameIds:[r]},{extent:new p(y,c,t,e,d),frameIds:[a]}):b.push({extent:new p(u,c,t,e,d),frameIds:[r]});this.cache._parts=b}a=this.hasZ;c=this.hasM;if(a||c)for(r={},a&&(r.zmin=this.zmin,
r.zmax=this.zmax),c&&(r.mmin=this.mmin,r.mmax=this.mmax),a=0;a<b.length;a++)b[a].extent.set(r);return b};b.prototype._normalizeX=function(a,b){var c=b.valid;b=c[0];var e=c[1],c=2*e,d=0;a>e?(b=Math.ceil(Math.abs(a-e)/c),a-=b*c,d=b):a<b&&(b=Math.ceil(Math.abs(a-b)/c),a+=b*c,d=-b);return{x:a,frameId:d}};var p;q([k.property({dependsOn:"xmin ymin zmin mmin xmax ymax zmax mmax spatialReference".split(" ")})],b.prototype,"cache",void 0);q([k.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"center",
null);q([k.property({readOnly:!0,dependsOn:["cache"]})],b.prototype,"extent",null);q([k.property({readOnly:!0,dependsOn:["mmin","mmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasM",null);q([k.property({readOnly:!0,dependsOn:["zmin","zmax"],json:{write:{enabled:!1,overridePolicy:null}}})],b.prototype,"hasZ",null);q([k.property({readOnly:!0,dependsOn:["ymin","ymax"]})],b.prototype,"height",null);q([k.property({readOnly:!0,dependsOn:["xmin","xmax"]})],b.prototype,"width",null);
q([k.property({type:Number,json:{write:!0}})],b.prototype,"xmin",void 0);q([k.property({type:Number,json:{write:!0}})],b.prototype,"ymin",void 0);q([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmin",void 0);q([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmin",void 0);q([k.property({type:Number,json:{write:!0}})],
b.prototype,"xmax",void 0);q([k.property({type:Number,json:{write:!0}})],b.prototype,"ymax",void 0);q([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasM}}}}})],b.prototype,"mmax",void 0);q([k.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy:function(){return{enabled:this.hasZ}}}}})],b.prototype,"zmax",void 0);return b=p=q([k.subclass("esri.geometry.Extent")],b)}(k.declared(r));a.prototype.toJSON.isDefaultToJSON=
!0;return a})},"esri/geometry/support/contains":function(){define(["require","exports"],function(a,b){function d(a,b,d,q){return b>=a.xmin&&b<=a.xmax&&d>=a.ymin&&d<=a.ymax?null!=q&&a.hasZ?q>=a.zmin&&q<=a.zmax:!0:!1}function q(a,b){if(a=a.rings)if(Array.isArray(a[0][0])){for(var d=!1,k=0,m=a.length;k<m;k++)d=t(d,a[k],b);b=d}else b=t(!1,a,b);else b=!1;return b}function t(a,b,d){var k=d[0];d=d[1];for(var m=0,c=0,h=b.length;c<h;c++){m++;m===h&&(m=0);var g=b[c],e=g[0],g=g[1],l=b[m],q=l[0],l=l[1];(g<d&&
l>=d||l<d&&g>=d)&&e+(d-g)/(l-g)*(q-e)<k&&(a=!a)}return a}Object.defineProperty(b,"__esModule",{value:!0});b.extentContainsPoint=function(a,b){return d(a,b.x,b.y,b.z)};b.extentContainsExtent=function(a,b){var k=b.xmin,q=b.ymin,m=b.zmin,c=b.xmax,h=b.ymax,g=b.zmax;return a.hasZ&&b.hasZ?d(a,k,q,m)&&d(a,k,h,m)&&d(a,c,h,m)&&d(a,c,q,m)&&d(a,k,q,g)&&d(a,k,h,g)&&d(a,c,h,g)&&d(a,c,q,g):d(a,k,q)&&d(a,k,h)&&d(a,c,h)&&d(a,c,q)};b.extentContainsCoords2D=function(a,b){return d(a,b[0],b[1])};b.extentContainsCoords3D=
function(a,b){return d(a,b[0],b[1],b[2])};b.polygonContainsPoint=function(a,b){return q(a,[b.x,b.y])};b.polygonContainsCoords=q})},"esri/geometry/support/intersects":function(){define(["require","exports","./contains"],function(a,b,d){function q(a,b){return d.extentContainsPoint(a,b)}function t(a,b){var c=a.hasZ&&b.hasZ,e;if(a.xmin<=b.xmin){if(e=b.xmin,a.xmax<e)return!1}else if(e=a.xmin,b.xmax<e)return!1;if(a.ymin<=b.ymin){if(e=b.ymin,a.ymax<e)return!1}else if(e=a.ymin,b.ymax<e)return!1;if(c&&b.hasZ)if(a.zmin<=
b.zmin){if(c=b.zmin,a.zmax<c)return!1}else if(c=a.zmin,b.zmax<c)return!1;return!0}function k(a,b){var c=b.hasZ?d.extentContainsCoords3D:d.extentContainsCoords2D,e=0;for(b=b.points;e<b.length;e++)if(c(a,b[e]))return!0;return!1}function r(a,b){c[0]=a.xmin;c[1]=a.ymax;h[0]=a.xmax;h[1]=a.ymax;g[0]=a.xmin;g[1]=a.ymin;e[0]=a.xmax;e[1]=a.ymin;for(var f=0,p=l;f<p.length;f++)if(d.polygonContainsCoords(b,p[f]))return!0;f=0;for(b=b.rings;f<b.length;f++)if(p=b[f],p.length){var k=p[0];if(d.extentContainsCoords2D(a,
k))return!0;for(var m=1;m<p.length;m++){var q=p[m];if(d.extentContainsCoords2D(a,q)||w(k,q,x))return!0;k=q}}return!1}function u(a,b){c[0]=a.xmin;c[1]=a.ymax;h[0]=a.xmax;h[1]=a.ymax;g[0]=a.xmin;g[1]=a.ymin;e[0]=a.xmax;e[1]=a.ymin;b=b.paths;for(var f=0;f<b.length;f++){var p=b[f];if(b.length){var l=p[0];if(d.extentContainsCoords2D(a,l))return!0;for(var k=1;k<p.length;k++){var m=p[k];if(d.extentContainsCoords2D(a,m)||w(l,m,x))return!0;l=m}}}return!1}function w(a,b,c){for(var e=0;e<c.length;e++)if(m(a,
b,c[e][0],c[e][1]))return!0;return!1}function m(a,b,c,e,d){var f=a[0];a=a[1];var h=b[0];b=b[1];var g=c[0],p=c[1];c=e[0]-g;var g=f-g,l=h-f;e=e[1]-p;var p=a-p,k=b-a,n=e*l-c*k;if(0===n)return!1;c=(c*p-e*g)/n;g=(l*p-k*g)/n;return 0<=c&&1>=c&&0<=g&&1>=g?(d&&(d[0]=f+c*(h-f),d[1]=a+c*(b-a)),!0):!1}Object.defineProperty(b,"__esModule",{value:!0});b.extentIntersectsPoint=q;b.extentIntersectsExtent=t;b.extentIntersectsMultipoint=k;var c=[0,0],h=[0,0],g=[0,0],e=[0,0],l=[c,h,g,e],x=[[g,c],[c,h],[h,e],[e,g]];
b.extentIntersectsPolygon=r;b.extentIntersectsPolyline=u;var p=[0,0];b.isSelfIntersecting=function(a){for(var b=0;b<a.length;b++){for(var c=a[b],e=0;e<c.length-1;e++)for(var d=c[e],h=c[e+1],g=b+1;g<a.length;g++)for(var l=0;l<a[g].length-1;l++){var k=a[g][l],q=a[g][l+1],r=m(d,h,k,q,p);if(r&&!(p[0]===d[0]&&p[1]===d[1]||p[0]===k[0]&&p[1]===k[1]||p[0]===h[0]&&p[1]===h[1]||p[0]===q[0]&&p[1]===q[1]))return!0}l=c.length;if(!(4>=l))for(e=0;e<l-3;e++){var y=l-1;0===e&&(y=l-2);d=c[e];h=c[e+1];for(g=e+2;g<y;g++)if(k=
c[g],q=c[g+1],(r=m(d,h,k,q,p))&&!(p[0]===d[0]&&p[1]===d[1]||p[0]===k[0]&&p[1]===k[1]||p[0]===h[0]&&p[1]===h[1]||p[0]===q[0]&&p[1]===q[1]))return!0}}return!1};b.segmentIntersects=m;b.getExtentIntersector=function(a){switch(a){case "esriGeometryEnvelope":case "extent":return t;case "esriGeometryMultipoint":case "multipoint":return k;case "esriGeometryPoint":case "point":return q;case "esriGeometryPolygon":case "polygon":return r;case "esriGeometryPolyline":case "polyline":return u;case "mesh":return t}}})},
"esri/views/3d/webgl-engine/lib/BufferVectorMath":function(){define(["require","exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});(function(a){a.length=function(a,b){var d=a[b],q=a[b+1];a=a[b+2];return Math.sqrt(d*d+q*q+a*a)};a.normalize=function(a,b){var d=a[b],q=a[b+1],u=a[b+2],d=1/Math.sqrt(d*d+q*q+u*u);a[b]*=d;a[b+1]*=d;a[b+2]*=d};a.scale=function(a,b,d){a[b]*=d;a[b+1]*=d;a[b+2]*=d};a.add=function(a,b,d,r,u,w){void 0===w&&(w=b);u=u||a;u[w]=a[b]+d[r];u[w+1]=a[b+1]+d[r+1];
u[w+2]=a[b+2]+d[r+2]};a.subtract=function(a,b,d,r,u,w){void 0===w&&(w=b);u=u||a;u[w]=a[b]-d[r];u[w+1]=a[b+1]-d[r+1];u[w+2]=a[b+2]-d[r+2]}})(b.Vec3Compact||(b.Vec3Compact={}))})},"esri/views/3d/support/orientedBoundingBox":function(){define("require exports ../../../geometry/support/aaBoundingBox ../lib/gl-matrix ./dito ./geometryUtils".split(" "),function(a,b,d,q,t,k){function r(a,b,c){return{center:q.vec3d.createFrom(a[0],a[1],a[2]),halfSize:q.vec3.createFrom(b[0],b[1],b[2]),quaternion:q.quat4.createFrom(c[0],
c[1],c[2],c[3])}}function u(a,b){var c=k.plane.distance(b,a.center);a=w(a,b);return c>a?1:c<-a?-1:0}function w(a,b){q.quat4.conjugate(a.quaternion,m);q.quat4d.multiplyVec3(m,b,c);a=a.halfSize;return Math.abs(c[0]*a[0])+Math.abs(c[1]*a[1])+Math.abs(c[2]*a[2])}Object.defineProperty(b,"__esModule",{value:!0});var m=q.quat4.create(),c=q.vec3.create(),h=q.vec3.create(),g=q.mat3.create();a=function(){return function(a){this.buffer=new ArrayBuffer(56*a);this.obbs=Array(a);for(var b=0;b<a;b++)this.obbs[b]=
{center:new Float64Array(this.buffer,56*b+0,3),halfSize:new Float32Array(this.buffer,56*b+24,3),quaternion:new Float32Array(this.buffer,56*b+36,4)}}}();b.ObbArray=a;b.create=r;b.clone=function(a){return r(a.center,a.halfSize,a.quaternion)};b.set=function(a,b){q.vec3d.set(a.center,b.center);q.vec3.set(a.halfSize,b.halfSize);q.quat4.set(a.quaternion,b.quaternion)};b.compute=function(a,b){b||(b=r([0,0,0],[-1,-1,-1],[0,0,0,1]));t.computeOBB(a,b);return b};b.intersectPlane=u;b.toAaBoundingBox=function(a,
b){b||(b=d.create());var c=q.quat4.toMat3(a.quaternion,g),e=a.halfSize[0]*Math.abs(c[0])+a.halfSize[1]*Math.abs(c[3])+a.halfSize[2]*Math.abs(c[6]),h=a.halfSize[0]*Math.abs(c[1])+a.halfSize[1]*Math.abs(c[4])+a.halfSize[2]*Math.abs(c[7]),c=a.halfSize[0]*Math.abs(c[2])+a.halfSize[1]*Math.abs(c[5])+a.halfSize[2]*Math.abs(c[8]);b[0]=a.center[0]-e;b[1]=a.center[1]-h;b[2]=a.center[2]-c;b[3]=a.center[0]+e;b[4]=a.center[1]+h;b[5]=a.center[2]+c;return b};b.minimumDistancePlane=function(a,b){var c=k.plane.distance(b,
a.center);a=w(a,b);return c-a};b.maximumDistancePlane=function(a,b){var c=k.plane.distance(b,a.center);a=w(a,b);return c+a};b.isVisible=function(a,b){return 0>=u(a,b[0])&&0>=u(a,b[1])&&0>=u(a,b[2])&&0>=u(a,b[3])&&0>=u(a,b[4])&&0>=u(a,b[5])};b.intersectLine=function(a,b,d,g){void 0===g&&(g=0);q.quat4.conjugate(a.quaternion,m);q.vec3d.subtract(b,a.center,c);b=q.quat4d.multiplyVec3(m,c,c);d=q.quat4d.multiplyVec3(m,d,h);for(var e=-Infinity,p=Infinity,f=0;3>f;f++)if(1E-6<Math.abs(d[f]))var l=(g+a.halfSize[f]-
b[f])/d[f],k=(-g-a.halfSize[f]-b[f])/d[f],e=Math.max(e,Math.min(l,k)),p=Math.min(p,Math.max(l,k));else if(b[f]>a.halfSize[f]+g||b[f]<-a.halfSize[f]-g)return!1;return e<=p}})},"esri/geometry/support/aaBoundingBox":function(){define(["require","exports","../Extent","./aaBoundingRect"],function(a,b,d,q){function t(a){void 0===a&&(a=b.ZERO);return[a[0],a[1],a[2],a[3],a[4],a[5]]}function k(a){return a[0]>=a[3]?0:a[3]-a[0]}function r(a){return a[1]>=a[4]?0:a[4]-a[1]}function u(a){return a[2]>=a[5]?0:a[5]-
a[2]}function w(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];return a}function m(a){return 6===a.length}Object.defineProperty(b,"__esModule",{value:!0});b.create=t;b.fromValues=function(a,b,d,e,l,k){return[a,b,d,e,l,k]};b.fromExtent=function(a,b){void 0===b&&(b=t());b[0]=a.xmin;b[1]=a.ymin;b[2]=a.zmin;b[3]=a.xmax;b[4]=a.ymax;b[5]=a.zmax;return b};b.toExtent=function(a,b){return isFinite(a[2])||isFinite(a[5])?new d({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],zmin:a[2],zmax:a[5],spatialReference:b}):
new d({xmin:a[0],xmax:a[3],ymin:a[1],ymax:a[4],spatialReference:b})};b.fromMinMax=function(a,b,d){void 0===d&&(d=t());d[0]=a[0];d[1]=a[1];d[2]=a[2];d[3]=b[0];d[4]=b[1];d[5]=b[2];return d};b.expandPointInPlace=function(a,b){b[0]<a[0]&&(a[0]=b[0]);b[0]>a[3]&&(a[3]=b[0]);b[1]<a[1]&&(a[1]=b[1]);b[1]>a[4]&&(a[4]=b[1]);b[2]<a[2]&&(a[2]=b[2]);b[2]>a[5]&&(a[5]=b[2])};b.expand=function(a,b,d){void 0===d&&(d=a);m(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],
b[3]),d[4]=Math.max(a[4],b[4]),d[5]=Math.max(a[5],b[5])):q.is(b)?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[2]),d[4]=Math.max(a[4],b[3])):2===b.length?(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[3]=Math.max(a[3],b[0]),d[4]=Math.max(a[4],b[1])):3===b.length&&(d[0]=Math.min(a[0],b[0]),d[1]=Math.min(a[1],b[1]),d[2]=Math.min(a[2],b[2]),d[3]=Math.max(a[3],b[0]),d[4]=Math.max(a[4],b[1]),d[5]=Math.max(a[5],b[2]));return d};b.expandWithBuffer=function(a,b,d,e,l){void 0===
l&&(l=a);var c=a[0],h=a[1],g=a[2],k=a[3],f=a[4];a=a[5];for(var n=0;n<e;n++)c=Math.min(c,b[d+3*n]),h=Math.min(h,b[d+3*n+1]),g=Math.min(g,b[d+3*n+2]),k=Math.max(k,b[d+3*n]),f=Math.max(f,b[d+3*n+1]),a=Math.max(a,b[d+3*n+2]);l[0]=c;l[1]=h;l[2]=g;l[3]=k;l[4]=f;l[5]=a;return l};b.expandWithNestedArray=function(a,b,d,e){void 0===e&&(e=a);var c=b.length,h=a[0],g=a[1],k=a[2],m=a[3],f=a[4];a=a[5];if(d)for(d=0;d<c;d++){var n=b[d],h=Math.min(h,n[0]),g=Math.min(g,n[1]),k=Math.min(k,n[2]),m=Math.max(m,n[0]),f=
Math.max(f,n[1]);a=Math.max(a,n[2])}else for(d=0;d<c;d++)n=b[d],h=Math.min(h,n[0]),g=Math.min(g,n[1]),m=Math.max(m,n[0]),f=Math.max(f,n[1]);e[0]=h;e[1]=g;e[2]=k;e[3]=m;e[4]=f;e[5]=a;return e};b.allFinite=function(a){for(var b=0;6>b;b++)if(!isFinite(a[b]))return!1;return!0};b.width=k;b.depth=r;b.height=u;b.diameter=function(a){var b=k(a),c=u(a);a=r(a);return Math.sqrt(b*b+c*c+a*a)};b.center=function(a,b){void 0===b&&(b=[0,0,0]);b[0]=a[0]+k(a)/2;b[1]=a[1]+r(a)/2;b[2]=a[2]+u(a)/2;return b};b.size=function(a,
b){void 0===b&&(b=[0,0,0]);b[0]=k(a);b[1]=r(a);b[2]=u(a);return b};b.maximumDimension=function(a){return Math.max(k(a),u(a),r(a))};b.containsPoint=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[0]<=a[3]&&b[1]<=a[4]&&b[2]<=a[5]};b.containsPointWithMargin=function(a,b,d){return b[0]>=a[0]-d&&b[1]>=a[1]-d&&b[2]>=a[2]-d&&b[0]<=a[3]+d&&b[1]<=a[4]+d&&b[2]<=a[5]+d};b.contains=function(a,b){return b[0]>=a[0]&&b[1]>=a[1]&&b[2]>=a[2]&&b[3]<=a[3]&&b[4]<=a[4]&&b[5]<=a[5]};b.intersects=function(a,
b){return Math.max(b[0],a[0])<=Math.min(b[3],a[3])&&Math.max(b[1],a[1])<=Math.min(b[4],a[4])&&Math.max(b[2],a[2])<=Math.min(b[5],a[5])};b.offset=function(a,b,d,e,l){void 0===l&&(l=a);l[0]=a[0]+b;l[1]=a[1]+d;l[2]=a[2]+e;l[3]=a[3]+b;l[4]=a[4]+d;l[5]=a[5]+e;return l};b.setMin=function(a,b,d){void 0===d&&(d=a);d[0]=b[0];d[1]=b[1];d[2]=b[2];d!==a&&(d[3]=a[3],d[4]=a[4],d[5]=a[5]);return d};b.setMax=function(a,b,d){void 0===d&&(d=a);d[3]=b[0];d[4]=b[1];d[5]=b[2];d!==a&&(d[0]=a[0],d[1]=a[1],d[2]=a[2]);return a};
b.set=w;b.empty=function(a){return a?w(a,b.NEGATIVE_INFINITY):t(b.NEGATIVE_INFINITY)};b.toRect=function(a,b){b||(b=q.create());b[0]=a[0];b[1]=a[1];b[2]=a[3];b[3]=a[4];return b};b.fromRect=function(a,b){a[0]=b[0];a[1]=b[1];a[3]=b[2];a[4]=b[3];return a};b.is=m;b.isPoint=function(a){return 0===k(a)&&0===r(a)&&0===u(a)};b.equals=function(a,b,d){if(null==a||null==b)return a===b;if(!m(a)||!m(b))return!1;if(d)for(var c=0;c<a.length;c++){if(!d(a[c],b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;
return!0};b.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];b.NEGATIVE_INFINITY=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity];b.ZERO=[0,0,0,0,0,0]})},"esri/views/3d/support/dito":function(){define(["require","exports","../lib/gl-matrix"],function(a,b,d){function q(a,b,c,e,f,g){if(!(1E-6>d.vec3d.length2(b)))for(d.vec3d.cross(c,b,v),d.vec3d.cross(e,b,B),d.vec3d.cross(f,b,D),t(a,b,n),C[1]=n[0],E[1]=n[1],A[1]=E[1]-C[1],c=[c,e,f],e=[v,B,D],f=0;3>f;++f){t(a,c[f],
n);C[0]=n[0];E[0]=n[1];t(a,e[f],n);C[2]=n[0];E[2]=n[1];A[0]=E[0]-C[0];A[2]=E[2]-C[2];var h=w(A);h<g.quality&&(d.vec3d.set(c[f],g.b0),d.vec3d.set(b,g.b1),d.vec3d.set(e[f],g.b2),g.quality=h)}}function t(a,b,c){var d=a.data,e=a.offsetIdx;a=a.strideIdx;c[0]=Number.POSITIVE_INFINITY;for(c[1]=Number.NEGATIVE_INFINITY;e<d.length;e+=a){var f=d[e]*b[0]+d[e+1]*b[1]+d[e+2]*b[2];c[0]=Math.min(c[0],f);c[1]=Math.max(c[1],f)}}function k(a,b,c){d.vec3d.set(a,c.center);d.vec3d.scale(b,.5,c.halfSize);d.quat4.identity(c.quaternion)}
function r(a,b,c,d,e,f){t(a,b,n);e[0]=n[0];f[0]=n[1];t(a,c,n);e[1]=n[0];f[1]=n[1];t(a,d,n);e[2]=n[0];f[2]=n[1]}function u(a,b,c,e,f,g,h){F[0]=a[0];F[3]=a[1];F[6]=a[2];F[1]=b[0];F[4]=b[1];F[7]=b[2];F[2]=c[0];F[5]=c[1];F[8]=c[2];d.quat4.fromRotationMatrix(F,h.quaternion);d.vec3d.add(e,f,ba);d.vec3d.scale(ba,.5);d.vec3d.scale(a,ba[0],h.center);d.vec3d.scale(b,ba[1],I);d.vec3d.add(h.center,I);d.vec3d.scale(c,ba[2],I);d.vec3d.add(h.center,I);d.vec3d.scale(g,.5,h.halfSize)}function w(a){return a[0]*a[1]+
a[0]*a[2]+a[1]*a[2]}Object.defineProperty(b,"__esModule",{value:!0});var m=d.vec3d.create(),c=d.vec3d.create();b.computeOBB=function(a,b){var v=a.data.length/a.strideIdx;if(!(0>=v)){var t=new fa(a);d.vec3d.add(t.minProj,t.maxProj,m);d.vec3d.scale(m,.5);d.vec3d.subtract(t.maxProj,t.minProj,c);var B=w(c),A=new ga;A.quality=B;14>v&&(a={data:new Float64Array(t.buffer,112,42),size:3,offsetIdx:0,strideIdx:3});var D=d.vec3d.create(),T=d.vec3d.create(),E=d.vec3d.create(),v=d.vec3d.create(),C=d.vec3d.create(),
Z=d.vec3d.create(),F=d.vec3d.create(),M;M=a;for(var I=d.vec3d.dist2(t.maxVert[0],t.minVert[0]),Q=0,N=1;7>N;++N){var U=d.vec3d.dist2(t.maxVert[N],t.minVert[N]);U>I&&(I=U,Q=N)}d.vec3d.set(t.minVert[Q],D);d.vec3d.set(t.maxVert[Q],T);if(1E-6>d.vec3d.dist2(D,T))M=1;else{d.vec3d.subtract(D,T,v);d.vec3d.normalize(v);t=M.data;I=M.strideIdx;Q=Number.NEGATIVE_INFINITY;N=0;for(U=M.offsetIdx;U<t.length;U+=I){d.vec3d.set3(t[U]-D[0],t[U+1]-D[1],t[U+2]-D[2],f);var R=v[0]*f[0]+v[1]*f[1]+v[2]*f[2],aa=d.vec3d.length2(v),
R=d.vec3d.length2(f)-R*R/aa;R>Q&&(Q=R,N=U)}d.vec3d.set3(t[N],t[N+1],t[N+2],E);1E-6>Q?M=2:(d.vec3d.subtract(T,E,C),d.vec3d.normalize(C),d.vec3d.subtract(E,D,Z),d.vec3d.normalize(Z),d.vec3d.cross(C,v,F),d.vec3d.normalize(F),q(M,F,v,C,Z,A),M=0)}switch(M){case 1:k(m,c,b);return;case 2:B=a;d.vec3d.set(v,H);Math.abs(v[0])>Math.abs(v[1])&&Math.abs(v[0])>Math.abs(v[2])?H[0]=0:Math.abs(v[1])>Math.abs(v[2])?H[1]=0:H[2]=0;1E-6>d.vec3d.length2(H)&&(H[0]=H[1]=H[2]=1);d.vec3d.cross(v,H,O);d.vec3d.normalize(O);
d.vec3d.cross(v,O,P);d.vec3d.normalize(P);r(B,v,O,P,J,K);d.vec3d.subtract(K,J,S);u(v,O,P,J,K,S,b);return}M=a;t=h;I=g;Q=n;N=M.data;R=M.offsetIdx;U=M.strideIdx;d.vec3d.set3(N[R],N[R+1],N[R+2],I);d.vec3d.set(I,t);Q[0]=d.vec3d.dot(G,F);Q[1]=Q[0];for(R+=U;R<N.length;R+=U)d.vec3d.set3(N[R],N[R+1],N[R+2],G),aa=d.vec3d.dot(G,F),aa<Q[0]&&(Q[0]=aa,d.vec3d.set(G,I)),aa>Q[1]&&(Q[1]=aa,d.vec3d.set(G,t));F=d.vec3d.dot(D,F);n[1]-1E-6<=F&&(t[0]=void 0);n[0]+1E-6>=F&&(I[0]=void 0);void 0!==h[0]&&(d.vec3d.subtract(h,
D,e),d.vec3d.normalize(e),d.vec3d.subtract(h,T,l),d.vec3d.normalize(l),d.vec3d.subtract(h,E,x),d.vec3d.normalize(x),d.vec3d.cross(l,v,p),d.vec3d.normalize(p),d.vec3d.cross(x,C,y),d.vec3d.normalize(y),d.vec3d.cross(e,Z,z),d.vec3d.normalize(z),q(M,p,v,l,e,A),q(M,y,C,x,l,A),q(M,z,Z,e,x,A));void 0!==g[0]&&(d.vec3d.subtract(g,D,e),d.vec3d.normalize(e),d.vec3d.subtract(g,T,l),d.vec3d.normalize(l),d.vec3d.subtract(g,E,x),d.vec3d.normalize(x),d.vec3d.cross(l,v,p),d.vec3d.normalize(p),d.vec3d.cross(x,C,y),
d.vec3d.normalize(y),d.vec3d.cross(e,Z,z),d.vec3d.normalize(z),q(M,p,v,l,e,A),q(M,y,C,x,l,A),q(M,z,Z,e,x,A));r(a,A.b0,A.b1,A.b2,J,K);a=d.vec3d.create();d.vec3d.subtract(K,J,a);A.quality=w(a);A.quality<B?u(A.b0,A.b1,A.b2,J,K,a,b):k(m,c,b)}};var h=d.vec3d.create(),g=d.vec3d.create(),e=d.vec3d.create(),l=d.vec3d.create(),x=d.vec3d.create(),p=d.vec3d.create(),y=d.vec3d.create(),z=d.vec3d.create(),f=d.vec3d.create(),n=d.vec2d.create(),v=d.vec3d.create(),B=d.vec3d.create(),D=d.vec3d.create(),E=d.vec3d.create(),
C=d.vec3d.create(),A=d.vec3d.create(),G=d.vec3d.create(),H=d.vec3d.create(),O=d.vec3d.create(),P=d.vec3d.create(),J=d.vec3d.create(),K=d.vec3d.create(),S=d.vec3d.create(),I=d.vec3d.create(),F=d.mat3.create(),ba=d.vec3d.create(),fa=function(){return function(a){this.minVert=[];this.maxVert=[];this.buffer=new ArrayBuffer(448);var b=0;this.minProj=new Float64Array(this.buffer,b,7);b+=56;this.maxProj=new Float64Array(this.buffer,b,7);for(b+=56;7>this.minVert.length;)this.minVert.push(new Float64Array(this.buffer,
b,3)),b+=24;for(;7>this.maxVert.length;)this.maxVert.push(new Float64Array(this.buffer,b,3)),b+=24;for(b=0;7>b;++b)this.minProj[b]=Number.POSITIVE_INFINITY,this.maxProj[b]=Number.NEGATIVE_INFINITY;for(var c=[],e=[],f=a.data,g=a.strideIdx,b=a.offsetIdx;b<f.length;b+=g)a=f[b],a<this.minProj[0]&&(this.minProj[0]=a,c[0]=b),a>this.maxProj[0]&&(this.maxProj[0]=a,e[0]=b),a=f[b+1],a<this.minProj[1]&&(this.minProj[1]=a,c[1]=b),a>this.maxProj[1]&&(this.maxProj[1]=a,e[1]=b),a=f[b+2],a<this.minProj[2]&&(this.minProj[2]=
a,c[2]=b),a>this.maxProj[2]&&(this.maxProj[2]=a,e[2]=b),a=f[b]+f[b+1]+f[b+2],a<this.minProj[3]&&(this.minProj[3]=a,c[3]=b),a>this.maxProj[3]&&(this.maxProj[3]=a,e[3]=b),a=f[b]+f[b+1]-f[b+2],a<this.minProj[4]&&(this.minProj[4]=a,c[4]=b),a>this.maxProj[4]&&(this.maxProj[4]=a,e[4]=b),a=f[b]-f[b+1]+f[b+2],a<this.minProj[5]&&(this.minProj[5]=a,c[5]=b),a>this.maxProj[5]&&(this.maxProj[5]=a,e[5]=b),a=f[b]-f[b+1]-f[b+2],a<this.minProj[6]&&(this.minProj[6]=a,c[6]=b),a>this.maxProj[6]&&(this.maxProj[6]=a,e[6]=
b);for(b=0;7>b;++b)a=c[b],d.vec3d.set3(f[a],f[a+1],f[a+2],this.minVert[b]),a=e[b],d.vec3d.set3(f[a],f[a+1],f[a+2],this.maxVert[b])}}(),ga=function(){return function(){this.b0=d.vec3d.createFrom(1,0,0);this.b1=d.vec3d.createFrom(0,1,0);this.b2=d.vec3d.createFrom(0,0,1);this.quality=0}}()})},"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":function(){define(["require","exports","./ComponentUtils","./geometryDataUtils","../../../webgl/Util"],function(a,b,d,q,t){function k(a){switch(a){case 5120:return Int8Array;
case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}return function(){function a(b,r,m,c,h,g){void 0===m&&(m=null);void 0===c&&(c=a.DefaultOffsets);void 0===h&&(h=a.DefaultIndices);void 0===g&&(g=!1);this._freeDataAfterUse=g;this.preinterleaved=!0;this.primitiveType="triangle";this._positionData=null;g=t.getStride(r)/4;g=b.length/g;(this._hasDefaultIndices=
h===a.DefaultIndices)&&(h=q.generateDefaultIndexArray(g));g={};for(var e=0;e<r.length;e++){var l=r[e],u=new (k(l.type))(b.buffer),p=t.getBytesPerElement(l.type);g[l.name]={data:u,size:l.count,offsetIdx:l.offset/p,strideIdx:l.stride/p}}m&&(this._positionData=m,g.position={data:m.data,size:3,offsetIdx:0,strideIdx:3});this._id=q.getNewId();this._vertexData=b;this._vertexAttributes=g;this._layout=r;this._indexData=h;this._componentOffsets=d.createOffsets(c);this._gpuMemoryUsage=b.byteLength+(this._hasDefaultIndices?
0:h.byteLength)}Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,configurable:!0});a.prototype.toRenderData=function(){var a={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,
indexCount:this._indexData.length,vertexData:this._vertexData,layout:this._layout};this._freeDataAfterUse&&(this._indexData=this._vertexData=null,this._vertexAttributes={position:this._vertexAttributes.position});return a};a.prototype.getIndices=function(a){return"position"===a&&this._positionData?this._positionData.indices:this._indexData};a.prototype.getAttribute=function(a){return this._vertexAttributes[a]};a.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage};Object.defineProperty(a.prototype,
"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0});a.DefaultOffsets=new Uint32Array(0);a.DefaultIndices=new Uint32Array(0);return a}()})},"esri/views/3d/webgl-engine/lib/ComponentUtils":function(){define(["require","exports","../../../../core/arrayUtils"],function(a,b,d){function q(a,b){if(null!=a){var c=a.isVisibleBit,e=a.data,d=8*e.BYTES_PER_ELEMENT;return b<e.length*d?g(c,e,b,d):!a.isVisibleBit}return!0}function t(a){return null===a.component?-1:a.component}
function k(a,b,c,e,d){q(b,e)&&r(a,b,c,c[e],c[e+1]-1,d)}function r(a,b,c,e,d,g){c=(b=0<a.length?a[a.length-1]:null)?b.range[1]:-1;var f=b?b.options:null;c>=e||(c+1===e&&f===g?b.range[1]=d:a.push({range:[e,d],options:g}))}function u(a){void 0===a&&(a=!0);return{isVisibleBit:!a,data:new Uint32Array(0)}}function w(a,b){return c(a,b,!0)}function m(a,b){return c(a,b,!1)}function c(a,b,c){var d=!1;a=a||l;d=a.isVisibleBit;a=a.data;b=e(b);var g=8*a.BYTES_PER_ELEMENT,h=a.length*g;c=c===d;if(0===a.length||0===
b)d=!c;else if(h<b&&!c)d=!0;else{for(var p=x[g],h=x[0],k=0;k<a.length-1;k++)if(d=!c&&a[k]!==p||c&&a[k]!==h)return d;d=a.length-1;b=x[(b-1)%g+1];d=!c&&(a[d]&b)!==b||c&&(a[d]&b)!==h}return d}function h(a){return 0<a.length}function g(a,b,c,d){var e=c/d|0;return 0!==(b[e]&1<<c-e*d)===a}function e(a){return Math.max(0,a.length-1)}Object.defineProperty(b,"__esModule",{value:!0});b.updateVisibility=function(a,b,c,d){if(c<e(b)){null==a&&(a=u());var f=a.isVisibleBit,g=a.data,h=8*g.BYTES_PER_ELEMENT,p=c/h|
0,l=c-h*p;b=(e(b)-1)/h|0;var k=g;d=d===f;c<k.length*h||!d||(c=Math.max(p+1,Math.ceil(1.5*k.length)),c=Math.min(c,b+1),g=new Uint32Array(c),g.set(k));p<g.length&&(g[p]=g[p]&~(1<<l)|(d?1:0)<<l);a.data=g}return a};b.getVisibility=q;b.hideAllComponents=function(a){if(null==a)a=u(!1);else{a.isVisibleBit=!0;for(var b=0;b<a.data.length;b++)a.data[b]=0}return a};b.unhideAllComponents=function(a){var b;if(null!=a)for(b=a,b.isVisibleBit=!1,a=0;a<b.data.length;a++)b.data[a]=0;return b};b.generateVisibleIndexRanges=
function(a,b){var c;if(a)if(h(b))if(0===a.data.length)c=[],b=[[b[0],b[b.length-1]-1]],c=a.isVisibleBit?c:b;else{c=[];for(var d=a.isVisibleBit,p=a.data,l=8*p.BYTES_PER_ELEMENT,k=p.length*l,m=e(b),q=!1,r=0;r<k&&r<m;r++){var t=g(d,p,r,l);if(t!==q){var u=b[r];t?c.push([u,0]):(q=c[c.length-1],q[1]=u-1);q=t}}a=!a.isVisibleBit;m>k&&a&&!q?c.push([b[k],b[m]-1]):q&&(q=c[c.length-1],q[1]=b[a?m:Math.min(m,k)]-1)}else c=[],c=a.isVisibleBit?c:null;else c=null;return c};b.addHighlight=function(a,b,c,d){a=a||[];
b={component:b,options:c,id:d};a.push(b);c=t(b);for(d=a.length-1;0<d&&c<t(a[d-1]);)b=[a[d],a[d-1]],a[d-1]=b[0],a[d]=b[1],--d;return a};b.removeHighlight=function(a,b){return a?(a=a.filter(function(a){return a.id!==b}),0===a.length?null:a):a};b.generateHighlightedIndexRanges=function(a,b,c){if(!b)return null;if(!h(c))return a&&a.isVisibleBit?null:b.map(function(a){return{range:null,options:a.options}});for(var d=c[0],g=c[c.length-1]-1,l=[],p=!m(a,c),q=0;q<b.length;++q){var t=b[q].options,u=b[q].component;
if(null!==u)k(l,a,c,u,t);else if(p)r(l,a,c,d,g,t);else for(u=0;u<e(c);++u)k(l,a,c,u,t)}return 0<l.length?l:null};b.defaultVisibilities=u;b.isAllVisible=function(a,b){return!m(a,b)};b.isAllHidden=function(a,b){return!w(a,b)};b.hasVisible=w;b.hasHidden=m;var l=u();b.createOffsets=function(a){return Array.isArray(a)?new Uint32Array(a):a};b.hasComponent=function(a,b){return b<e(a)};b.hasComponents=h;var x=[];for(a=0;65>a;a++)x.push(Math.pow(2,a)-1);b.componentCount=e;b.componentFind=function(a,b){a=d.binaryIndexOf(a,
b,!0);return 0<=a?a:null}})},"esri/core/arrayUtils":function(){define(["require","exports"],function(a,b){function d(a,b,d){for(var c=a.length,g=0;g<c;g++)if(b.call(d,a[g],g,a))return g;return-1}function q(a,b,d,e){void 0===d&&(d=a.length);e=e||m;for(var c=Math.max(0,e.last-10),g=-1,h=c;h<d;++h)if(a[h]===b){g=h;break}if(-1===g){for(h=0;h<c;++h)if(a[h]===b){g=h;break}if(-1===g)return}a[g]=a[d-1];a.pop();e.last=g;return b}function t(a,b,d,e){void 0===d&&(d=a.length);var c=[];b.forEach(function(b){void 0!==
q(a,b,d,e)&&(c.push(b),--d)});return c}function k(a,b){return-1===a.indexOf(b)}function r(a,b,d){return!a.some(b.bind(null,d))}function u(a){return a}Object.defineProperty(b,"__esModule",{value:!0});b.findIndex=d;b.find=function(a,b,d){for(var c=a.length,g=0;g<c;g++){var h=a[g];if(b.call(d,h,g,a))return h}};b.unique=function(a){return a.filter(function(a,b,c){return c.indexOf(a)===b})};b.equals=function(a,b,d){if(!a&&!b)return!0;if(!a||!b||a.length!==b.length)return!1;if(d)for(var c=0;c<a.length;c++){if(!d(a[c],
b[c]))return!1}else for(c=0;c<a.length;c++)if(a[c]!==b[c])return!1;return!0};b.difference=function(a,b,d){var c;d?(c=b.filter(r.bind(null,a,d)),a=a.filter(r.bind(null,b,d))):(c=b.filter(k.bind(null,a)),a=a.filter(k.bind(null,b)));return{added:c,removed:a}};b.intersect=function(a,b,g){return a&&b?g?a.filter(function(a){return-1<d(b,function(b){return g(a,b)})}):a.filter(function(a){return-1<b.indexOf(a)}):[]};b.constant=function(a,b){for(var c=Array(a),d=0;d<a;d++)c[d]=b;return c};b.range=function(a,
b){void 0===b&&(b=a,a=0);for(var c=Array(b-a),d=a;d<b;d++)c[d-a]=d;return c};b.binaryIndexOf=function(a,b,d){for(var c=a.length,g=0,h=c-1;g<h;){var k=g+Math.floor((h-g)/2);b>a[k]?g=k+1:h=k}h=a[g];return d?b>=a[c-1]?-1:h===b?g:g-1:h===b?g:-1};var w=function(){return function(){this.last=0}}();b.RemoveHint=w;var m=new w;a=function(){return function(a){var b=this;this._array=a;this._hint=new w;this.remove=function(a){return q(b._array,a,b._array.length,b._hint)};this.removeMany=function(a){return t(b._array,
a,b._array.length,b._hint)}}}();b.UnorderedRemover=a;b.removeUnordered=q;b.removeUnorderedMany=t;b.keysOfMap=function(a){var b=[];a.forEach(function(a,c){return b.push(c)});return b};b.keysOfSet=function(a,b){void 0===b&&(b=u);var c=[];a.forEach(function(a){return c.push(b(a))});return c};b.fromMapValues=function(a){if(Array.from)return Array.from(a.values());var b=Array(a.size),c=0;a.forEach(function(a){b[c++]=a});return b}})},"esri/views/3d/webgl-engine/lib/geometryDataUtils":function(){define(["require",
"exports"],function(a,b){Object.defineProperty(b,"__esModule",{value:!0});var d=1,q=null;b.generateDefaultIndexArray=function(a){if(a>d||null==q){for(;a>d;)d*=2;q=new Uint32Array(d);for(var b=0;b<d;b++)q[b]=b}return new Uint32Array(q.buffer,0,a)};var t=0;b.getNewId=function(){return t++}})},"esri/views/webgl/Util":function(){define(["require","exports","../../core/tsSupport/assignHelper","../../core/Error"],function(a,b,d,q){function t(a){return a[0].stride}function k(a){switch(a){case 5126:return 4;
case 5124:return 4;case 5125:return 4;case 5122:return 2;case 5123:return 2;case 5120:return 1;case 5121:return 1;default:throw Error("Unknown data type");}}Object.defineProperty(b,"__esModule",{value:!0});b.vertexCount=function(a,b){return a.vertexBuffers[b].size/t(a.layout[b])};b.getStride=t;b.getBytesPerElement=k;b.addDescriptor=function(a,b,d,m,c,h){var g=k(m);if(0<a.length){var e=a[0].stride,l=e+g*d;a.forEach(function(a){return a.stride=l});a.push({name:b,count:d,type:m,offset:e,stride:l,normalized:c,
divisor:h})}else a.push({name:b,count:d,type:m,offset:0,stride:g*d,normalized:c,divisor:h})};b.assertCompatibleVertexAttributeLocations=function(a,b){(a=a.locations===b.locations)||console.error("VertexAttributeLocations are incompatible");return a};b.hasAttribute=function(a,b){for(var d=0;d<a.length;d++)if(a[d].name===b)return!0;return!1};b.findAttribute=function(a,b){for(var d=0;d<a.length;d++)if(a[d].name===b)return a[d];return null};b.copyFramebufferToTexture=function(a,b,d,k,c){void 0===c&&(c=
0);var h=a.getBoundFramebufferObject(),g=a.getBoundTexture(0);a.bindFramebuffer(b);a.bindTexture(d,0);a.gl.copyTexImage2D(a.gl.TEXTURE_2D,c,d.descriptor.pixelFormat,k[0],k[1],k[2],k[3],0);a.gl.flush();a.bindFramebuffer(h);a.bindTexture(g,0)};b.assert=function(a,b){if(!a)throw new q(b);};b.setBaseInstanceOffset=function(a,b){var k={},m;for(m in a)k[m]=a[m].map(function(a){return a.divisor?d({},a,{baseInstance:b}):a});return k};b.bindVertexBufferLayout=function(a,b,d,k,c){var h=a.gl,g=a.capabilities.instancing;
a.bindBuffer(d);k.forEach(function(a){var d=b[a.name],e=(c?c:0+a.baseInstance?a.baseInstance:0)*a.stride;void 0===d&&console.error("There is no location for vertex attribute '"+a.name+"' defined.");a.baseInstance&&!a.divisor&&console.error("Vertex attribute '"+a.name+"' uses baseInstanceOffset without divisor.");if(4>=a.count)h.vertexAttribPointer(d,a.count,a.type,a.normalized,a.stride,a.offset+e),h.enableVertexAttribArray(d),a.divisor&&0<a.divisor&&g&&g.vertexAttribDivisor(d,a.divisor);else if(9===
a.count)for(var k=0;3>k;k++)h.vertexAttribPointer(d+k,3,a.type,a.normalized,a.stride,a.offset+12*k+e),h.enableVertexAttribArray(d+k),a.divisor&&0<a.divisor&&g&&g.vertexAttribDivisor(d+k,a.divisor);else if(16===a.count)for(k=0;4>k;k++)h.vertexAttribPointer(d+k,4,a.type,a.normalized,a.stride,a.offset+16*k+e),h.enableVertexAttribArray(d+k),a.divisor&&0<a.divisor&&g&&g.vertexAttribDivisor(d+k,a.divisor);else console.error("Unsupported vertex attribute element count: "+a.count)})};b.unbindVertexBufferLayout=
function(a,b,d,k){var c=a.gl,h=a.capabilities.instancing;a.bindBuffer(d);k.forEach(function(a){var d=b[a.name];if(4>=a.count)c.disableVertexAttribArray(d),a.divisor&&0<a.divisor&&h&&h.vertexAttribDivisor(d,0);else if(9===a.count)for(var g=0;3>g;g++)c.disableVertexAttribArray(d+g),a.divisor&&0<a.divisor&&h&&h.vertexAttribDivisor(d+g,0);else if(16===a.count)for(g=0;4>g;g++)c.disableVertexAttribArray(d+g),a.divisor&&0<a.divisor&&h&&h.vertexAttribDivisor(d+g,0);else console.error("Unsupported vertex attribute element count: "+
a.count)});a.unbindBuffer(34962)}})},"*noref":1}});
define("require exports ../../../core/promiseUtils ../../../geometry/SpatialReference ./i3s/I3SGeometryUtil ./i3s/I3SProjectionUtil ../lib/gl-matrix ../support/meshProcessing ../support/orientedBoundingBox ../support/projectionUtils ../webgl-engine/lib/PreinterleavedGeometryData ../webgl-engine/lib/Util".split(" "),function(a,b,d,q,t,k,r,u,w,m,c,h){a=function(){function a(){}a.prototype.process=function(a){var b=[a.geometryBuffer];return d.resolve({result:this.transform(a,b),transferList:b})};a.prototype.transform=
function(a,b){var d=q.fromJSON(a.indexSR),f=q.fromJSON(a.vertexSR),l=q.fromJSON(a.renderSR),p=!1,y=0,x=[],E=k.computeGlobalTransformation(a.mbs,a.elevationOffset,d,l),C=a.obb?null:w.create([0,0,0],[-1,-1,-1],[0,0,0,1]);r.vec3d.set(a.mbs,g);g[2]+=a.elevationOffset;r.vec3d.set(g,e);for(var A=0,G=a.geometryData;A<G.length;A++)for(var H=G[A],O=H.componentOffsets,P=0,H=H.geometries;P<H.length;P++){var J=H[P],K=a.layouts[y];++y;var S=t.interleaveGeometryBuffer(J,a.geometryBuffer,K,[{name:h.VertexAttrConstants.COLOR,
byteValue:255}],[h.VertexAttrConstants.NORMAL,h.VertexAttrConstants.NORMALCOMPRESSED,h.VertexAttrConstants.SYMBOLCOLOR,h.VertexAttrConstants.COMPONENTINDEX]),I=new c(new Float32Array(S),K,void 0,void 0,void 0,!0),F=I.getAttribute(h.VertexAttrConstants.POSITION);k.reprojectPoints(F,a.mbs,E,a.elevationOffset,d,f,l);C&&this._updateObb(C,F,E);a.needNormals&&(F={normals:I.getAttribute(h.VertexAttrConstants.NORMALCOMPRESSED),positions:F,normalInd:I.getIndices(h.VertexAttrConstants.NORMALCOMPRESSED),positionInd:I.getIndices(h.VertexAttrConstants.POSITION)},
t.processAndInterleaveNormals(a.normalReferenceFrame,J,a.geometryBuffer,E,F));(J=I.getAttribute(h.VertexAttrConstants.COMPONENTINDEX))&&this._createComponentNumbers(J,O);(I=I.getAttribute(h.VertexAttrConstants.COLOR))&&!p&&(p=this._hasColors(I));I={globalTrafo:E};J=K[0].stride;J=u.deduplicate(S,J/4,1-.8*J/(J+4));null!=J?(S=65536>J.uniqueCount?new Uint16Array(J.indices):J.indices,F=t.extractPositionData(J.buffer,K,S),x.push({layout:K,interleavedVertexData:J.buffer,indices:S,corMatrices:I,hasColors:p,
positionData:F}),b&&(b.push(J.buffer),b.push(S.buffer),b.push(F.data.buffer),b.push(F.indices.buffer))):(F=t.extractPositionData(S,K),x.push({layout:K,interleavedVertexData:S,corMatrices:I,hasColors:p,positionData:F}),b&&(b.push(S),b.push(F.data.buffer),b.push(F.indices.buffer)))}C&&(r.mat4d.multiplyVec3(E,C.center,C.center),m.vectorToVector(C.center,l,C.center,d),C.center[2]-=a.elevationOffset);return{geometryBuffer:a.geometryBuffer,transformedGeometries:x,obb:C}};a.prototype._hasColors=function(a){var b=
a.data,c=a.size,d=a.strideIdx;for(a=a.offsetIdx;a<b.length;a+=d)for(var e=0;e<c;e++)if(255!==b[a+e])return!0;return!1};a.prototype._createComponentNumbers=function(a,b){var c=a.data,d=a.strideIdx,e=c.length/d,g=0;a=a.offsetIdx;for(var h=0;h<e;h++)h>=b[g+1]&&g++,c[a]=g,a+=d};a.prototype._updateObb=function(a,b,c){if(0<a.halfSize[0]){r.vec3d.subtract(a.center,a.halfSize,g);r.vec3d.add(a.center,a.halfSize,e);for(c=b.offsetIdx;c<b.data.length;c+=b.strideIdx)g[0]=Math.min(g[0],b.data[c]),g[1]=Math.min(g[1],
b.data[c+1]),g[2]=Math.min(g[2],b.data[c+2]),e[0]=Math.max(e[0],b.data[c]),e[1]=Math.max(e[1],b.data[c+1]),e[2]=Math.max(e[2],b.data[c+2]);r.vec3d.subtract(e,g,a.halfSize);r.vec3d.scale(a.halfSize,.5);r.vec3d.add(g,e,a.center);r.vec3d.scale(a.center,.5)}else w.compute(b,a),b=2*Math.sqrt(1+c[0]+c[5]+c[10]),l[0]=(c[9]-c[6])/b,l[1]=(c[2]-c[8])/b,l[2]=(c[4]-c[1])/b,l[3]=.25*b,r.quat4.conjugate(l),r.quat4.multiply(l,a.quaternion,a.quaternion)};return a}();var g=r.vec3d.create(),e=r.vec3d.create(),l=r.quat4.create();
return a});