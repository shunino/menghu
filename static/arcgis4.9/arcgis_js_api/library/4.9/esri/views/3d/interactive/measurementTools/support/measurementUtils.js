// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.9/esri/copyright.txt for details.
//>>built
define("require exports ../../../../../geometry/geometryEngine ../../../../../geometry/Polygon ../../../../../geometry/SpatialReference ../../../../../geometry/support/geodesicUtils ../../../lib/gl-matrix ../../../support/mathUtils ../../../support/mathUtils ../../../support/projectionUtils".split(" "),function(y,z,u,v,p,t,d,h,w,m){var q;(function(f){f.boundingSphere=function(a,b){var c=b.center;d.vec3d.set3(0,0,0,c);for(var n=0;n<a.length;++n)d.vec3d.add(c,a[n]);d.vec3d.scale(c,1/a.length);for(var e=
0,n=0;n<a.length;++n)e=Math.max(e,d.vec3d.dist2(c,a[n]));b.radius=Math.sqrt(e)};f.bestFitPlane=function(a,b){if(3>a.length)throw Error("need at least 3 points to fit a plane");w.planeFromPoints(a[0],a[1],a[2],b)};f.planePointDistance=function(a,b){return d.vec3d.dot(a,b)+a[3]};f.segmentLengthEuclidean=function(a,b,c){m.pointToVector(a,k,c);m.pointToVector(b,l,c);return d.vec3d.dist(k,l)};f.segmentLengthGeodesic=function(a,b){var c=p.WGS84;m.pointToVector(a,k,c);m.pointToVector(b,l,c);return t.inverseGeodeticSolver(h.deg2rad(k[1]),
h.deg2rad(k[0]),h.deg2rad(l[1]),h.deg2rad(l[0])).geodesicDistance};f.segmentLengthGeodesicVector=function(a,b){return t.inverseGeodeticSolver(h.deg2rad(a[1]),h.deg2rad(a[0]),h.deg2rad(b[1]),h.deg2rad(b[0])).geodesicDistance};f.triangleAreaEuclidean=function(a,b,c){return.5*Math.abs((b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0]))};f.triangleAreaGeodesic=function(a,b,c,d){var e=x;m.vectorToVector(a,d,k,p.WGS84);m.vectorToVector(b,d,l,p.WGS84);m.vectorToVector(c,d,r,p.WGS84);e.setPoint(0,0,k);e.setPoint(0,
1,l);e.setPoint(0,2,r);return Math.abs(u.geodesicArea(e,"square-meters"))};f.tangentFrame=function(a,b,c){Math.abs(a[0])>Math.abs(a[1])?d.vec3d.set3(0,1,0,b):d.vec3d.set3(1,0,0,b);d.vec3d.cross(a,b,c);d.vec3d.normalize(b);d.vec3d.cross(c,a,b);d.vec3d.normalize(c)};f.fitHemisphere=function(a,b,c){void 0===b&&(b=null);void 0===c&&(c=!0);var f=function(a,b){if(0===b[0]&&0===b[1]&&0===b[2])return!1;for(var c=0;c<a.length;++c)if(-1E-6>d.vec3d.dot(b,a[c]))return!1;return!0};if(0===a.length)return!1;if(1===
a.length)return b&&d.vec3d.set(a[0],b),!0;d.vec3d.set3(0,0,0,g);for(var e=0;e<a.length;++e)d.vec3d.add(g,a[e]);d.vec3d.normalize(g);if(f(a,g))return b&&d.vec3d.set(g,b),!0;if(!c)return!1;for(e=0;e<a.length;++e)for(c=0;c<a.length;++c)if(e!==c&&(d.vec3d.cross(a[e],a[c],g),d.vec3d.normalize(g),f(a,g)))return b&&d.vec3d.set(g,b),!0;return!1};f.compareSets=function(a,b){if(a===b)return!0;if(a.size!==b.size)return!1;for(var c=0;c<a.size;++c)if(!b.has(a[c]))return!1;return!0}})(q||(q={}));var k=[0,0,0],
l=[0,0,0],r=[0,0,0],x=new v({rings:[[k,l,r]],spatialReference:p.WGS84}),g=d.vec3d.create();return q});