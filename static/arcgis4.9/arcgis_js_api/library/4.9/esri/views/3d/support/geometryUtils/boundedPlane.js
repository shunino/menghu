// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.9/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../core/Logger","../../lib/gl-matrix","./plane"],function(r,c,p,b,f){function k(a){void 0===a&&(a=c.UP);return{origin:b.vec3d.create(a.origin),basis1:b.vec3d.create(a.basis1),basis2:b.vec3d.create(a.basis2)}}function l(a,b){void 0===b&&(b=f.create());return f.fromVectorsAndPoint(a.basis2,a.basis1,a.origin,b)}function m(a,e){b.vec3d.subtract(e,a.origin,g);e=b.vec3d.length2(a.basis1);var c=b.vec3d.length2(a.basis2),d=b.vec3d.dot(a.basis1,g);a=b.vec3d.dot(a.basis2,
g);return 0>-d-e&&0>d-e&&0>-a-c&&0>a-c}Object.defineProperty(c,"__esModule",{value:!0});var q=p.getLogger("esri.views.3d.support.geometryUtils.boundedPlane");c.create=k;c.set=function(a,e){b.vec3d.set(e.origin,a.origin);b.vec3d.set(e.basis1,a.basis1);b.vec3d.set(e.basis2,a.basis2);return a};c.fromValues=function(a,e,c,d){void 0===d&&(d=k());b.vec3d.set(a,d.origin);b.vec3d.set(e,d.basis1);b.vec3d.set(c,d.basis2);1E-6<Math.abs(b.vec3d.dot(d.basis1,d.basis2))&&q.warn("fromValues()","Provided basis vectors are not perpendicular");
return d};c.toPlane=l;c.intersectRay=function(a,b,c,d){l(a,n);return f.intersectRay(n,b,c,d)?m(a,b):!1};c.extrusionContainsPoint=function(a,c){b.vec3d.cross(a.basis1,a.basis2,h);var e=-b.vec3d.dot(h,a.origin);return 0>b.vec3d.dot(h,c)+e&&m(a,c)};var n=f.create(),g=b.vec3d.create(),h=b.vec3d.create();c.UP={origin:b.vec3d.createFrom(0,0,0),basis1:b.vec3d.createFrom(1,0,0),basis2:b.vec3d.createFrom(0,1,0)}});