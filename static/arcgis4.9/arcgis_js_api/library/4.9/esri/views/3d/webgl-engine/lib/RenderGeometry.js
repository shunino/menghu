// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.9/esri/copyright.txt for details.
//>>built
define(["require","exports","../../lib/gl-matrix"],function(q,r,c){return function(){function a(d,b,a,e,g,h,k,l,m,n,p){this.shaderTransformationDirty=!0;this.data=d.toRenderData();this.componentOffsets=d.componentOffsets;this.boundingInfo=b;this.material=a;this.origin=null;this.center=c.vec3d.create();this.bsRadius=0;this.transformation=null;this.calculateShaderTransformation=g;e&&this.updateTransformation(e,h);this.castShadow=k;this.singleUse=l;this.name=m;this.uniqueName=n;this.idx=p;this.canBeMerged=
!0;this.instanceParameters={}}a.prototype.updateTransformation=function(a,b){this.transformation=a;this.shaderTransformationDirty=!0;this.bsRadius=this.getBoundingSphere(a,b,this.center)};a.prototype.shaderTransformationChanged=function(){this.shaderTransformationDirty=!0};a.prototype.getBoundingSphere=function(a,b,f){b=b||c.mat4d.maxScale(a);c.mat4d.multiplyVec3(a,this.boundingInfo.getCenter(),f);return this.boundingInfo.getBSRadius()*b};Object.defineProperty(a.prototype,"hasShaderTransformation",
{get:function(){return!!this.calculateShaderTransformation},enumerable:!0,configurable:!0});a.prototype.getShaderTransformation=function(){return this.calculateShaderTransformation?(this.shaderTransformationDirty&&(this.shaderTransformation||(this.shaderTransformation=c.mat4d.create()),c.mat4d.set(this.calculateShaderTransformation(this.transformation),this.shaderTransformation),this.shaderTransformationDirty=!1),this.shaderTransformation):this.transformation};return a}()});